var CI=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},le={exports:{}},Dn={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var K1=Object.getOwnPropertySymbols,PI=Object.prototype.hasOwnProperty,II=Object.prototype.propertyIsEnumerable;function kI(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function MI(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},i=0;i<10;i++)n["_"+String.fromCharCode(i)]=i;var a=Object.getOwnPropertyNames(n).map(function(m){return n[m]});if(a.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(m){p[m]=m}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Y1=MI()?Object.assign:function(e,n){for(var i,a=kI(e),p,m=1;m<arguments.length;m++){i=Object(arguments[m]);for(var s in i)PI.call(i,s)&&(a[s]=i[s]);if(K1){p=K1(i);for(var _=0;_<p.length;_++)II.call(i,p[_])&&(a[p[_]]=i[p[_]])}}return a};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv=Y1,Mc=60103,J1=60106;Dn.Fragment=60107;Dn.StrictMode=60108;Dn.Profiler=60114;var Q1=60109,eb=60110,tb=60112;Dn.Suspense=60113;var nb=60115,rb=60116;if(typeof Symbol=="function"&&Symbol.for){var ga=Symbol.for;Mc=ga("react.element"),J1=ga("react.portal"),Dn.Fragment=ga("react.fragment"),Dn.StrictMode=ga("react.strict_mode"),Dn.Profiler=ga("react.profiler"),Q1=ga("react.provider"),eb=ga("react.context"),tb=ga("react.forward_ref"),Dn.Suspense=ga("react.suspense"),nb=ga("react.memo"),rb=ga("react.lazy")}var ib=typeof Symbol=="function"&&Symbol.iterator;function AI(e){return e===null||typeof e!="object"?null:(e=ib&&e[ib]||e["@@iterator"],typeof e=="function"?e:null)}function Ch(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ab={};function Ac(e,n,i){this.props=e,this.context=n,this.refs=ab,this.updater=i||ob}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Ch(85));this.updater.enqueueSetState(this,e,n,"setState")};Ac.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sb(){}sb.prototype=Ac.prototype;function rv(e,n,i){this.props=e,this.context=n,this.refs=ab,this.updater=i||ob}var iv=rv.prototype=new sb;iv.constructor=rv;nv(iv,Ac.prototype);iv.isPureReactComponent=!0;var ov={current:null},lb=Object.prototype.hasOwnProperty,ub={key:!0,ref:!0,__self:!0,__source:!0};function cb(e,n,i){var a,p={},m=null,s=null;if(n!=null)for(a in n.ref!==void 0&&(s=n.ref),n.key!==void 0&&(m=""+n.key),n)lb.call(n,a)&&!ub.hasOwnProperty(a)&&(p[a]=n[a]);var _=arguments.length-2;if(_===1)p.children=i;else if(1<_){for(var b=Array(_),C=0;C<_;C++)b[C]=arguments[C+2];p.children=b}if(e&&e.defaultProps)for(a in _=e.defaultProps,_)p[a]===void 0&&(p[a]=_[a]);return{$$typeof:Mc,type:e,key:m,ref:s,props:p,_owner:ov.current}}function zI(e,n){return{$$typeof:Mc,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function av(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc}function RI(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var pb=/\/+/g;function sv(e,n){return typeof e=="object"&&e!==null&&e.key!=null?RI(""+e.key):n.toString(36)}function dm(e,n,i,a,p){var m=typeof e;(m==="undefined"||m==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(m){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Mc:case J1:s=!0}}if(s)return s=e,p=p(s),e=a===""?"."+sv(s,0):a,Array.isArray(p)?(i="",e!=null&&(i=e.replace(pb,"$&/")+"/"),dm(p,n,i,"",function(C){return C})):p!=null&&(av(p)&&(p=zI(p,i+(!p.key||s&&s.key===p.key?"":(""+p.key).replace(pb,"$&/")+"/")+e)),n.push(p)),1;if(s=0,a=a===""?".":a+":",Array.isArray(e))for(var _=0;_<e.length;_++){m=e[_];var b=a+sv(m,_);s+=dm(m,n,i,b,p)}else if(b=AI(e),typeof b=="function")for(e=b.call(e),_=0;!(m=e.next()).done;)m=m.value,b=a+sv(m,_++),s+=dm(m,n,i,b,p);else if(m==="object")throw n=""+e,Error(Ch(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n));return s}function mm(e,n,i){if(e==null)return e;var a=[],p=0;return dm(e,a,"","",function(m){return n.call(i,m,p++)}),a}function LI(e){if(e._status===-1){var n=e._result;n=n(),e._status=0,e._result=n,n.then(function(i){e._status===0&&(i=i.default,e._status=1,e._result=i)},function(i){e._status===0&&(e._status=2,e._result=i)})}if(e._status===1)return e._result;throw e._result}var hb={current:null};function Rs(){var e=hb.current;if(e===null)throw Error(Ch(321));return e}var OI={ReactCurrentDispatcher:hb,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ov,IsSomeRendererActing:{current:!1},assign:nv};Dn.Children={map:mm,forEach:function(e,n,i){mm(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return mm(e,function(){n++}),n},toArray:function(e){return mm(e,function(n){return n})||[]},only:function(e){if(!av(e))throw Error(Ch(143));return e}};Dn.Component=Ac;Dn.PureComponent=rv;Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OI;Dn.cloneElement=function(e,n,i){if(e==null)throw Error(Ch(267,e));var a=nv({},e.props),p=e.key,m=e.ref,s=e._owner;if(n!=null){if(n.ref!==void 0&&(m=n.ref,s=ov.current),n.key!==void 0&&(p=""+n.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(b in n)lb.call(n,b)&&!ub.hasOwnProperty(b)&&(a[b]=n[b]===void 0&&_!==void 0?_[b]:n[b])}var b=arguments.length-2;if(b===1)a.children=i;else if(1<b){_=Array(b);for(var C=0;C<b;C++)_[C]=arguments[C+2];a.children=_}return{$$typeof:Mc,type:e.type,key:p,ref:m,props:a,_owner:s}};Dn.createContext=function(e,n){return n===void 0&&(n=null),e={$$typeof:eb,_calculateChangedBits:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Q1,_context:e},e.Consumer=e};Dn.createElement=cb;Dn.createFactory=function(e){var n=cb.bind(null,e);return n.type=e,n};Dn.createRef=function(){return{current:null}};Dn.forwardRef=function(e){return{$$typeof:tb,render:e}};Dn.isValidElement=av;Dn.lazy=function(e){return{$$typeof:rb,_payload:{_status:-1,_result:e},_init:LI}};Dn.memo=function(e,n){return{$$typeof:nb,type:e,compare:n===void 0?null:n}};Dn.useCallback=function(e,n){return Rs().useCallback(e,n)};Dn.useContext=function(e,n){return Rs().useContext(e,n)};Dn.useDebugValue=function(){};Dn.useEffect=function(e,n){return Rs().useEffect(e,n)};Dn.useImperativeHandle=function(e,n,i){return Rs().useImperativeHandle(e,n,i)};Dn.useLayoutEffect=function(e,n){return Rs().useLayoutEffect(e,n)};Dn.useMemo=function(e,n){return Rs().useMemo(e,n)};Dn.useReducer=function(e,n,i){return Rs().useReducer(e,n,i)};Dn.useRef=function(e){return Rs().useRef(e)};Dn.useState=function(e){return Rs().useState(e)};Dn.version="17.0.2";le.exports=Dn;var Ls=le.exports,lv={exports:{}},Ho={},fb={exports:{}},db={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var n,i,a,p;if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;e.unstable_now=function(){return m.now()}}else{var s=Date,_=s.now();e.unstable_now=function(){return s.now()-_}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var b=null,C=null,M=function(){if(b!==null)try{var $e=e.unstable_now();b(!0,$e),b=null}catch(rt){throw setTimeout(M,0),rt}};n=function($e){b!==null?setTimeout(n,0,$e):(b=$e,setTimeout(M,0))},i=function($e,rt){C=setTimeout($e,rt)},a=function(){clearTimeout(C)},e.unstable_shouldYield=function(){return!1},p=e.unstable_forceFrameRate=function(){}}else{var O=window.setTimeout,R=window.clearTimeout;if(typeof console!="undefined"){var Y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var ee=!1,J=null,q=-1,B=5,$=0;e.unstable_shouldYield=function(){return e.unstable_now()>=$},p=function(){},e.unstable_forceFrameRate=function($e){0>$e||125<$e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$e?Math.floor(1e3/$e):5};var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=function(){if(J!==null){var $e=e.unstable_now();$=$e+B;try{J(!0,$e)?H.postMessage(null):(ee=!1,J=null)}catch(rt){throw H.postMessage(null),rt}}else ee=!1},n=function($e){J=$e,ee||(ee=!0,H.postMessage(null))},i=function($e,rt){q=O(function(){$e(e.unstable_now())},rt)},a=function(){R(q),q=-1}}function ye($e,rt){var It=$e.length;$e.push(rt);e:for(;;){var $t=It-1>>>1,cn=$e[$t];if(cn!==void 0&&0<Te(cn,rt))$e[$t]=rt,$e[It]=cn,It=$t;else break e}}function me($e){return $e=$e[0],$e===void 0?null:$e}function xe($e){var rt=$e[0];if(rt!==void 0){var It=$e.pop();if(It!==rt){$e[0]=It;e:for(var $t=0,cn=$e.length;$t<cn;){var sr=2*($t+1)-1,jt=$e[sr],Yt=sr+1,St=$e[Yt];if(jt!==void 0&&0>Te(jt,It))St!==void 0&&0>Te(St,jt)?($e[$t]=St,$e[Yt]=It,$t=Yt):($e[$t]=jt,$e[sr]=It,$t=sr);else if(St!==void 0&&0>Te(St,It))$e[$t]=St,$e[Yt]=It,$t=Yt;else break e}}return rt}return null}function Te($e,rt){var It=$e.sortIndex-rt.sortIndex;return It!==0?It:$e.id-rt.id}var Se=[],Ne=[],He=1,yt=null,Qe=3,Ke=!1,ft=!1,st=!1;function gt($e){for(var rt=me(Ne);rt!==null;){if(rt.callback===null)xe(Ne);else if(rt.startTime<=$e)xe(Ne),rt.sortIndex=rt.expirationTime,ye(Se,rt);else break;rt=me(Ne)}}function Ft($e){if(st=!1,gt($e),!ft)if(me(Se)!==null)ft=!0,n(Gt);else{var rt=me(Ne);rt!==null&&i(Ft,rt.startTime-$e)}}function Gt($e,rt){ft=!1,st&&(st=!1,a()),Ke=!0;var It=Qe;try{for(gt(rt),yt=me(Se);yt!==null&&(!(yt.expirationTime>rt)||$e&&!e.unstable_shouldYield());){var $t=yt.callback;if(typeof $t=="function"){yt.callback=null,Qe=yt.priorityLevel;var cn=$t(yt.expirationTime<=rt);rt=e.unstable_now(),typeof cn=="function"?yt.callback=cn:yt===me(Se)&&xe(Se),gt(rt)}else xe(Se);yt=me(Se)}if(yt!==null)var sr=!0;else{var jt=me(Ne);jt!==null&&i(Ft,jt.startTime-rt),sr=!1}return sr}finally{yt=null,Qe=It,Ke=!1}}var vn=p;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($e){$e.callback=null},e.unstable_continueExecution=function(){ft||Ke||(ft=!0,n(Gt))},e.unstable_getCurrentPriorityLevel=function(){return Qe},e.unstable_getFirstCallbackNode=function(){return me(Se)},e.unstable_next=function($e){switch(Qe){case 1:case 2:case 3:var rt=3;break;default:rt=Qe}var It=Qe;Qe=rt;try{return $e()}finally{Qe=It}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=vn,e.unstable_runWithPriority=function($e,rt){switch($e){case 1:case 2:case 3:case 4:case 5:break;default:$e=3}var It=Qe;Qe=$e;try{return rt()}finally{Qe=It}},e.unstable_scheduleCallback=function($e,rt,It){var $t=e.unstable_now();switch(typeof It=="object"&&It!==null?(It=It.delay,It=typeof It=="number"&&0<It?$t+It:$t):It=$t,$e){case 1:var cn=-1;break;case 2:cn=250;break;case 5:cn=1073741823;break;case 4:cn=1e4;break;default:cn=5e3}return cn=It+cn,$e={id:He++,callback:rt,priorityLevel:$e,startTime:It,expirationTime:cn,sortIndex:-1},It>$t?($e.sortIndex=It,ye(Ne,$e),me(Se)===null&&$e===me(Ne)&&(st?a():st=!0,i(Ft,It-$t))):($e.sortIndex=cn,ye(Se,$e),ft||Ke||(ft=!0,n(Gt))),$e},e.unstable_wrapCallback=function($e){var rt=Qe;return function(){var It=Qe;Qe=rt;try{return $e.apply(this,arguments)}finally{Qe=It}}}})(db);fb.exports=db;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=le.exports,zr=Y1,Ci=fb.exports;function ut(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ym)throw Error(ut(227));var mb=new Set,Ph={};function cu(e,n){zc(e,n),zc(e+"Capture",n)}function zc(e,n){for(Ph[e]=n,e=0;e<n.length;e++)mb.add(n[e])}var Os=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),DI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yb=Object.prototype.hasOwnProperty,gb={},vb={};function FI(e){return yb.call(vb,e)?!0:yb.call(gb,e)?!1:DI.test(e)?vb[e]=!0:(gb[e]=!0,!1)}function BI(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NI(e,n,i,a){if(n===null||typeof n=="undefined"||BI(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ao(e,n,i,a,p,m,s){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=p,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=m,this.removeEmptyString=s}var Li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Li[e]=new ao(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Li[n]=new ao(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Li[e]=new ao(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Li[e]=new ao(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Li[e]=new ao(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Li[e]=new ao(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Li[e]=new ao(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Li[e]=new ao(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Li[e]=new ao(e,5,!1,e.toLowerCase(),null,!1,!1)});var uv=/[\-:]([a-z])/g;function cv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(uv,cv);Li[n]=new ao(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(uv,cv);Li[n]=new ao(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(uv,cv);Li[n]=new ao(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Li[e]=new ao(e,1,!1,e.toLowerCase(),null,!1,!1)});Li.xlinkHref=new ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Li[e]=new ao(e,1,!1,e.toLowerCase(),null,!0,!0)});function pv(e,n,i,a){var p=Li.hasOwnProperty(n)?Li[n]:null,m=p!==null?p.type===0:a?!1:!(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N");m||(NI(n,i,p,a)&&(i=null),a||p===null?FI(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):p.mustUseProperty?e[p.propertyName]=i===null?p.type===3?!1:"":i:(n=p.attributeName,a=p.attributeNamespace,i===null?e.removeAttribute(n):(p=p.type,i=p===3||p===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var pu=ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ih=60103,hu=60106,ll=60107,hv=60108,kh=60114,fv=60109,dv=60110,gm=60112,Mh=60113,vm=60120,_m=60115,mv=60116,yv=60121,gv=60128,_b=60129,vv=60130,_v=60131;if(typeof Symbol=="function"&&Symbol.for){var Pi=Symbol.for;Ih=Pi("react.element"),hu=Pi("react.portal"),ll=Pi("react.fragment"),hv=Pi("react.strict_mode"),kh=Pi("react.profiler"),fv=Pi("react.provider"),dv=Pi("react.context"),gm=Pi("react.forward_ref"),Mh=Pi("react.suspense"),vm=Pi("react.suspense_list"),_m=Pi("react.memo"),mv=Pi("react.lazy"),yv=Pi("react.block"),Pi("react.scope"),gv=Pi("react.opaque.id"),_b=Pi("react.debug_trace_mode"),vv=Pi("react.offscreen"),_v=Pi("react.legacy_hidden")}var xb=typeof Symbol=="function"&&Symbol.iterator;function Ah(e){return e===null||typeof e!="object"?null:(e=xb&&e[xb]||e["@@iterator"],typeof e=="function"?e:null)}var xv;function zh(e){if(xv===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);xv=n&&n[1]||""}return`
`+xv+e}var bv=!1;function xm(e,n){if(!e||bv)return"";bv=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(b){var a=b}Reflect.construct(e,[],n)}else{try{n.call()}catch(b){a=b}e.call(n.prototype)}else{try{throw Error()}catch(b){a=b}e()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var p=b.stack.split(`
`),m=a.stack.split(`
`),s=p.length-1,_=m.length-1;1<=s&&0<=_&&p[s]!==m[_];)_--;for(;1<=s&&0<=_;s--,_--)if(p[s]!==m[_]){if(s!==1||_!==1)do if(s--,_--,0>_||p[s]!==m[_])return`
`+p[s].replace(" at new "," at ");while(1<=s&&0<=_);break}}}finally{bv=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?zh(e):""}function UI(e){switch(e.tag){case 5:return zh(e.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return e=xm(e.type,!1),e;case 11:return e=xm(e.type.render,!1),e;case 22:return e=xm(e.type._render,!1),e;case 1:return e=xm(e.type,!0),e;default:return""}}function Rc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ll:return"Fragment";case hu:return"Portal";case kh:return"Profiler";case hv:return"StrictMode";case Mh:return"Suspense";case vm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dv:return(e.displayName||"Context")+".Consumer";case fv:return(e._context.displayName||"Context")+".Provider";case gm:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case _m:return Rc(e.type);case yv:return Rc(e._render);case mv:n=e._payload,e=e._init;try{return Rc(e(n))}catch{}}return null}function ul(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bb(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function VI(e){var n=bb(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i!="undefined"&&typeof i.get=="function"&&typeof i.set=="function"){var p=i.get,m=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(s){a=""+s,m.call(this,s)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function bm(e){e._valueTracker||(e._valueTracker=VI(e))}function wb(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=bb(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function wm(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function wv(e,n){var i=n.checked;return zr({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i!=null?i:e._wrapperState.initialChecked})}function Eb(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=ul(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Sb(e,n){n=n.checked,n!=null&&pv(e,"checked",n,!1)}function Ev(e,n){Sb(e,n);var i=ul(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Sv(e,n.type,i):n.hasOwnProperty("defaultValue")&&Sv(e,n.type,ul(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Tb(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Sv(e,n,i){(n!=="number"||wm(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}function jI(e){var n="";return ym.Children.forEach(e,function(i){i!=null&&(n+=i)}),n}function Tv(e,n){return e=zr({children:void 0},n),(n=jI(n.children))&&(e.children=n),e}function Lc(e,n,i,a){if(e=e.options,n){n={};for(var p=0;p<i.length;p++)n["$"+i[p]]=!0;for(i=0;i<e.length;i++)p=n.hasOwnProperty("$"+e[i].value),e[i].selected!==p&&(e[i].selected=p),p&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ul(i),n=null,p=0;p<e.length;p++){if(e[p].value===i){e[p].selected=!0,a&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Cv(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ut(91));return zr({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cb(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(ut(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(ut(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:ul(i)}}function Pb(e,n){var i=ul(n.value),a=ul(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Ib(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}var Pv={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iv(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Em,Mb=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(n,i,a,p){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,p)})}:e}(function(e,n){if(e.namespaceURI!==Pv.svg||"innerHTML"in e)e.innerHTML=n;else{for(Em=Em||document.createElement("div"),Em.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Em.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Rh(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Lh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$I=["Webkit","ms","Moz","O"];Object.keys(Lh).forEach(function(e){$I.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Lh[n]=Lh[e]})});function Ab(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Lh.hasOwnProperty(e)&&Lh[e]?(""+n).trim():n+"px"}function zb(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,p=Ab(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,p):e[i]=p}}var qI=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kv(e,n){if(n){if(qI[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ut(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ut(60));if(!(typeof n.dangerouslySetInnerHTML=="object"&&"__html"in n.dangerouslySetInnerHTML))throw Error(ut(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ut(62))}}function Mv(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Av(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zv=null,Oc=null,Dc=null;function Rb(e){if(e=Qh(e)){if(typeof zv!="function")throw Error(ut(280));var n=e.stateNode;n&&(n=Vm(n),zv(e.stateNode,e.type,n))}}function Lb(e){Oc?Dc?Dc.push(e):Dc=[e]:Oc=e}function Ob(){if(Oc){var e=Oc,n=Dc;if(Dc=Oc=null,Rb(e),n)for(e=0;e<n.length;e++)Rb(n[e])}}function Rv(e,n){return e(n)}function Db(e,n,i,a,p){return e(n,i,a,p)}function Lv(){}var Fb=Rv,fu=!1,Ov=!1;function Dv(){(Oc!==null||Dc!==null)&&(Lv(),Ob())}function WI(e,n,i){if(Ov)return e(n,i);Ov=!0;try{return Fb(e,n,i)}finally{Ov=!1,Dv()}}function Oh(e,n){var i=e.stateNode;if(i===null)return null;var a=Vm(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(ut(231,n,typeof i));return i}var Fv=!1;if(Os)try{var Dh={};Object.defineProperty(Dh,"passive",{get:function(){Fv=!0}}),window.addEventListener("test",Dh,Dh),window.removeEventListener("test",Dh,Dh)}catch{Fv=!1}function ZI(e,n,i,a,p,m,s,_,b){var C=Array.prototype.slice.call(arguments,3);try{n.apply(i,C)}catch(M){this.onError(M)}}var Fh=!1,Sm=null,Tm=!1,Bv=null,GI={onError:function(e){Fh=!0,Sm=e}};function HI(e,n,i,a,p,m,s,_,b){Fh=!1,Sm=null,ZI.apply(GI,arguments)}function XI(e,n,i,a,p,m,s,_,b){if(HI.apply(this,arguments),Fh){if(Fh){var C=Sm;Fh=!1,Sm=null}else throw Error(ut(198));Tm||(Tm=!0,Bv=C)}}function du(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&1026)!=0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Bb(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Nb(e){if(du(e)!==e)throw Error(ut(188))}function KI(e){var n=e.alternate;if(!n){if(n=du(e),n===null)throw Error(ut(188));return n!==e?null:e}for(var i=e,a=n;;){var p=i.return;if(p===null)break;var m=p.alternate;if(m===null){if(a=p.return,a!==null){i=a;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===i)return Nb(p),e;if(m===a)return Nb(p),n;m=m.sibling}throw Error(ut(188))}if(i.return!==a.return)i=p,a=m;else{for(var s=!1,_=p.child;_;){if(_===i){s=!0,i=p,a=m;break}if(_===a){s=!0,a=p,i=m;break}_=_.sibling}if(!s){for(_=m.child;_;){if(_===i){s=!0,i=m,a=p;break}if(_===a){s=!0,a=m,i=p;break}_=_.sibling}if(!s)throw Error(ut(189))}}if(i.alternate!==a)throw Error(ut(190))}if(i.tag!==3)throw Error(ut(188));return i.stateNode.current===i?e:n}function Ub(e){if(e=KI(e),!e)return null;for(var n=e;;){if(n.tag===5||n.tag===6)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function Vb(e,n){for(var i=e.alternate;n!==null;){if(n===e||n===i)return!0;n=n.return}return!1}var jb,Nv,$b,qb,Uv=!1,Xa=[],cl=null,pl=null,hl=null,Bh=new Map,Nh=new Map,Uh=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vv(e,n,i,a,p){return{blockedOn:e,domEventName:n,eventSystemFlags:i|16,nativeEvent:p,targetContainers:[a]}}function Zb(e,n){switch(e){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":Bh.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(n.pointerId)}}function Vh(e,n,i,a,p,m){return e===null||e.nativeEvent!==m?(e=Vv(n,i,a,p,m),n!==null&&(n=Qh(n),n!==null&&Nv(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function YI(e,n,i,a,p){switch(n){case"focusin":return cl=Vh(cl,e,n,i,a,p),!0;case"dragenter":return pl=Vh(pl,e,n,i,a,p),!0;case"mouseover":return hl=Vh(hl,e,n,i,a,p),!0;case"pointerover":var m=p.pointerId;return Bh.set(m,Vh(Bh.get(m)||null,e,n,i,a,p)),!0;case"gotpointercapture":return m=p.pointerId,Nh.set(m,Vh(Nh.get(m)||null,e,n,i,a,p)),!0}return!1}function JI(e){var n=mu(e.target);if(n!==null){var i=du(n);if(i!==null){if(n=i.tag,n===13){if(n=Bb(i),n!==null){e.blockedOn=n,qb(e.lanePriority,function(){Ci.unstable_runWithPriority(e.priority,function(){$b(i)})});return}}else if(n===3&&i.stateNode.hydrate){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cm(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Gv(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i!==null)return n=Qh(i),n!==null&&Nv(n),e.blockedOn=i,!1;n.shift()}return!0}function Gb(e,n,i){Cm(e)&&i.delete(n)}function QI(){for(Uv=!1;0<Xa.length;){var e=Xa[0];if(e.blockedOn!==null){e=Qh(e.blockedOn),e!==null&&jb(e);break}for(var n=e.targetContainers;0<n.length;){var i=Gv(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i!==null){e.blockedOn=i;break}n.shift()}e.blockedOn===null&&Xa.shift()}cl!==null&&Cm(cl)&&(cl=null),pl!==null&&Cm(pl)&&(pl=null),hl!==null&&Cm(hl)&&(hl=null),Bh.forEach(Gb),Nh.forEach(Gb)}function jh(e,n){e.blockedOn===n&&(e.blockedOn=null,Uv||(Uv=!0,Ci.unstable_scheduleCallback(Ci.unstable_NormalPriority,QI)))}function Hb(e){function n(p){return jh(p,e)}if(0<Xa.length){jh(Xa[0],e);for(var i=1;i<Xa.length;i++){var a=Xa[i];a.blockedOn===e&&(a.blockedOn=null)}}for(cl!==null&&jh(cl,e),pl!==null&&jh(pl,e),hl!==null&&jh(hl,e),Bh.forEach(n),Nh.forEach(n),i=0;i<Uh.length;i++)a=Uh[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Uh.length&&(i=Uh[0],i.blockedOn===null);)JI(i),i.blockedOn===null&&Uh.shift()}function Pm(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Fc={animationend:Pm("Animation","AnimationEnd"),animationiteration:Pm("Animation","AnimationIteration"),animationstart:Pm("Animation","AnimationStart"),transitionend:Pm("Transition","TransitionEnd")},jv={},Xb={};Os&&(Xb=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function Im(e){if(jv[e])return jv[e];if(!Fc[e])return e;var n=Fc[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Xb)return jv[e]=n[i];return e}var Kb=Im("animationend"),Yb=Im("animationiteration"),Jb=Im("animationstart"),Qb=Im("transitionend"),ew=new Map,$v=new Map,ek=["abort","abort",Kb,"animationEnd",Yb,"animationIteration",Jb,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qb,"transitionEnd","waiting","waiting"];function qv(e,n){for(var i=0;i<e.length;i+=2){var a=e[i],p=e[i+1];p="on"+(p[0].toUpperCase()+p.slice(1)),$v.set(a,n),ew.set(a,p),cu(p,[a])}}var tk=Ci.unstable_now;tk();var fr=8;function Bc(e){if((1&e)!=0)return fr=15,1;if((2&e)!=0)return fr=14,2;if((4&e)!=0)return fr=13,4;var n=24&e;return n!==0?(fr=12,n):(e&32)!=0?(fr=11,32):(n=192&e,n!==0?(fr=10,n):(e&256)!=0?(fr=9,256):(n=3584&e,n!==0?(fr=8,n):(e&4096)!=0?(fr=7,4096):(n=4186112&e,n!==0?(fr=6,n):(n=62914560&e,n!==0?(fr=5,n):e&67108864?(fr=4,67108864):(e&134217728)!=0?(fr=3,134217728):(n=805306368&e,n!==0?(fr=2,n):(1073741824&e)!=0?(fr=1,1073741824):(fr=8,e))))))}function nk(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function rk(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ut(358,e))}}function $h(e,n){var i=e.pendingLanes;if(i===0)return fr=0;var a=0,p=0,m=e.expiredLanes,s=e.suspendedLanes,_=e.pingedLanes;if(m!==0)a=m,p=fr=15;else if(m=i&134217727,m!==0){var b=m&~s;b!==0?(a=Bc(b),p=fr):(_&=m,_!==0&&(a=Bc(_),p=fr))}else m=i&~s,m!==0?(a=Bc(m),p=fr):_!==0&&(a=Bc(_),p=fr);if(a===0)return 0;if(a=31-fl(a),a=i&((0>a?0:1<<a)<<1)-1,n!==0&&n!==a&&(n&s)==0){if(Bc(n),p<=fr)return n;fr=p}if(n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-fl(n),p=1<<i,a|=e[i],n&=~p;return a}function tw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function km(e,n){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Nc(24&~n),e===0?km(10,n):e;case 10:return e=Nc(192&~n),e===0?km(8,n):e;case 8:return e=Nc(3584&~n),e===0&&(e=Nc(4186112&~n),e===0&&(e=512)),e;case 2:return n=Nc(805306368&~n),n===0&&(n=268435456),n}throw Error(ut(358,e))}function Nc(e){return e&-e}function Wv(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Mm(e,n,i){e.pendingLanes|=n;var a=n-1;e.suspendedLanes&=a,e.pingedLanes&=a,e=e.eventTimes,n=31-fl(n),e[n]=i}var fl=Math.clz32?Math.clz32:ak,ik=Math.log,ok=Math.LN2;function ak(e){return e===0?32:31-(ik(e)/ok|0)|0}var sk=Ci.unstable_UserBlockingPriority,lk=Ci.unstable_runWithPriority,Am=!0;function uk(e,n,i,a){fu||Lv();var p=Zv,m=fu;fu=!0;try{Db(p,e,n,i,a)}finally{(fu=m)||Dv()}}function ck(e,n,i,a){lk(sk,Zv.bind(null,e,n,i,a))}function Zv(e,n,i,a){if(Am){var p;if((p=(n&4)==0)&&0<Xa.length&&-1<Wb.indexOf(e))e=Vv(null,e,n,i,a),Xa.push(e);else{var m=Gv(e,n,i,a);if(m===null)p&&Zb(e,a);else{if(p){if(-1<Wb.indexOf(e)){e=Vv(m,e,n,i,a),Xa.push(e);return}if(YI(m,e,n,i,a))return;Zb(e,a)}Aw(e,n,a,null,i)}}}}function Gv(e,n,i,a){var p=Av(a);if(p=mu(p),p!==null){var m=du(p);if(m===null)p=null;else{var s=m.tag;if(s===13){if(p=Bb(m),p!==null)return p;p=null}else if(s===3){if(m.stateNode.hydrate)return m.tag===3?m.stateNode.containerInfo:null;p=null}else m!==p&&(p=null)}}return Aw(e,n,a,p,i),null}var dl=null,Hv=null,zm=null;function nw(){if(zm)return zm;var e,n=Hv,i=n.length,a,p="value"in dl?dl.value:dl.textContent,m=p.length;for(e=0;e<i&&n[e]===p[e];e++);var s=i-e;for(a=1;a<=s&&n[i-a]===p[m-a];a++);return zm=p.slice(e,1<a?1-a:void 0)}function Rm(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Lm(){return!0}function rw(){return!1}function Oo(e){function n(i,a,p,m,s){this._reactName=i,this._targetInst=p,this.type=a,this.nativeEvent=m,this.target=s,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Lm:rw,this.isPropagationStopped=rw,this}return zr(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Lm)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Lm)},persist:function(){},isPersistent:Lm}),n}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xv=Oo(Uc),qh=zr({},Uc,{view:0,detail:0}),pk=Oo(qh),Kv,Yv,Wh,Om=zr({},qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wh&&(Wh&&e.type==="mousemove"?(Kv=e.screenX-Wh.screenX,Yv=e.screenY-Wh.screenY):Yv=Kv=0,Wh=e),Kv)},movementY:function(e){return"movementY"in e?e.movementY:Yv}}),iw=Oo(Om),hk=zr({},Om,{dataTransfer:0}),fk=Oo(hk),dk=zr({},qh,{relatedTarget:0}),Jv=Oo(dk),mk=zr({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),yk=Oo(mk),gk=zr({},Uc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vk=Oo(gk),_k=zr({},Uc,{data:0}),ow=Oo(_k),xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ek(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wk[e])?!!n[e]:!1}function Qv(){return Ek}var Sk=zr({},qh,{key:function(e){if(e.key){var n=xk[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qv,charCode:function(e){return e.type==="keypress"?Rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tk=Oo(Sk),Ck=zr({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aw=Oo(Ck),Pk=zr({},qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qv}),Ik=Oo(Pk),kk=zr({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mk=Oo(kk),Ak=zr({},Om,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zk=Oo(Ak),Rk=[9,13,27,32],e_=Os&&"CompositionEvent"in window,Zh=null;Os&&"documentMode"in document&&(Zh=document.documentMode);var Lk=Os&&"TextEvent"in window&&!Zh,sw=Os&&(!e_||Zh&&8<Zh&&11>=Zh),lw=String.fromCharCode(32),uw=!1;function cw(e,n){switch(e){case"keyup":return Rk.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vc=!1;function Ok(e,n){switch(e){case"compositionend":return pw(n);case"keypress":return n.which!==32?null:(uw=!0,lw);case"textInput":return e=n.data,e===lw&&uw?null:e;default:return null}}function Dk(e,n){if(Vc)return e==="compositionend"||!e_&&cw(e,n)?(e=nw(),zm=Hv=dl=null,Vc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sw&&n.locale!=="ko"?null:n.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hw(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fk[e.type]:n==="textarea"}function fw(e,n,i,a){Lb(a),n=Fm(n,"onChange"),0<n.length&&(i=new Xv("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var Gh=null,Hh=null;function Bk(e){Cw(e,0)}function Dm(e){var n=Zc(e);if(wb(n))return e}function Nk(e,n){if(e==="change")return n}var dw=!1;if(Os){var t_;if(Os){var n_="oninput"in document;if(!n_){var mw=document.createElement("div");mw.setAttribute("oninput","return;"),n_=typeof mw.oninput=="function"}t_=n_}else t_=!1;dw=t_&&(!document.documentMode||9<document.documentMode)}function yw(){Gh&&(Gh.detachEvent("onpropertychange",gw),Hh=Gh=null)}function gw(e){if(e.propertyName==="value"&&Dm(Hh)){var n=[];if(fw(n,Hh,e,Av(e)),e=Bk,fu)e(n);else{fu=!0;try{Rv(e,n)}finally{fu=!1,Dv()}}}}function Uk(e,n,i){e==="focusin"?(yw(),Gh=n,Hh=i,Gh.attachEvent("onpropertychange",gw)):e==="focusout"&&yw()}function Vk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dm(Hh)}function jk(e,n){if(e==="click")return Dm(n)}function $k(e,n){if(e==="input"||e==="change")return Dm(n)}function qk(e,n){return e===n&&(e!==0||1/e==1/n)||e!==e&&n!==n}var Xo=typeof Object.is=="function"?Object.is:qk,Wk=Object.prototype.hasOwnProperty;function Xh(e,n){if(Xo(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++)if(!Wk.call(n,i[a])||!Xo(e[i[a]],n[i[a]]))return!1;return!0}function vw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _w(e,n){var i=vw(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=vw(i)}}function xw(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xw(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bw(){for(var e=window,n=wm();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=wm(e.document)}return n}function r_(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Zk=Os&&"documentMode"in document&&11>=document.documentMode,jc=null,i_=null,Kh=null,o_=!1;function ww(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;o_||jc==null||jc!==wm(a)||(a=jc,"selectionStart"in a&&r_(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Kh&&Xh(Kh,a)||(Kh=a,a=Fm(i_,"onSelect"),0<a.length&&(n=new Xv("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=jc)))}qv("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);qv("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);qv(ek,2);for(var Ew="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),a_=0;a_<Ew.length;a_++)$v.set(Ew[a_],0);zc("onMouseEnter",["mouseout","mouseover"]);zc("onMouseLeave",["mouseout","mouseover"]);zc("onPointerEnter",["pointerout","pointerover"]);zc("onPointerLeave",["pointerout","pointerover"]);cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yh));function Tw(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,XI(a,n,void 0,e),e.currentTarget=null}function Cw(e,n){n=(n&4)!=0;for(var i=0;i<e.length;i++){var a=e[i],p=a.event;a=a.listeners;e:{var m=void 0;if(n)for(var s=a.length-1;0<=s;s--){var _=a[s],b=_.instance,C=_.currentTarget;if(_=_.listener,b!==m&&p.isPropagationStopped())break e;Tw(p,_,C),m=b}else for(s=0;s<a.length;s++){if(_=a[s],b=_.instance,C=_.currentTarget,_=_.listener,b!==m&&p.isPropagationStopped())break e;Tw(p,_,C),m=b}}}if(Tm)throw e=Bv,Tm=!1,Bv=null,e}function Er(e,n){var i=Fw(n),a=e+"__bubble";i.has(a)||(Mw(n,e,2,!1),i.add(a))}var Pw="_reactListening"+Math.random().toString(36).slice(2);function Iw(e){e[Pw]||(e[Pw]=!0,mb.forEach(function(n){Sw.has(n)||kw(n,!1,e,null),kw(n,!0,e,null)}))}function kw(e,n,i,a){var p=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,m=i;if(e==="selectionchange"&&i.nodeType!==9&&(m=i.ownerDocument),a!==null&&!n&&Sw.has(e)){if(e!=="scroll")return;p|=2,m=a}var s=Fw(m),_=e+"__"+(n?"capture":"bubble");s.has(_)||(n&&(p|=4),Mw(m,e,p,n),s.add(_))}function Mw(e,n,i,a){var p=$v.get(n);switch(p===void 0?2:p){case 0:p=uk;break;case 1:p=ck;break;default:p=Zv}i=p.bind(null,n,i,e),p=void 0,!Fv||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),a?p!==void 0?e.addEventListener(n,i,{capture:!0,passive:p}):e.addEventListener(n,i,!0):p!==void 0?e.addEventListener(n,i,{passive:p}):e.addEventListener(n,i,!1)}function Aw(e,n,i,a,p){var m=a;if((n&1)==0&&(n&2)==0&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var _=a.stateNode.containerInfo;if(_===p||_.nodeType===8&&_.parentNode===p)break;if(s===4)for(s=a.return;s!==null;){var b=s.tag;if((b===3||b===4)&&(b=s.stateNode.containerInfo,b===p||b.nodeType===8&&b.parentNode===p))return;s=s.return}for(;_!==null;){if(s=mu(_),s===null)return;if(b=s.tag,b===5||b===6){a=m=s;continue e}_=_.parentNode}}a=a.return}WI(function(){var C=m,M=Av(i),O=[];e:{var R=ew.get(e);if(R!==void 0){var Y=Xv,ee=e;switch(e){case"keypress":if(Rm(i)===0)break e;case"keydown":case"keyup":Y=Tk;break;case"focusin":ee="focus",Y=Jv;break;case"focusout":ee="blur",Y=Jv;break;case"beforeblur":case"afterblur":Y=Jv;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ik;break;case Kb:case Yb:case Jb:Y=yk;break;case Qb:Y=Mk;break;case"scroll":Y=pk;break;case"wheel":Y=zk;break;case"copy":case"cut":case"paste":Y=vk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=aw}var J=(n&4)!=0,q=!J&&e==="scroll",B=J?R!==null?R+"Capture":null:R;J=[];for(var $=C,Q;$!==null;){Q=$;var H=Q.stateNode;if(Q.tag===5&&H!==null&&(Q=H,B!==null&&(H=Oh($,B),H!=null&&J.push(Jh($,H,Q)))),q)break;$=$.return}0<J.length&&(R=new Y(R,ee,null,i,M),O.push({event:R,listeners:J}))}}if((n&7)==0){e:{if(R=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",R&&(n&16)==0&&(ee=i.relatedTarget||i.fromElement)&&(mu(ee)||ee[Wc]))break e;if((Y||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,Y?(ee=i.relatedTarget||i.toElement,Y=C,ee=ee?mu(ee):null,ee!==null&&(q=du(ee),ee!==q||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Y=null,ee=C),Y!==ee)){if(J=iw,H="onMouseLeave",B="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(J=aw,H="onPointerLeave",B="onPointerEnter",$="pointer"),q=Y==null?R:Zc(Y),Q=ee==null?R:Zc(ee),R=new J(H,$+"leave",Y,i,M),R.target=q,R.relatedTarget=Q,H=null,mu(M)===C&&(J=new J(B,$+"enter",ee,i,M),J.target=Q,J.relatedTarget=q,H=J),q=H,Y&&ee)t:{for(J=Y,B=ee,$=0,Q=J;Q;Q=$c(Q))$++;for(Q=0,H=B;H;H=$c(H))Q++;for(;0<$-Q;)J=$c(J),$--;for(;0<Q-$;)B=$c(B),Q--;for(;$--;){if(J===B||B!==null&&J===B.alternate)break t;J=$c(J),B=$c(B)}J=null}else J=null;Y!==null&&zw(O,R,Y,J,!1),ee!==null&&q!==null&&zw(O,q,ee,J,!0)}}e:{if(R=C?Zc(C):window,Y=R.nodeName&&R.nodeName.toLowerCase(),Y==="select"||Y==="input"&&R.type==="file")var ye=Nk;else if(hw(R))if(dw)ye=$k;else{ye=Vk;var me=Uk}else(Y=R.nodeName)&&Y.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(ye=jk);if(ye&&(ye=ye(e,C))){fw(O,ye,i,M);break e}me&&me(e,R,C),e==="focusout"&&(me=R._wrapperState)&&me.controlled&&R.type==="number"&&Sv(R,"number",R.value)}switch(me=C?Zc(C):window,e){case"focusin":(hw(me)||me.contentEditable==="true")&&(jc=me,i_=C,Kh=null);break;case"focusout":Kh=i_=jc=null;break;case"mousedown":o_=!0;break;case"contextmenu":case"mouseup":case"dragend":o_=!1,ww(O,i,M);break;case"selectionchange":if(Zk)break;case"keydown":case"keyup":ww(O,i,M)}var xe;if(e_)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Vc?cw(e,i)&&(Te="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Te="onCompositionStart");Te&&(sw&&i.locale!=="ko"&&(Vc||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Vc&&(xe=nw()):(dl=M,Hv="value"in dl?dl.value:dl.textContent,Vc=!0)),me=Fm(C,Te),0<me.length&&(Te=new ow(Te,e,null,i,M),O.push({event:Te,listeners:me}),xe?Te.data=xe:(xe=pw(i),xe!==null&&(Te.data=xe)))),(xe=Lk?Ok(e,i):Dk(e,i))&&(C=Fm(C,"onBeforeInput"),0<C.length&&(M=new ow("onBeforeInput","beforeinput",null,i,M),O.push({event:M,listeners:C}),M.data=xe))}Cw(O,n)})}function Jh(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Fm(e,n){for(var i=n+"Capture",a=[];e!==null;){var p=e,m=p.stateNode;p.tag===5&&m!==null&&(p=m,m=Oh(e,i),m!=null&&a.unshift(Jh(e,m,p)),m=Oh(e,n),m!=null&&a.push(Jh(e,m,p))),e=e.return}return a}function $c(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zw(e,n,i,a,p){for(var m=n._reactName,s=[];i!==null&&i!==a;){var _=i,b=_.alternate,C=_.stateNode;if(b!==null&&b===a)break;_.tag===5&&C!==null&&(_=C,p?(b=Oh(i,m),b!=null&&s.unshift(Jh(i,b,_))):p||(b=Oh(i,m),b!=null&&s.push(Jh(i,b,_)))),i=i.return}s.length!==0&&e.push({event:n,listeners:s})}function Bm(){}var s_=null,l_=null;function Rw(e,n){switch(e){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function u_(e,n){return e==="textarea"||e==="option"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lw=typeof setTimeout=="function"?setTimeout:void 0,Gk=typeof clearTimeout=="function"?clearTimeout:void 0;function c_(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function qc(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break}return e}function Ow(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var p_=0;function Hk(e){return{$$typeof:gv,toString:e,valueOf:e}}var Nm=Math.random().toString(36).slice(2),ml="__reactFiber$"+Nm,Um="__reactProps$"+Nm,Wc="__reactContainer$"+Nm,Dw="__reactEvents$"+Nm;function mu(e){var n=e[ml];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Wc]||i[ml]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Ow(e);e!==null;){if(i=e[ml])return i;e=Ow(e)}return n}e=i,i=e.parentNode}return null}function Qh(e){return e=e[ml]||e[Wc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ut(33))}function Vm(e){return e[Um]||null}function Fw(e){var n=e[Dw];return n===void 0&&(n=e[Dw]=new Set),n}var h_=[],Gc=-1;function yl(e){return{current:e}}function Sr(e){0>Gc||(e.current=h_[Gc],h_[Gc]=null,Gc--)}function Xr(e,n){Gc++,h_[Gc]=e.current,e.current=n}var gl={},Ki=yl(gl),wo=yl(!1),yu=gl;function Hc(e,n){var i=e.type.contextTypes;if(!i)return gl;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in i)p[m]=n[m];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=p),p}function Eo(e){return e=e.childContextTypes,e!=null}function jm(){Sr(wo),Sr(Ki)}function Bw(e,n,i){if(Ki.current!==gl)throw Error(ut(168));Xr(Ki,n),Xr(wo,i)}function Nw(e,n,i){var a=e.stateNode;if(e=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var p in a)if(!(p in e))throw Error(ut(108,Rc(n)||"Unknown",p));return zr({},i,a)}function $m(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gl,yu=Ki.current,Xr(Ki,e),Xr(wo,wo.current),!0}function Uw(e,n,i){var a=e.stateNode;if(!a)throw Error(ut(169));i?(e=Nw(e,n,yu),a.__reactInternalMemoizedMergedChildContext=e,Sr(wo),Sr(Ki),Xr(Ki,e)):Sr(wo),Xr(wo,i)}var f_=null,gu=null,Xk=Ci.unstable_runWithPriority,d_=Ci.unstable_scheduleCallback,m_=Ci.unstable_cancelCallback,Kk=Ci.unstable_shouldYield,Vw=Ci.unstable_requestPaint,y_=Ci.unstable_now,Yk=Ci.unstable_getCurrentPriorityLevel,qm=Ci.unstable_ImmediatePriority,jw=Ci.unstable_UserBlockingPriority,$w=Ci.unstable_NormalPriority,qw=Ci.unstable_LowPriority,Ww=Ci.unstable_IdlePriority,g_={},Jk=Vw!==void 0?Vw:function(){},Ds=null,Wm=null,v_=!1,Zw=y_(),Yi=1e4>Zw?y_:function(){return y_()-Zw};function Xc(){switch(Yk()){case qm:return 99;case jw:return 98;case $w:return 97;case qw:return 96;case Ww:return 95;default:throw Error(ut(332))}}function Gw(e){switch(e){case 99:return qm;case 98:return jw;case 97:return $w;case 96:return qw;case 95:return Ww;default:throw Error(ut(332))}}function vu(e,n){return e=Gw(e),Xk(e,n)}function ef(e,n,i){return e=Gw(e),d_(e,n,i)}function Ka(){if(Wm!==null){var e=Wm;Wm=null,m_(e)}Hw()}function Hw(){if(!v_&&Ds!==null){v_=!0;var e=0;try{var n=Ds;vu(99,function(){for(;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}}),Ds=null}catch(i){throw Ds!==null&&(Ds=Ds.slice(e+1)),d_(qm,Ka),i}finally{v_=!1}}}var Qk=pu.ReactCurrentBatchConfig;function va(e,n){if(e&&e.defaultProps){n=zr({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}var Zm=yl(null),Gm=null,Kc=null,Hm=null;function __(){Hm=Kc=Gm=null}function x_(e){var n=Zm.current;Sr(Zm),e.type._context._currentValue=n}function Xw(e,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)===n){if(i===null||(i.childLanes&n)===n)break;i.childLanes|=n}else e.childLanes|=n,i!==null&&(i.childLanes|=n);e=e.return}}function Yc(e,n){Gm=e,Hm=Kc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!=0&&(_a=!0),e.firstContext=null)}function Ko(e,n){if(Hm!==e&&n!==!1&&n!==0)if((typeof n!="number"||n===1073741823)&&(Hm=e,n=1073741823),n={context:e,observedBits:n,next:null},Kc===null){if(Gm===null)throw Error(ut(308));Kc=n,Gm.dependencies={lanes:0,firstContext:n,responders:null}}else Kc=Kc.next=n;return e._currentValue}var vl=!1;function b_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Kw(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _l(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function xl(e,n){if(e=e.updateQueue,e!==null){e=e.shared;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}}function Yw(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var p=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var s={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?p=m=s:m=m.next=s,i=i.next}while(i!==null);m===null?p=m=n:m=m.next=n}else p=m=n;i={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function tf(e,n,i,a){var p=e.updateQueue;vl=!1;var m=p.firstBaseUpdate,s=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var b=_,C=b.next;b.next=null,s===null?m=C:s.next=C,s=b;var M=e.alternate;if(M!==null){M=M.updateQueue;var O=M.lastBaseUpdate;O!==s&&(O===null?M.firstBaseUpdate=C:O.next=C,M.lastBaseUpdate=b)}}if(m!==null){O=p.baseState,s=0,M=C=b=null;do{_=m.lane;var R=m.eventTime;if((a&_)===_){M!==null&&(M=M.next={eventTime:R,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var Y=e,ee=m;switch(_=n,R=i,ee.tag){case 1:if(Y=ee.payload,typeof Y=="function"){O=Y.call(R,O,_);break e}O=Y;break e;case 3:Y.flags=Y.flags&-4097|64;case 0:if(Y=ee.payload,_=typeof Y=="function"?Y.call(R,O,_):Y,_==null)break e;O=zr({},O,_);break e;case 2:vl=!0}}m.callback!==null&&(e.flags|=32,_=p.effects,_===null?p.effects=[m]:_.push(m))}else R={eventTime:R,lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},M===null?(C=M=R,b=O):M=M.next=R,s|=_;if(m=m.next,m===null){if(_=p.shared.pending,_===null)break;m=_.next,_.next=null,p.lastBaseUpdate=_,p.shared.pending=null}}while(1);M===null&&(b=O),p.baseState=b,p.firstBaseUpdate=C,p.lastBaseUpdate=M,df|=s,e.lanes=s,e.memoizedState=O}}function Jw(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],p=a.callback;if(p!==null){if(a.callback=null,a=i,typeof p!="function")throw Error(ut(191,p));p.call(a)}}}var Qw=new ym.Component().refs;function Xm(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:zr({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Km={isMounted:function(e){return(e=e._reactInternals)?du(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Do(),p=El(e),m=_l(a,p);m.payload=n,i!=null&&(m.callback=i),xl(e,m),Sl(e,p,a)},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Do(),p=El(e),m=_l(a,p);m.tag=1,m.payload=n,i!=null&&(m.callback=i),xl(e,m),Sl(e,p,a)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Do(),a=El(e),p=_l(i,a);p.tag=2,n!=null&&(p.callback=n),xl(e,p),Sl(e,a,i)}};function e2(e,n,i,a,p,m,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,s):n.prototype&&n.prototype.isPureReactComponent?!Xh(i,a)||!Xh(p,m):!0}function t2(e,n,i){var a=!1,p=gl,m=n.contextType;return typeof m=="object"&&m!==null?m=Ko(m):(p=Eo(n)?yu:Ki.current,a=n.contextTypes,m=(a=a!=null)?Hc(e,p):gl),n=new n(i,m),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Km,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=m),n}function n2(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Km.enqueueReplaceState(n,n.state,null)}function w_(e,n,i,a){var p=e.stateNode;p.props=i,p.state=e.memoizedState,p.refs=Qw,b_(e);var m=n.contextType;typeof m=="object"&&m!==null?p.context=Ko(m):(m=Eo(n)?yu:Ki.current,p.context=Hc(e,m)),tf(e,i,p,a),p.state=e.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(Xm(e,n,m,i),p.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(n=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),n!==p.state&&Km.enqueueReplaceState(p,p.state,null),tf(e,i,p,a),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4)}var Ym=Array.isArray;function nf(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ut(309));var a=i.stateNode}if(!a)throw Error(ut(147,e));var p=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(m){var s=a.refs;s===Qw&&(s=a.refs={}),m===null?delete s[p]:s[p]=m},n._stringRef=p,n)}if(typeof e!="string")throw Error(ut(284));if(!i._owner)throw Error(ut(290,e))}return e}function Jm(e,n){if(e.type!=="textarea")throw Error(ut(31,Object.prototype.toString.call(n)==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":n))}function r2(e){function n(q,B){if(e){var $=q.lastEffect;$!==null?($.nextEffect=B,q.lastEffect=B):q.firstEffect=q.lastEffect=B,B.nextEffect=null,B.flags=8}}function i(q,B){if(!e)return null;for(;B!==null;)n(q,B),B=B.sibling;return null}function a(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function p(q,B){return q=Pl(q,B),q.index=0,q.sibling=null,q}function m(q,B,$){return q.index=$,e?($=q.alternate,$!==null?($=$.index,$<B?(q.flags=2,B):$):(q.flags=2,B)):B}function s(q){return e&&q.alternate===null&&(q.flags=2),q}function _(q,B,$,Q){return B===null||B.tag!==6?(B=i0($,q.mode,Q),B.return=q,B):(B=p(B,$),B.return=q,B)}function b(q,B,$,Q){return B!==null&&B.elementType===$.type?(Q=p(B,$.props),Q.ref=nf(q,B,$),Q.return=q,Q):(Q=yy($.type,$.key,$.props,null,q.mode,Q),Q.ref=nf(q,B,$),Q.return=q,Q)}function C(q,B,$,Q){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=o0($,q.mode,Q),B.return=q,B):(B=p(B,$.children||[]),B.return=q,B)}function M(q,B,$,Q,H){return B===null||B.tag!==7?(B=op($,q.mode,Q,H),B.return=q,B):(B=p(B,$),B.return=q,B)}function O(q,B,$){if(typeof B=="string"||typeof B=="number")return B=i0(""+B,q.mode,$),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ih:return $=yy(B.type,B.key,B.props,null,q.mode,$),$.ref=nf(q,null,B),$.return=q,$;case hu:return B=o0(B,q.mode,$),B.return=q,B}if(Ym(B)||Ah(B))return B=op(B,q.mode,$,null),B.return=q,B;Jm(q,B)}return null}function R(q,B,$,Q){var H=B!==null?B.key:null;if(typeof $=="string"||typeof $=="number")return H!==null?null:_(q,B,""+$,Q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Ih:return $.key===H?$.type===ll?M(q,B,$.props.children,Q,H):b(q,B,$,Q):null;case hu:return $.key===H?C(q,B,$,Q):null}if(Ym($)||Ah($))return H!==null?null:M(q,B,$,Q,null);Jm(q,$)}return null}function Y(q,B,$,Q,H){if(typeof Q=="string"||typeof Q=="number")return q=q.get($)||null,_(B,q,""+Q,H);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Ih:return q=q.get(Q.key===null?$:Q.key)||null,Q.type===ll?M(B,q,Q.props.children,H,Q.key):b(B,q,Q,H);case hu:return q=q.get(Q.key===null?$:Q.key)||null,C(B,q,Q,H)}if(Ym(Q)||Ah(Q))return q=q.get($)||null,M(B,q,Q,H,null);Jm(B,Q)}return null}function ee(q,B,$,Q){for(var H=null,ye=null,me=B,xe=B=0,Te=null;me!==null&&xe<$.length;xe++){me.index>xe?(Te=me,me=null):Te=me.sibling;var Se=R(q,me,$[xe],Q);if(Se===null){me===null&&(me=Te);break}e&&me&&Se.alternate===null&&n(q,me),B=m(Se,B,xe),ye===null?H=Se:ye.sibling=Se,ye=Se,me=Te}if(xe===$.length)return i(q,me),H;if(me===null){for(;xe<$.length;xe++)me=O(q,$[xe],Q),me!==null&&(B=m(me,B,xe),ye===null?H=me:ye.sibling=me,ye=me);return H}for(me=a(q,me);xe<$.length;xe++)Te=Y(me,q,xe,$[xe],Q),Te!==null&&(e&&Te.alternate!==null&&me.delete(Te.key===null?xe:Te.key),B=m(Te,B,xe),ye===null?H=Te:ye.sibling=Te,ye=Te);return e&&me.forEach(function(Ne){return n(q,Ne)}),H}function J(q,B,$,Q){var H=Ah($);if(typeof H!="function")throw Error(ut(150));if($=H.call($),$==null)throw Error(ut(151));for(var ye=H=null,me=B,xe=B=0,Te=null,Se=$.next();me!==null&&!Se.done;xe++,Se=$.next()){me.index>xe?(Te=me,me=null):Te=me.sibling;var Ne=R(q,me,Se.value,Q);if(Ne===null){me===null&&(me=Te);break}e&&me&&Ne.alternate===null&&n(q,me),B=m(Ne,B,xe),ye===null?H=Ne:ye.sibling=Ne,ye=Ne,me=Te}if(Se.done)return i(q,me),H;if(me===null){for(;!Se.done;xe++,Se=$.next())Se=O(q,Se.value,Q),Se!==null&&(B=m(Se,B,xe),ye===null?H=Se:ye.sibling=Se,ye=Se);return H}for(me=a(q,me);!Se.done;xe++,Se=$.next())Se=Y(me,q,xe,Se.value,Q),Se!==null&&(e&&Se.alternate!==null&&me.delete(Se.key===null?xe:Se.key),B=m(Se,B,xe),ye===null?H=Se:ye.sibling=Se,ye=Se);return e&&me.forEach(function(He){return n(q,He)}),H}return function(q,B,$,Q){var H=typeof $=="object"&&$!==null&&$.type===ll&&$.key===null;H&&($=$.props.children);var ye=typeof $=="object"&&$!==null;if(ye)switch($.$$typeof){case Ih:e:{for(ye=$.key,H=B;H!==null;){if(H.key===ye){switch(H.tag){case 7:if($.type===ll){i(q,H.sibling),B=p(H,$.props.children),B.return=q,q=B;break e}break;default:if(H.elementType===$.type){i(q,H.sibling),B=p(H,$.props),B.ref=nf(q,H,$),B.return=q,q=B;break e}}i(q,H);break}else n(q,H);H=H.sibling}$.type===ll?(B=op($.props.children,q.mode,Q,$.key),B.return=q,q=B):(Q=yy($.type,$.key,$.props,null,q.mode,Q),Q.ref=nf(q,B,$),Q.return=q,q=Q)}return s(q);case hu:e:{for(H=$.key;B!==null;){if(B.key===H)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){i(q,B.sibling),B=p(B,$.children||[]),B.return=q,q=B;break e}else{i(q,B);break}else n(q,B);B=B.sibling}B=o0($,q.mode,Q),B.return=q,q=B}return s(q)}if(typeof $=="string"||typeof $=="number")return $=""+$,B!==null&&B.tag===6?(i(q,B.sibling),B=p(B,$),B.return=q,q=B):(i(q,B),B=i0($,q.mode,Q),B.return=q,q=B),s(q);if(Ym($))return ee(q,B,$,Q);if(Ah($))return J(q,B,$,Q);if(ye&&Jm(q,$),typeof $=="undefined"&&!H)switch(q.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ut(152,Rc(q.type)||"Component"))}return i(q,B)}}var Qm=r2(!0),i2=r2(!1),rf={},Ya=yl(rf),of=yl(rf),af=yl(rf);function _u(e){if(e===rf)throw Error(ut(174));return e}function E_(e,n){switch(Xr(af,n),Xr(of,e),Xr(Ya,rf),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Iv(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Iv(n,e)}Sr(Ya),Xr(Ya,n)}function Jc(){Sr(Ya),Sr(of),Sr(af)}function o2(e){_u(af.current);var n=_u(Ya.current),i=Iv(n,e.type);n!==i&&(Xr(of,e),Xr(Ya,i))}function S_(e){of.current===e&&(Sr(Ya),Sr(of))}var Kr=yl(0);function ey(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&64)!=0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fs=null,bl=null,Ja=!1;function a2(e,n){var i=Qo(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=n,i.return=e,i.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function s2(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,!0):!1;case 13:return!1;default:return!1}}function T_(e){if(Ja){var n=bl;if(n){var i=n;if(!s2(e,n)){if(n=qc(i.nextSibling),!n||!s2(e,n)){e.flags=e.flags&-1025|2,Ja=!1,Fs=e;return}a2(Fs,i)}Fs=e,bl=qc(n.firstChild)}else e.flags=e.flags&-1025|2,Ja=!1,Fs=e}}function l2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fs=e}function ty(e){if(e!==Fs)return!1;if(!Ja)return l2(e),Ja=!0,!1;var n=e.type;if(e.tag!==5||n!=="head"&&n!=="body"&&!u_(n,e.memoizedProps))for(n=bl;n;)a2(e,n),n=qc(n.nextSibling);if(l2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ut(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){bl=qc(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}bl=null}}else bl=Fs?qc(e.stateNode.nextSibling):null;return!0}function C_(){bl=Fs=null,Ja=!1}var Qc=[];function P_(){for(var e=0;e<Qc.length;e++)Qc[e]._workInProgressVersionPrimary=null;Qc.length=0}var sf=pu.ReactCurrentDispatcher,Yo=pu.ReactCurrentBatchConfig,lf=0,ai=null,Ji=null,Oi=null,ny=!1,uf=!1;function So(){throw Error(ut(321))}function I_(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Xo(e[i],n[i]))return!1;return!0}function k_(e,n,i,a,p,m){if(lf=m,ai=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,sf.current=e===null||e.memoizedState===null?tM:nM,e=i(a,p),uf){m=0;do{if(uf=!1,!(25>m))throw Error(ut(301));m+=1,Oi=Ji=null,n.updateQueue=null,sf.current=rM,e=i(a,p)}while(uf)}if(sf.current=ay,n=Ji!==null&&Ji.next!==null,lf=0,Oi=Ji=ai=null,ny=!1,n)throw Error(ut(300));return e}function xu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?ai.memoizedState=Oi=e:Oi=Oi.next=e,Oi}function bu(){if(Ji===null){var e=ai.alternate;e=e!==null?e.memoizedState:null}else e=Ji.next;var n=Oi===null?ai.memoizedState:Oi.next;if(n!==null)Oi=n,Ji=e;else{if(e===null)throw Error(ut(310));Ji=e,e={memoizedState:Ji.memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},Oi===null?ai.memoizedState=Oi=e:Oi=Oi.next=e}return Oi}function Qa(e,n){return typeof n=="function"?n(e):n}function cf(e){var n=bu(),i=n.queue;if(i===null)throw Error(ut(311));i.lastRenderedReducer=e;var a=Ji,p=a.baseQueue,m=i.pending;if(m!==null){if(p!==null){var s=p.next;p.next=m.next,m.next=s}a.baseQueue=p=m,i.pending=null}if(p!==null){p=p.next,a=a.baseState;var _=s=m=null,b=p;do{var C=b.lane;if((lf&C)===C)_!==null&&(_=_.next={lane:0,action:b.action,eagerReducer:b.eagerReducer,eagerState:b.eagerState,next:null}),a=b.eagerReducer===e?b.eagerState:e(a,b.action);else{var M={lane:C,action:b.action,eagerReducer:b.eagerReducer,eagerState:b.eagerState,next:null};_===null?(s=_=M,m=a):_=_.next=M,ai.lanes|=C,df|=C}b=b.next}while(b!==null&&b!==p);_===null?m=a:_.next=s,Xo(a,n.memoizedState)||(_a=!0),n.memoizedState=a,n.baseState=m,n.baseQueue=_,i.lastRenderedState=a}return[n.memoizedState,i.dispatch]}function pf(e){var n=bu(),i=n.queue;if(i===null)throw Error(ut(311));i.lastRenderedReducer=e;var a=i.dispatch,p=i.pending,m=n.memoizedState;if(p!==null){i.pending=null;var s=p=p.next;do m=e(m,s.action),s=s.next;while(s!==p);Xo(m,n.memoizedState)||(_a=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,a]}function u2(e,n,i){var a=n._getVersion;a=a(n._source);var p=n._workInProgressVersionPrimary;if(p!==null?e=p===a:(e=e.mutableReadLanes,(e=(lf&e)===e)&&(n._workInProgressVersionPrimary=a,Qc.push(n))),e)return i(n._source);throw Qc.push(n),Error(ut(350))}function c2(e,n,i,a){var p=so;if(p===null)throw Error(ut(349));var m=n._getVersion,s=m(n._source),_=sf.current,b=_.useState(function(){return u2(p,n,i)}),C=b[1],M=b[0];b=Oi;var O=e.memoizedState,R=O.refs,Y=R.getSnapshot,ee=O.source;O=O.subscribe;var J=ai;return e.memoizedState={refs:R,source:n,subscribe:a},_.useEffect(function(){R.getSnapshot=i,R.setSnapshot=C;var q=m(n._source);if(!Xo(s,q)){q=i(n._source),Xo(M,q)||(C(q),q=El(J),p.mutableReadLanes|=q&p.pendingLanes),q=p.mutableReadLanes,p.entangledLanes|=q;for(var B=p.entanglements,$=q;0<$;){var Q=31-fl($),H=1<<Q;B[Q]|=q,$&=~H}}},[i,n,a]),_.useEffect(function(){return a(n._source,function(){var q=R.getSnapshot,B=R.setSnapshot;try{B(q(n._source));var $=El(J);p.mutableReadLanes|=$&p.pendingLanes}catch(Q){B(function(){throw Q})}})},[n,a]),Xo(Y,i)&&Xo(ee,n)&&Xo(O,a)||(e={pending:null,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:M},e.dispatch=C=R_.bind(null,ai,e),b.queue=e,b.baseQueue=null,M=u2(p,n,i),b.memoizedState=b.baseState=M),M}function p2(e,n,i){var a=bu();return c2(a,e,n,i)}function hf(e){var n=xu();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},e=e.dispatch=R_.bind(null,ai,e),[n.memoizedState,e]}function ry(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=ai.updateQueue,n===null?(n={lastEffect:null},ai.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function h2(e){var n=xu();return e={current:e},n.memoizedState=e}function iy(){return bu().memoizedState}function M_(e,n,i,a){var p=xu();ai.flags|=e,p.memoizedState=ry(1|n,i,void 0,a===void 0?null:a)}function A_(e,n,i,a){var p=bu();a=a===void 0?null:a;var m=void 0;if(Ji!==null){var s=Ji.memoizedState;if(m=s.destroy,a!==null&&I_(a,s.deps)){ry(n,i,m,a);return}}ai.flags|=e,p.memoizedState=ry(1|n,i,m,a)}function f2(e,n){return M_(516,4,e,n)}function oy(e,n){return A_(516,4,e,n)}function d2(e,n){return A_(4,2,e,n)}function m2(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function y2(e,n,i){return i=i!=null?i.concat([e]):null,A_(4,2,m2.bind(null,n,e),i)}function z_(){}function g2(e,n){var i=bu();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&I_(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function v2(e,n){var i=bu();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&I_(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function eM(e,n){var i=Xc();vu(98>i?98:i,function(){e(!0)}),vu(97<i?97:i,function(){var a=Yo.transition;Yo.transition=1;try{e(!1),n()}finally{Yo.transition=a}})}function R_(e,n,i){var a=Do(),p=El(e),m={lane:p,action:i,eagerReducer:null,eagerState:null,next:null},s=n.pending;if(s===null?m.next=m:(m.next=s.next,s.next=m),n.pending=m,s=e.alternate,e===ai||s!==null&&s===ai)uf=ny=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=n.lastRenderedReducer,s!==null))try{var _=n.lastRenderedState,b=s(_,i);if(m.eagerReducer=s,m.eagerState=b,Xo(b,_))return}catch{}finally{}Sl(e,p,a)}}var ay={readContext:Ko,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useOpaqueIdentifier:So,unstable_isNewReconciler:!1},tM={readContext:Ko,useCallback:function(e,n){return xu().memoizedState=[e,n===void 0?null:n],e},useContext:Ko,useEffect:f2,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,M_(4,2,m2.bind(null,n,e),i)},useLayoutEffect:function(e,n){return M_(4,2,e,n)},useMemo:function(e,n){var i=xu();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=xu();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e=a.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},e=e.dispatch=R_.bind(null,ai,e),[a.memoizedState,e]},useRef:h2,useState:hf,useDebugValue:z_,useDeferredValue:function(e){var n=hf(e),i=n[0],a=n[1];return f2(function(){var p=Yo.transition;Yo.transition=1;try{a(e)}finally{Yo.transition=p}},[e]),i},useTransition:function(){var e=hf(!1),n=e[0];return e=eM.bind(null,e[1]),h2(e),[e,n]},useMutableSource:function(e,n,i){var a=xu();return a.memoizedState={refs:{getSnapshot:n,setSnapshot:null},source:e,subscribe:i},c2(a,e,n,i)},useOpaqueIdentifier:function(){if(Ja){var e=!1,n=Hk(function(){throw e||(e=!0,i("r:"+(p_++).toString(36))),Error(ut(355))}),i=hf(n)[1];return(ai.mode&2)==0&&(ai.flags|=516,ry(5,function(){i("r:"+(p_++).toString(36))},void 0,null)),n}return n="r:"+(p_++).toString(36),hf(n),n},unstable_isNewReconciler:!1},nM={readContext:Ko,useCallback:g2,useContext:Ko,useEffect:oy,useImperativeHandle:y2,useLayoutEffect:d2,useMemo:v2,useReducer:cf,useRef:iy,useState:function(){return cf(Qa)},useDebugValue:z_,useDeferredValue:function(e){var n=cf(Qa),i=n[0],a=n[1];return oy(function(){var p=Yo.transition;Yo.transition=1;try{a(e)}finally{Yo.transition=p}},[e]),i},useTransition:function(){var e=cf(Qa)[0];return[iy().current,e]},useMutableSource:p2,useOpaqueIdentifier:function(){return cf(Qa)[0]},unstable_isNewReconciler:!1},rM={readContext:Ko,useCallback:g2,useContext:Ko,useEffect:oy,useImperativeHandle:y2,useLayoutEffect:d2,useMemo:v2,useReducer:pf,useRef:iy,useState:function(){return pf(Qa)},useDebugValue:z_,useDeferredValue:function(e){var n=pf(Qa),i=n[0],a=n[1];return oy(function(){var p=Yo.transition;Yo.transition=1;try{a(e)}finally{Yo.transition=p}},[e]),i},useTransition:function(){var e=pf(Qa)[0];return[iy().current,e]},useMutableSource:p2,useOpaqueIdentifier:function(){return pf(Qa)[0]},unstable_isNewReconciler:!1},iM=pu.ReactCurrentOwner,_a=!1;function To(e,n,i,a){n.child=e===null?i2(n,null,i,a):Qm(n,e.child,i,a)}function _2(e,n,i,a,p){i=i.render;var m=n.ref;return Yc(n,p),a=k_(e,n,i,a,m,p),e!==null&&!_a?(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~p,Bs(e,n,p)):(n.flags|=1,To(e,n,a,p),n.child)}function x2(e,n,i,a,p,m){if(e===null){var s=i.type;return typeof s=="function"&&!n0(s)&&s.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=s,b2(e,n,s,a,p,m)):(e=yy(i.type,null,a,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}return s=e.child,(p&m)==0&&(p=s.memoizedProps,i=i.compare,i=i!==null?i:Xh,i(p,a)&&e.ref===n.ref)?Bs(e,n,m):(n.flags|=1,e=Pl(s,a),e.ref=n.ref,e.return=n,n.child=e)}function b2(e,n,i,a,p,m){if(e!==null&&Xh(e.memoizedProps,a)&&e.ref===n.ref)if(_a=!1,(m&p)!=0)(e.flags&16384)!=0&&(_a=!0);else return n.lanes=e.lanes,Bs(e,n,m);return O_(e,n,i,a,m)}function L_(e,n,i){var a=n.pendingProps,p=a.children,m=e!==null?e.memoizedState:null;if(a.mode==="hidden"||a.mode==="unstable-defer-without-hiding")if((n.mode&4)==0)n.memoizedState={baseLanes:0},my(n,i);else if((i&1073741824)!=0)n.memoizedState={baseLanes:0},my(n,m!==null?m.baseLanes:i);else return e=m!==null?m.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e},my(n,e),null;else m!==null?(a=m.baseLanes|i,n.memoizedState=null):a=i,my(n,a);return To(e,n,p,i),n.child}function w2(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=128)}function O_(e,n,i,a,p){var m=Eo(i)?yu:Ki.current;return m=Hc(n,m),Yc(n,p),i=k_(e,n,i,a,m,p),e!==null&&!_a?(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~p,Bs(e,n,p)):(n.flags|=1,To(e,n,i,p),n.child)}function E2(e,n,i,a,p){if(Eo(i)){var m=!0;$m(n)}else m=!1;if(Yc(n,p),n.stateNode===null)e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),t2(n,i,a),w_(n,i,a,p),a=!0;else if(e===null){var s=n.stateNode,_=n.memoizedProps;s.props=_;var b=s.context,C=i.contextType;typeof C=="object"&&C!==null?C=Ko(C):(C=Eo(i)?yu:Ki.current,C=Hc(n,C));var M=i.getDerivedStateFromProps,O=typeof M=="function"||typeof s.getSnapshotBeforeUpdate=="function";O||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(_!==a||b!==C)&&n2(n,s,a,C),vl=!1;var R=n.memoizedState;s.state=R,tf(n,a,s,p),b=n.memoizedState,_!==a||R!==b||wo.current||vl?(typeof M=="function"&&(Xm(n,i,M,a),b=n.memoizedState),(_=vl||e2(n,i,_,a,R,b,C))?(O||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(n.flags|=4)):(typeof s.componentDidMount=="function"&&(n.flags|=4),n.memoizedProps=a,n.memoizedState=b),s.props=a,s.state=b,s.context=C,a=_):(typeof s.componentDidMount=="function"&&(n.flags|=4),a=!1)}else{s=n.stateNode,Kw(e,n),_=n.memoizedProps,C=n.type===n.elementType?_:va(n.type,_),s.props=C,O=n.pendingProps,R=s.context,b=i.contextType,typeof b=="object"&&b!==null?b=Ko(b):(b=Eo(i)?yu:Ki.current,b=Hc(n,b));var Y=i.getDerivedStateFromProps;(M=typeof Y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(_!==O||R!==b)&&n2(n,s,a,b),vl=!1,R=n.memoizedState,s.state=R,tf(n,a,s,p);var ee=n.memoizedState;_!==O||R!==ee||wo.current||vl?(typeof Y=="function"&&(Xm(n,i,Y,a),ee=n.memoizedState),(C=vl||e2(n,i,C,a,R,ee,b))?(M||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,ee,b),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,ee,b)),typeof s.componentDidUpdate=="function"&&(n.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(n.flags|=256)):(typeof s.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=256),n.memoizedProps=a,n.memoizedState=ee),s.props=a,s.state=ee,s.context=b,a=C):(typeof s.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=256),a=!1)}return D_(e,n,i,a,m,p)}function D_(e,n,i,a,p,m){w2(e,n);var s=(n.flags&64)!=0;if(!a&&!s)return p&&Uw(n,i,!1),Bs(e,n,m);a=n.stateNode,iM.current=n;var _=s&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&s?(n.child=Qm(n,e.child,null,m),n.child=Qm(n,null,_,m)):To(e,n,_,m),n.memoizedState=a.state,p&&Uw(n,i,!0),n.child}function S2(e){var n=e.stateNode;n.pendingContext?Bw(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Bw(e,n.context,!1),E_(e,n.containerInfo)}var sy={dehydrated:null,retryLane:0};function T2(e,n,i){var a=n.pendingProps,p=Kr.current,m=!1,s;return(s=(n.flags&64)!=0)||(s=e!==null&&e.memoizedState===null?!1:(p&2)!=0),s?(m=!0,n.flags&=-65):e!==null&&e.memoizedState===null||a.fallback===void 0||a.unstable_avoidThisFallback===!0||(p|=1),Xr(Kr,p&1),e===null?(a.fallback!==void 0&&T_(n),e=a.children,p=a.fallback,m?(e=C2(n,e,p,i),n.child.memoizedState={baseLanes:i},n.memoizedState=sy,e):typeof a.unstable_expectedLoadTime=="number"?(e=C2(n,e,p,i),n.child.memoizedState={baseLanes:i},n.memoizedState=sy,n.lanes=33554432,e):(i=r0({mode:"visible",children:e},n.mode,i,null),i.return=n,n.child=i)):e.memoizedState!==null?m?(a=I2(e,n,a.children,a.fallback,i),m=n.child,p=e.child.memoizedState,m.memoizedState=p===null?{baseLanes:i}:{baseLanes:p.baseLanes|i},m.childLanes=e.childLanes&~i,n.memoizedState=sy,a):(i=P2(e,n,a.children,i),n.memoizedState=null,i):m?(a=I2(e,n,a.children,a.fallback,i),m=n.child,p=e.child.memoizedState,m.memoizedState=p===null?{baseLanes:i}:{baseLanes:p.baseLanes|i},m.childLanes=e.childLanes&~i,n.memoizedState=sy,a):(i=P2(e,n,a.children,i),n.memoizedState=null,i)}function C2(e,n,i,a){var p=e.mode,m=e.child;return n={mode:"hidden",children:n},(p&2)==0&&m!==null?(m.childLanes=0,m.pendingProps=n):m=r0(n,p,0,null),i=op(i,p,a,null),m.return=e,i.return=e,m.sibling=i,e.child=m,i}function P2(e,n,i,a){var p=e.child;return e=p.sibling,i=Pl(p,{mode:"visible",children:i}),(n.mode&2)==0&&(i.lanes=a),i.return=n,i.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,n.firstEffect=n.lastEffect=e),n.child=i}function I2(e,n,i,a,p){var m=n.mode,s=e.child;e=s.sibling;var _={mode:"hidden",children:i};return(m&2)==0&&n.child!==s?(i=n.child,i.childLanes=0,i.pendingProps=_,s=i.lastEffect,s!==null?(n.firstEffect=i.firstEffect,n.lastEffect=s,s.nextEffect=null):n.firstEffect=n.lastEffect=null):i=Pl(s,_),e!==null?a=Pl(e,a):(a=op(a,m,p,null),a.flags|=2),a.return=n,i.return=n,i.sibling=a,n.child=i,a}function k2(e,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),Xw(e.return,n)}function F_(e,n,i,a,p,m){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:p,lastEffect:m}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=i,s.tailMode=p,s.lastEffect=m)}function M2(e,n,i){var a=n.pendingProps,p=a.revealOrder,m=a.tail;if(To(e,n,a.children,i),a=Kr.current,(a&2)!=0)a=a&1|2,n.flags|=64;else{if(e!==null&&(e.flags&64)!=0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k2(e,i);else if(e.tag===19)k2(e,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Xr(Kr,a),(n.mode&2)==0)n.memoizedState=null;else switch(p){case"forwards":for(i=n.child,p=null;i!==null;)e=i.alternate,e!==null&&ey(e)===null&&(p=i),i=i.sibling;i=p,i===null?(p=n.child,n.child=null):(p=i.sibling,i.sibling=null),F_(n,!1,p,i,m,n.lastEffect);break;case"backwards":for(i=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&ey(e)===null){n.child=p;break}e=p.sibling,p.sibling=i,i=p,p=e}F_(n,!0,i,null,m,n.lastEffect);break;case"together":F_(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function Bs(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),df|=n.lanes,(i&n.childLanes)!=0){if(e!==null&&n.child!==e.child)throw Error(ut(153));if(n.child!==null){for(e=n.child,i=Pl(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Pl(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}return null}var A2,B_,z2,R2;A2=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};B_=function(){};z2=function(e,n,i,a){var p=e.memoizedProps;if(p!==a){e=n.stateNode,_u(Ya.current);var m=null;switch(i){case"input":p=wv(e,p),a=wv(e,a),m=[];break;case"option":p=Tv(e,p),a=Tv(e,a),m=[];break;case"select":p=zr({},p,{value:void 0}),a=zr({},a,{value:void 0}),m=[];break;case"textarea":p=Cv(e,p),a=Cv(e,a),m=[];break;default:typeof p.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bm)}kv(i,a);var s;i=null;for(C in p)if(!a.hasOwnProperty(C)&&p.hasOwnProperty(C)&&p[C]!=null)if(C==="style"){var _=p[C];for(s in _)_.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(Ph.hasOwnProperty(C)?m||(m=[]):(m=m||[]).push(C,null));for(C in a){var b=a[C];if(_=p!=null?p[C]:void 0,a.hasOwnProperty(C)&&b!==_&&(b!=null||_!=null))if(C==="style")if(_){for(s in _)!_.hasOwnProperty(s)||b&&b.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in b)b.hasOwnProperty(s)&&_[s]!==b[s]&&(i||(i={}),i[s]=b[s])}else i||(m||(m=[]),m.push(C,i)),i=b;else C==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,_=_?_.__html:void 0,b!=null&&_!==b&&(m=m||[]).push(C,b)):C==="children"?typeof b!="string"&&typeof b!="number"||(m=m||[]).push(C,""+b):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(Ph.hasOwnProperty(C)?(b!=null&&C==="onScroll"&&Er("scroll",e),m||_===b||(m=[])):typeof b=="object"&&b!==null&&b.$$typeof===gv?b.toString():(m=m||[]).push(C,b))}i&&(m=m||[]).push("style",i);var C=m;(n.updateQueue=C)&&(n.flags|=4)}};R2=function(e,n,i,a){i!==a&&(n.flags|=4)};function ff(e,n){if(!Ja)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function oM(e,n,i){var a=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Eo(n.type)&&jm(),null;case 3:return Jc(),Sr(wo),Sr(Ki),P_(),a=n.stateNode,a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ty(n)?n.flags|=4:a.hydrate||(n.flags|=256)),B_(n),null;case 5:S_(n);var p=_u(af.current);if(i=n.type,e!==null&&n.stateNode!=null)z2(e,n,i,a,p),e.ref!==n.ref&&(n.flags|=128);else{if(!a){if(n.stateNode===null)throw Error(ut(166));return null}if(e=_u(Ya.current),ty(n)){a=n.stateNode,i=n.type;var m=n.memoizedProps;switch(a[ml]=n,a[Um]=m,i){case"dialog":Er("cancel",a),Er("close",a);break;case"iframe":case"object":case"embed":Er("load",a);break;case"video":case"audio":for(e=0;e<Yh.length;e++)Er(Yh[e],a);break;case"source":Er("error",a);break;case"img":case"image":case"link":Er("error",a),Er("load",a);break;case"details":Er("toggle",a);break;case"input":Eb(a,m),Er("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!m.multiple},Er("invalid",a);break;case"textarea":Cb(a,m),Er("invalid",a)}kv(i,m),e=null;for(var s in m)m.hasOwnProperty(s)&&(p=m[s],s==="children"?typeof p=="string"?a.textContent!==p&&(e=["children",p]):typeof p=="number"&&a.textContent!==""+p&&(e=["children",""+p]):Ph.hasOwnProperty(s)&&p!=null&&s==="onScroll"&&Er("scroll",a));switch(i){case"input":bm(a),Tb(a,m,!0);break;case"textarea":bm(a),Ib(a);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(a.onclick=Bm)}a=e,n.updateQueue=a,a!==null&&(n.flags|=4)}else{switch(s=p.nodeType===9?p:p.ownerDocument,e===Pv.html&&(e=kb(i)),e===Pv.html?i==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=s.createElement(i,{is:a.is}):(e=s.createElement(i),i==="select"&&(s=e,a.multiple?s.multiple=!0:a.size&&(s.size=a.size))):e=s.createElementNS(e,i),e[ml]=n,e[Um]=a,A2(e,n,!1,!1),n.stateNode=e,s=Mv(i,a),i){case"dialog":Er("cancel",e),Er("close",e),p=a;break;case"iframe":case"object":case"embed":Er("load",e),p=a;break;case"video":case"audio":for(p=0;p<Yh.length;p++)Er(Yh[p],e);p=a;break;case"source":Er("error",e),p=a;break;case"img":case"image":case"link":Er("error",e),Er("load",e),p=a;break;case"details":Er("toggle",e),p=a;break;case"input":Eb(e,a),p=wv(e,a),Er("invalid",e);break;case"option":p=Tv(e,a);break;case"select":e._wrapperState={wasMultiple:!!a.multiple},p=zr({},a,{value:void 0}),Er("invalid",e);break;case"textarea":Cb(e,a),p=Cv(e,a),Er("invalid",e);break;default:p=a}kv(i,p);var _=p;for(m in _)if(_.hasOwnProperty(m)){var b=_[m];m==="style"?zb(e,b):m==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Mb(e,b)):m==="children"?typeof b=="string"?(i!=="textarea"||b!=="")&&Rh(e,b):typeof b=="number"&&Rh(e,""+b):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ph.hasOwnProperty(m)?b!=null&&m==="onScroll"&&Er("scroll",e):b!=null&&pv(e,m,b,s))}switch(i){case"input":bm(e),Tb(e,a,!1);break;case"textarea":bm(e),Ib(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ul(a.value));break;case"select":e.multiple=!!a.multiple,m=a.value,m!=null?Lc(e,!!a.multiple,m,!1):a.defaultValue!=null&&Lc(e,!!a.multiple,a.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=Bm)}Rw(i,a)&&(n.flags|=4)}n.ref!==null&&(n.flags|=128)}return null;case 6:if(e&&n.stateNode!=null)R2(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(ut(166));i=_u(af.current),_u(Ya.current),ty(n)?(a=n.stateNode,i=n.memoizedProps,a[ml]=n,a.nodeValue!==i&&(n.flags|=4)):(a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[ml]=n,n.stateNode=a)}return null;case 13:return Sr(Kr),a=n.memoizedState,(n.flags&64)!=0?(n.lanes=i,n):(a=a!==null,i=!1,e===null?n.memoizedProps.fallback!==void 0&&ty(n):i=e.memoizedState!==null,a&&!i&&(n.mode&2)!=0&&(e===null&&n.memoizedProps.unstable_avoidThisFallback!==!0||(Kr.current&1)!=0?Di===0&&(Di=3):((Di===0||Di===3)&&(Di=4),so===null||(df&134217727)==0&&(tp&134217727)==0||rp(so,Qi))),(a||i)&&(n.flags|=4),null);case 4:return Jc(),B_(n),e===null&&Iw(n.stateNode.containerInfo),null;case 10:return x_(n),null;case 17:return Eo(n.type)&&jm(),null;case 19:if(Sr(Kr),a=n.memoizedState,a===null)return null;if(m=(n.flags&64)!=0,s=a.rendering,s===null)if(m)ff(a,!1);else{if(Di!==0||e!==null&&(e.flags&64)!=0)for(e=n.child;e!==null;){if(s=ey(e),s!==null){for(n.flags|=64,ff(a,!1),m=s.updateQueue,m!==null&&(n.updateQueue=m,n.flags|=4),a.lastEffect===null&&(n.firstEffect=null),n.lastEffect=a.lastEffect,a=i,i=n.child;i!==null;)m=i,e=a,m.flags&=2,m.nextEffect=null,m.firstEffect=null,m.lastEffect=null,s=m.alternate,s===null?(m.childLanes=0,m.lanes=e,m.child=null,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,m.type=s.type,e=s.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Xr(Kr,Kr.current&1|2),n.child}e=e.sibling}a.tail!==null&&Yi()>X_&&(n.flags|=64,m=!0,ff(a,!1),n.lanes=33554432)}else{if(!m)if(e=ey(s),e!==null){if(n.flags|=64,m=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ff(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ja)return n=n.lastEffect=a.lastEffect,n!==null&&(n.nextEffect=null),null}else 2*Yi()-a.renderingStartTime>X_&&i!==1073741824&&(n.flags|=64,m=!0,ff(a,!1),n.lanes=33554432);a.isBackwards?(s.sibling=n.child,n.child=s):(i=a.last,i!==null?i.sibling=s:n.child=s,a.last=s)}return a.tail!==null?(i=a.tail,a.rendering=i,a.tail=i.sibling,a.lastEffect=n.lastEffect,a.renderingStartTime=Yi(),i.sibling=null,n=Kr.current,Xr(Kr,m?n&1|2:n&1),i):null;case 23:case 24:return t0(),e!==null&&e.memoizedState!==null!=(n.memoizedState!==null)&&a.mode!=="unstable-defer-without-hiding"&&(n.flags|=4),null}throw Error(ut(156,n.tag))}function aM(e){switch(e.tag){case 1:Eo(e.type)&&jm();var n=e.flags;return n&4096?(e.flags=n&-4097|64,e):null;case 3:if(Jc(),Sr(wo),Sr(Ki),P_(),n=e.flags,(n&64)!=0)throw Error(ut(285));return e.flags=n&-4097|64,e;case 5:return S_(e),null;case 13:return Sr(Kr),n=e.flags,n&4096?(e.flags=n&-4097|64,e):null;case 19:return Sr(Kr),null;case 4:return Jc(),null;case 10:return x_(e),null;case 23:case 24:return t0(),null;default:return null}}function N_(e,n){try{var i="",a=n;do i+=UI(a),a=a.return;while(a);var p=i}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:n,stack:p}}function U_(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var sM=typeof WeakMap=="function"?WeakMap:Map;function L2(e,n,i){i=_l(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){cy||(cy=!0,K_=a),U_(e,n)},i}function O2(e,n,i){i=_l(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var p=n.value;i.payload=function(){return U_(e,n),a(p)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){typeof a!="function"&&(es===null?es=new Set([this]):es.add(this),U_(e,n));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})}),i}var lM=typeof WeakSet=="function"?WeakSet:Set;function D2(e){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Cl(e,i)}else n.current=null}function uM(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(n.flags&256&&e!==null){var i=e.memoizedProps,a=e.memoizedState;e=n.stateNode,n=e.getSnapshotBeforeUpdate(n.elementType===n.type?i:va(n.type,i),a),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:n.flags&256&&c_(n.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ut(163))}function cM(e,n,i){switch(i.tag){case 0:case 11:case 15:case 22:if(n=i.updateQueue,n=n!==null?n.lastEffect:null,n!==null){e=n=n.next;do{if((e.tag&3)==3){var a=e.create;e.destroy=a()}e=e.next}while(e!==n)}if(n=i.updateQueue,n=n!==null?n.lastEffect:null,n!==null){e=n=n.next;do{var p=e;a=p.next,p=p.tag,(p&4)!=0&&(p&1)!=0&&(Y2(i,e),vM(i,e)),e=a}while(e!==n)}return;case 1:e=i.stateNode,i.flags&4&&(n===null?e.componentDidMount():(a=i.elementType===i.type?n.memoizedProps:va(i.type,n.memoizedProps),e.componentDidUpdate(a,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),n=i.updateQueue,n!==null&&Jw(i,n,e);return;case 3:if(n=i.updateQueue,n!==null){if(e=null,i.child!==null)switch(i.child.tag){case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}Jw(i,n,e)}return;case 5:e=i.stateNode,n===null&&i.flags&4&&Rw(i.type,i.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:i.memoizedState===null&&(i=i.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&Hb(i))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ut(163))}function F2(e,n){for(var i=e;;){if(i.tag===5){var a=i.stateNode;if(n)a=a.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{a=i.stateNode;var p=i.memoizedProps.style;p=p!=null&&p.hasOwnProperty("display")?p.display:null,a.style.display=Ab("display",p)}}else if(i.tag===6)i.stateNode.nodeValue=n?"":i.memoizedProps;else if((i.tag!==23&&i.tag!==24||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function B2(e,n){if(gu&&typeof gu.onCommitFiberUnmount=="function")try{gu.onCommitFiberUnmount(f_,n)}catch{}switch(n.tag){case 0:case 11:case 14:case 15:case 22:if(e=n.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var i=e=e.next;do{var a=i,p=a.destroy;if(a=a.tag,p!==void 0)if((a&4)!=0)Y2(n,i);else{a=n;try{p()}catch(m){Cl(a,m)}}i=i.next}while(i!==e)}break;case 1:if(D2(n),e=n.stateNode,typeof e.componentWillUnmount=="function")try{e.props=n.memoizedProps,e.state=n.memoizedState,e.componentWillUnmount()}catch(m){Cl(n,m)}break;case 5:D2(n);break;case 4:j2(e,n)}}function N2(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function U2(e){return e.tag===5||e.tag===3||e.tag===4}function V2(e){e:{for(var n=e.return;n!==null;){if(U2(n))break e;n=n.return}throw Error(ut(160))}var i=n;switch(n=i.stateNode,i.tag){case 5:var a=!1;break;case 3:n=n.containerInfo,a=!0;break;case 4:n=n.containerInfo,a=!0;break;default:throw Error(ut(161))}i.flags&16&&(Rh(n,""),i.flags&=-17);e:t:for(i=e;;){for(;i.sibling===null;){if(i.return===null||U2(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2)){i=i.stateNode;break e}}a?V_(e,i,n):j_(e,i,n)}function V_(e,n,i){var a=e.tag,p=a===5||a===6;if(p)e=p?e.stateNode:e.stateNode.instance,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Bm));else if(a!==4&&(e=e.child,e!==null))for(V_(e,n,i),e=e.sibling;e!==null;)V_(e,n,i),e=e.sibling}function j_(e,n,i){var a=e.tag,p=a===5||a===6;if(p)e=p?e.stateNode:e.stateNode.instance,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(j_(e,n,i),e=e.sibling;e!==null;)j_(e,n,i),e=e.sibling}function j2(e,n){for(var i=n,a=!1,p,m;;){if(!a){a=i.return;e:for(;;){if(a===null)throw Error(ut(160));switch(p=a.stateNode,a.tag){case 5:m=!1;break e;case 3:p=p.containerInfo,m=!0;break e;case 4:p=p.containerInfo,m=!0;break e}a=a.return}a=!0}if(i.tag===5||i.tag===6){e:for(var s=e,_=i,b=_;;)if(B2(s,b),b.child!==null&&b.tag!==4)b.child.return=b,b=b.child;else{if(b===_)break e;for(;b.sibling===null;){if(b.return===null||b.return===_)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}m?(s=p,_=i.stateNode,s.nodeType===8?s.parentNode.removeChild(_):s.removeChild(_)):p.removeChild(i.stateNode)}else if(i.tag===4){if(i.child!==null){p=i.stateNode.containerInfo,m=!0,i.child.return=i,i=i.child;continue}}else if(B2(e,i),i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return,i.tag===4&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function $_(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do(a.tag&3)==3&&(e=a.destroy,a.destroy=void 0,e!==void 0&&e()),a=a.next;while(a!==i)}return;case 1:return;case 5:if(i=n.stateNode,i!=null){a=n.memoizedProps;var p=e!==null?e.memoizedProps:a;e=n.type;var m=n.updateQueue;if(n.updateQueue=null,m!==null){for(i[Um]=a,e==="input"&&a.type==="radio"&&a.name!=null&&Sb(i,a),Mv(e,p),n=Mv(e,a),p=0;p<m.length;p+=2){var s=m[p],_=m[p+1];s==="style"?zb(i,_):s==="dangerouslySetInnerHTML"?Mb(i,_):s==="children"?Rh(i,_):pv(i,s,_,n)}switch(e){case"input":Ev(i,a);break;case"textarea":Pb(i,a);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!a.multiple,m=a.value,m!=null?Lc(i,!!a.multiple,m,!1):e!==!!a.multiple&&(a.defaultValue!=null?Lc(i,!!a.multiple,a.defaultValue,!0):Lc(i,!!a.multiple,a.multiple?[]:"",!1))}}}return;case 6:if(n.stateNode===null)throw Error(ut(162));n.stateNode.nodeValue=n.memoizedProps;return;case 3:i=n.stateNode,i.hydrate&&(i.hydrate=!1,Hb(i.containerInfo));return;case 12:return;case 13:n.memoizedState!==null&&(H_=Yi(),F2(n.child,!0)),$2(n);return;case 19:$2(n);return;case 17:return;case 23:case 24:F2(n,n.memoizedState!==null);return}throw Error(ut(163))}function $2(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new lM),n.forEach(function(a){var p=bM.bind(null,e,a);i.has(a)||(i.add(a),a.then(p,p))})}}function pM(e,n){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(n=n.memoizedState,n!==null&&n.dehydrated===null):!1}var hM=Math.ceil,ly=pu.ReactCurrentDispatcher,q_=pu.ReactCurrentOwner,sn=0,so=null,_i=null,Qi=0,wu=0,W_=yl(0),Di=0,uy=null,ep=0,df=0,tp=0,Z_=0,G_=null,H_=0,X_=1/0;function np(){X_=Yi()+500}var zt=null,cy=!1,K_=null,es=null,wl=!1,mf=null,yf=90,Y_=[],J_=[],Ns=null,gf=0,Q_=null,py=-1,Us=0,hy=0,vf=null,fy=!1;function Do(){return(sn&48)!=0?Yi():py!==-1?py:py=Yi()}function El(e){if(e=e.mode,(e&2)==0)return 1;if((e&4)==0)return Xc()===99?1:2;if(Us===0&&(Us=ep),Qk.transition!==0){hy!==0&&(hy=G_!==null?G_.pendingLanes:0),e=Us;var n=4186112&~hy;return n&=-n,n===0&&(e=4186112&~e,n=e&-e,n===0&&(n=8192)),n}return e=Xc(),(sn&4)!=0&&e===98?e=km(12,Us):(e=nk(e),e=km(e,Us)),e}function Sl(e,n,i){if(50<gf)throw gf=0,Q_=null,Error(ut(185));if(e=dy(e,n),e===null)return null;Mm(e,n,i),e===so&&(tp|=n,Di===4&&rp(e,Qi));var a=Xc();n===1?(sn&8)!=0&&(sn&48)==0?e0(e):(Jo(e,i),sn===0&&(np(),Ka())):((sn&4)==0||a!==98&&a!==99||(Ns===null?Ns=new Set([e]):Ns.add(e)),Jo(e,i)),G_=e}function dy(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}function Jo(e,n){for(var i=e.callbackNode,a=e.suspendedLanes,p=e.pingedLanes,m=e.expirationTimes,s=e.pendingLanes;0<s;){var _=31-fl(s),b=1<<_,C=m[_];if(C===-1){if((b&a)==0||(b&p)!=0){C=n,Bc(b);var M=fr;m[_]=10<=M?C+250:6<=M?C+5e3:-1}}else C<=n&&(e.expiredLanes|=b);s&=~b}if(a=$h(e,e===so?Qi:0),n=fr,a===0)i!==null&&(i!==g_&&m_(i),e.callbackNode=null,e.callbackPriority=0);else{if(i!==null){if(e.callbackPriority===n)return;i!==g_&&m_(i)}n===15?(i=e0.bind(null,e),Ds===null?(Ds=[i],Wm=d_(qm,Hw)):Ds.push(i),i=g_):n===14?i=ef(99,e0.bind(null,e)):(i=rk(n),i=ef(i,q2.bind(null,e))),e.callbackPriority=n,e.callbackNode=i}}function q2(e){if(py=-1,hy=Us=0,(sn&48)!=0)throw Error(ut(327));var n=e.callbackNode;if(Tl()&&e.callbackNode!==n)return null;var i=$h(e,e===so?Qi:0);if(i===0)return null;var a=i,p=sn;sn|=16;var m=H2();(so!==e||Qi!==a)&&(np(),ip(e,a));do try{mM();break}catch(_){G2(e,_)}while(1);if(__(),ly.current=m,sn=p,_i!==null?a=0:(so=null,Qi=0,a=Di),(ep&tp)!=0)ip(e,0);else if(a!==0){if(a===2&&(sn|=64,e.hydrate&&(e.hydrate=!1,c_(e.containerInfo)),i=tw(e),i!==0&&(a=_f(e,i))),a===1)throw n=uy,ip(e,0),rp(e,i),Jo(e,Yi()),n;switch(e.finishedWork=e.current.alternate,e.finishedLanes=i,a){case 0:case 1:throw Error(ut(345));case 2:Eu(e);break;case 3:if(rp(e,i),(i&62914560)===i&&(a=H_+500-Yi(),10<a)){if($h(e,0)!==0)break;if(p=e.suspendedLanes,(p&i)!==i){Do(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=Lw(Eu.bind(null,e),a);break}Eu(e);break;case 4:if(rp(e,i),(i&4186112)===i)break;for(a=e.eventTimes,p=-1;0<i;){var s=31-fl(i);m=1<<s,s=a[s],s>p&&(p=s),i&=~m}if(i=p,i=Yi()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hM(i/1960))-i,10<i){e.timeoutHandle=Lw(Eu.bind(null,e),i);break}Eu(e);break;case 5:Eu(e);break;default:throw Error(ut(329))}}return Jo(e,Yi()),e.callbackNode===n?q2.bind(null,e):null}function rp(e,n){for(n&=~Z_,n&=~tp,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-fl(n),a=1<<i;e[i]=-1,n&=~a}}function e0(e){if((sn&48)!=0)throw Error(ut(327));if(Tl(),e===so&&(e.expiredLanes&Qi)!=0){var n=Qi,i=_f(e,n);(ep&tp)!=0&&(n=$h(e,n),i=_f(e,n))}else n=$h(e,0),i=_f(e,n);if(e.tag!==0&&i===2&&(sn|=64,e.hydrate&&(e.hydrate=!1,c_(e.containerInfo)),n=tw(e),n!==0&&(i=_f(e,n))),i===1)throw i=uy,ip(e,0),rp(e,n),Jo(e,Yi()),i;return e.finishedWork=e.current.alternate,e.finishedLanes=n,Eu(e),Jo(e,Yi()),null}function fM(){if(Ns!==null){var e=Ns;Ns=null,e.forEach(function(n){n.expiredLanes|=24&n.pendingLanes,Jo(n,Yi())})}Ka()}function W2(e,n){var i=sn;sn|=1;try{return e(n)}finally{sn=i,sn===0&&(np(),Ka())}}function Z2(e,n){var i=sn;sn&=-2,sn|=8;try{return e(n)}finally{sn=i,sn===0&&(np(),Ka())}}function my(e,n){Xr(W_,wu),wu|=n,ep|=n}function t0(){wu=W_.current,Sr(W_)}function ip(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gk(i)),_i!==null)for(i=_i.return;i!==null;){var a=i;switch(a.tag){case 1:a=a.type.childContextTypes,a!=null&&jm();break;case 3:Jc(),Sr(wo),Sr(Ki),P_();break;case 5:S_(a);break;case 4:Jc();break;case 13:Sr(Kr);break;case 19:Sr(Kr);break;case 10:x_(a);break;case 23:case 24:t0()}i=i.return}so=e,_i=Pl(e.current,null),Qi=wu=ep=n,Di=0,uy=null,Z_=tp=df=0}function G2(e,n){do{var i=_i;try{if(__(),sf.current=ay,ny){for(var a=ai.memoizedState;a!==null;){var p=a.queue;p!==null&&(p.pending=null),a=a.next}ny=!1}if(lf=0,Oi=Ji=ai=null,uf=!1,q_.current=null,i===null||i.return===null){Di=1,uy=n,_i=null;break}e:{var m=e,s=i.return,_=i,b=n;if(n=Qi,_.flags|=2048,_.firstEffect=_.lastEffect=null,b!==null&&typeof b=="object"&&typeof b.then=="function"){var C=b;if((_.mode&2)==0){var M=_.alternate;M?(_.updateQueue=M.updateQueue,_.memoizedState=M.memoizedState,_.lanes=M.lanes):(_.updateQueue=null,_.memoizedState=null)}var O=(Kr.current&1)!=0,R=s;do{var Y;if(Y=R.tag===13){var ee=R.memoizedState;if(ee!==null)Y=ee.dehydrated!==null;else{var J=R.memoizedProps;Y=J.fallback===void 0?!1:J.unstable_avoidThisFallback!==!0?!0:!O}}if(Y){var q=R.updateQueue;if(q===null){var B=new Set;B.add(C),R.updateQueue=B}else q.add(C);if((R.mode&2)==0){if(R.flags|=64,_.flags|=16384,_.flags&=-2981,_.tag===1)if(_.alternate===null)_.tag=17;else{var $=_l(-1,1);$.tag=2,xl(_,$)}_.lanes|=1;break e}b=void 0,_=n;var Q=m.pingCache;if(Q===null?(Q=m.pingCache=new sM,b=new Set,Q.set(C,b)):(b=Q.get(C),b===void 0&&(b=new Set,Q.set(C,b))),!b.has(_)){b.add(_);var H=xM.bind(null,m,C,_);C.then(H,H)}R.flags|=4096,R.lanes=n;break e}R=R.return}while(R!==null);b=Error((Rc(_.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Di!==5&&(Di=2),b=N_(b,_),R=s;do{switch(R.tag){case 3:m=b,R.flags|=4096,n&=-n,R.lanes|=n;var ye=L2(R,m,n);Yw(R,ye);break e;case 1:m=b;var me=R.type,xe=R.stateNode;if((R.flags&64)==0&&(typeof me.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(es===null||!es.has(xe)))){R.flags|=4096,n&=-n,R.lanes|=n;var Te=O2(R,m,n);Yw(R,Te);break e}}R=R.return}while(R!==null)}K2(i)}catch(Se){n=Se,_i===i&&i!==null&&(_i=i=i.return);continue}break}while(1)}function H2(){var e=ly.current;return ly.current=ay,e===null?ay:e}function _f(e,n){var i=sn;sn|=16;var a=H2();so===e&&Qi===n||ip(e,n);do try{dM();break}catch(p){G2(e,p)}while(1);if(__(),sn=i,ly.current=a,_i!==null)throw Error(ut(261));return so=null,Qi=0,Di}function dM(){for(;_i!==null;)X2(_i)}function mM(){for(;_i!==null&&!Kk();)X2(_i)}function X2(e){var n=Q2(e.alternate,e,wu);e.memoizedProps=e.pendingProps,n===null?K2(e):_i=n,q_.current=null}function K2(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&2048)==0){if(i=oM(i,n,wu),i!==null){_i=i;return}if(i=n,i.tag!==24&&i.tag!==23||i.memoizedState===null||(wu&1073741824)!=0||(i.mode&4)==0){for(var a=0,p=i.child;p!==null;)a|=p.lanes|p.childLanes,p=p.sibling;i.childLanes=a}e!==null&&(e.flags&2048)==0&&(e.firstEffect===null&&(e.firstEffect=n.firstEffect),n.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=n.firstEffect),e.lastEffect=n.lastEffect),1<n.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=n:e.firstEffect=n,e.lastEffect=n))}else{if(i=aM(n),i!==null){i.flags&=2047,_i=i;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(n=n.sibling,n!==null){_i=n;return}_i=n=e}while(n!==null);Di===0&&(Di=5)}function Eu(e){var n=Xc();return vu(99,yM.bind(null,e,n)),null}function yM(e,n){do Tl();while(mf!==null);if((sn&48)!=0)throw Error(ut(327));var i=e.finishedWork;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(ut(177));e.callbackNode=null;var a=i.lanes|i.childLanes,p=a,m=e.pendingLanes&~p;e.pendingLanes=p,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=p,e.mutableReadLanes&=p,e.entangledLanes&=p,p=e.entanglements;for(var s=e.eventTimes,_=e.expirationTimes;0<m;){var b=31-fl(m),C=1<<b;p[b]=0,s[b]=-1,_[b]=-1,m&=~C}if(Ns!==null&&(a&24)==0&&Ns.has(e)&&Ns.delete(e),e===so&&(_i=so=null,Qi=0),1<i.flags?i.lastEffect!==null?(i.lastEffect.nextEffect=i,a=i.firstEffect):a=i:a=i.firstEffect,a!==null){if(p=sn,sn|=32,q_.current=null,s_=Am,s=bw(),r_(s)){if("selectionStart"in s)_={start:s.selectionStart,end:s.selectionEnd};else e:if(_=(_=s.ownerDocument)&&_.defaultView||window,(C=_.getSelection&&_.getSelection())&&C.rangeCount!==0){_=C.anchorNode,m=C.anchorOffset,b=C.focusNode,C=C.focusOffset;try{_.nodeType,b.nodeType}catch{_=null;break e}var M=0,O=-1,R=-1,Y=0,ee=0,J=s,q=null;t:for(;;){for(var B;J!==_||m!==0&&J.nodeType!==3||(O=M+m),J!==b||C!==0&&J.nodeType!==3||(R=M+C),J.nodeType===3&&(M+=J.nodeValue.length),(B=J.firstChild)!==null;)q=J,J=B;for(;;){if(J===s)break t;if(q===_&&++Y===m&&(O=M),q===b&&++ee===C&&(R=M),(B=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=B}_=O===-1||R===-1?null:{start:O,end:R}}else _=null;_=_||{start:0,end:0}}else _=null;l_={focusedElem:s,selectionRange:_},Am=!1,vf=null,fy=!1,zt=a;do try{gM()}catch(Se){if(zt===null)throw Error(ut(330));Cl(zt,Se),zt=zt.nextEffect}while(zt!==null);vf=null,zt=a;do try{for(s=e;zt!==null;){var $=zt.flags;if($&16&&Rh(zt.stateNode,""),$&128){var Q=zt.alternate;if(Q!==null){var H=Q.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch($&1038){case 2:V2(zt),zt.flags&=-3;break;case 6:V2(zt),zt.flags&=-3,$_(zt.alternate,zt);break;case 1024:zt.flags&=-1025;break;case 1028:zt.flags&=-1025,$_(zt.alternate,zt);break;case 4:$_(zt.alternate,zt);break;case 8:_=zt,j2(s,_);var ye=_.alternate;N2(_),ye!==null&&N2(ye)}zt=zt.nextEffect}}catch(Se){if(zt===null)throw Error(ut(330));Cl(zt,Se),zt=zt.nextEffect}while(zt!==null);if(H=l_,Q=bw(),$=H.focusedElem,s=H.selectionRange,Q!==$&&$&&$.ownerDocument&&xw($.ownerDocument.documentElement,$)){for(s!==null&&r_($)&&(Q=s.start,H=s.end,H===void 0&&(H=Q),"selectionStart"in $?($.selectionStart=Q,$.selectionEnd=Math.min(H,$.value.length)):(H=(Q=$.ownerDocument||document)&&Q.defaultView||window,H.getSelection&&(H=H.getSelection(),_=$.textContent.length,ye=Math.min(s.start,_),s=s.end===void 0?ye:Math.min(s.end,_),!H.extend&&ye>s&&(_=s,s=ye,ye=_),_=_w($,ye),m=_w($,s),_&&m&&(H.rangeCount!==1||H.anchorNode!==_.node||H.anchorOffset!==_.offset||H.focusNode!==m.node||H.focusOffset!==m.offset)&&(Q=Q.createRange(),Q.setStart(_.node,_.offset),H.removeAllRanges(),ye>s?(H.addRange(Q),H.extend(m.node,m.offset)):(Q.setEnd(m.node,m.offset),H.addRange(Q)))))),Q=[],H=$;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Q.length;$++)H=Q[$],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}Am=!!s_,l_=s_=null,e.current=i,zt=a;do try{for($=e;zt!==null;){var me=zt.flags;if(me&36&&cM($,zt.alternate,zt),me&128){Q=void 0;var xe=zt.ref;if(xe!==null){var Te=zt.stateNode;switch(zt.tag){case 5:Q=Te;break;default:Q=Te}typeof xe=="function"?xe(Q):xe.current=Q}}zt=zt.nextEffect}}catch(Se){if(zt===null)throw Error(ut(330));Cl(zt,Se),zt=zt.nextEffect}while(zt!==null);zt=null,Jk(),sn=p}else e.current=i;if(wl)wl=!1,mf=e,yf=n;else for(zt=a;zt!==null;)n=zt.nextEffect,zt.nextEffect=null,zt.flags&8&&(me=zt,me.sibling=null,me.stateNode=null),zt=n;if(a=e.pendingLanes,a===0&&(es=null),a===1?e===Q_?gf++:(gf=0,Q_=e):gf=0,i=i.stateNode,gu&&typeof gu.onCommitFiberRoot=="function")try{gu.onCommitFiberRoot(f_,i,void 0,(i.current.flags&64)==64)}catch{}if(Jo(e,Yi()),cy)throw cy=!1,e=K_,K_=null,e;return(sn&8)!=0||Ka(),null}function gM(){for(;zt!==null;){var e=zt.alternate;fy||vf===null||((zt.flags&8)!=0?Vb(zt,vf)&&(fy=!0):zt.tag===13&&pM(e,zt)&&Vb(zt,vf)&&(fy=!0));var n=zt.flags;(n&256)!=0&&uM(e,zt),(n&512)==0||wl||(wl=!0,ef(97,function(){return Tl(),null})),zt=zt.nextEffect}}function Tl(){if(yf!==90){var e=97<yf?97:yf;return yf=90,vu(e,_M)}return!1}function vM(e,n){Y_.push(n,e),wl||(wl=!0,ef(97,function(){return Tl(),null}))}function Y2(e,n){J_.push(n,e),wl||(wl=!0,ef(97,function(){return Tl(),null}))}function _M(){if(mf===null)return!1;var e=mf;if(mf=null,(sn&48)!=0)throw Error(ut(331));var n=sn;sn|=32;var i=J_;J_=[];for(var a=0;a<i.length;a+=2){var p=i[a],m=i[a+1],s=p.destroy;if(p.destroy=void 0,typeof s=="function")try{s()}catch(b){if(m===null)throw Error(ut(330));Cl(m,b)}}for(i=Y_,Y_=[],a=0;a<i.length;a+=2){p=i[a],m=i[a+1];try{var _=p.create;p.destroy=_()}catch(b){if(m===null)throw Error(ut(330));Cl(m,b)}}for(_=e.current.firstEffect;_!==null;)e=_.nextEffect,_.nextEffect=null,_.flags&8&&(_.sibling=null,_.stateNode=null),_=e;return sn=n,Ka(),!0}function J2(e,n,i){n=N_(i,n),n=L2(e,n,1),xl(e,n),n=Do(),e=dy(e,1),e!==null&&(Mm(e,1,n),Jo(e,n))}function Cl(e,n){if(e.tag===3)J2(e,e,n);else for(var i=e.return;i!==null;){if(i.tag===3){J2(i,e,n);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(es===null||!es.has(a))){e=N_(n,e);var p=O2(i,e,1);if(xl(i,p),p=Do(),i=dy(i,1),i!==null)Mm(i,1,p),Jo(i,p);else if(typeof a.componentDidCatch=="function"&&(es===null||!es.has(a)))try{a.componentDidCatch(n,e)}catch{}break}}i=i.return}}function xM(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Do(),e.pingedLanes|=e.suspendedLanes&i,so===e&&(Qi&i)===i&&(Di===4||Di===3&&(Qi&62914560)===Qi&&500>Yi()-H_?ip(e,0):Z_|=i),Jo(e,n)}function bM(e,n){var i=e.stateNode;i!==null&&i.delete(n),n=0,n===0&&(n=e.mode,(n&2)==0?n=1:(n&4)==0?n=Xc()===99?1:2:(Us===0&&(Us=ep),n=Nc(62914560&~Us),n===0&&(n=4194304))),i=Do(),e=dy(e,n),e!==null&&(Mm(e,n,i),Jo(e,i))}var Q2;Q2=function(e,n,i){var a=n.lanes;if(e!==null)if(e.memoizedProps!==n.pendingProps||wo.current)_a=!0;else if((i&a)!=0)_a=(e.flags&16384)!=0;else{switch(_a=!1,n.tag){case 3:S2(n),C_();break;case 5:o2(n);break;case 1:Eo(n.type)&&$m(n);break;case 4:E_(n,n.stateNode.containerInfo);break;case 10:a=n.memoizedProps.value;var p=n.type._context;Xr(Zm,p._currentValue),p._currentValue=a;break;case 13:if(n.memoizedState!==null)return(i&n.child.childLanes)!=0?T2(e,n,i):(Xr(Kr,Kr.current&1),n=Bs(e,n,i),n!==null?n.sibling:null);Xr(Kr,Kr.current&1);break;case 19:if(a=(i&n.childLanes)!=0,(e.flags&64)!=0){if(a)return M2(e,n,i);n.flags|=64}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Xr(Kr,Kr.current),a)break;return null;case 23:case 24:return n.lanes=0,L_(e,n,i)}return Bs(e,n,i)}else _a=!1;switch(n.lanes=0,n.tag){case 2:if(a=n.type,e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,p=Hc(n,Ki.current),Yc(n,i),p=k_(null,n,a,e,p,i),n.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,Eo(a)){var m=!0;$m(n)}else m=!1;n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,b_(n);var s=a.getDerivedStateFromProps;typeof s=="function"&&Xm(n,a,s,e),p.updater=Km,n.stateNode=p,p._reactInternals=n,w_(n,a,e,i),n=D_(null,n,a,!0,m,i)}else n.tag=0,To(null,n,p,i),n=n.child;return n;case 16:p=n.elementType;e:{switch(e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,m=p._init,p=m(p._payload),n.type=p,m=n.tag=EM(p),e=va(p,e),m){case 0:n=O_(null,n,p,e,i);break e;case 1:n=E2(null,n,p,e,i);break e;case 11:n=_2(null,n,p,e,i);break e;case 14:n=x2(null,n,p,va(p.type,e),a,i);break e}throw Error(ut(306,p,""))}return n;case 0:return a=n.type,p=n.pendingProps,p=n.elementType===a?p:va(a,p),O_(e,n,a,p,i);case 1:return a=n.type,p=n.pendingProps,p=n.elementType===a?p:va(a,p),E2(e,n,a,p,i);case 3:if(S2(n),a=n.updateQueue,e===null||a===null)throw Error(ut(282));if(a=n.pendingProps,p=n.memoizedState,p=p!==null?p.element:null,Kw(e,n),tf(n,a,null,i),a=n.memoizedState.element,a===p)C_(),n=Bs(e,n,i);else{if(p=n.stateNode,(m=p.hydrate)&&(bl=qc(n.stateNode.containerInfo.firstChild),Fs=n,m=Ja=!0),m){if(e=p.mutableSourceEagerHydrationData,e!=null)for(p=0;p<e.length;p+=2)m=e[p],m._workInProgressVersionPrimary=e[p+1],Qc.push(m);for(i=i2(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|1024,i=i.sibling}else To(e,n,a,i),C_();n=n.child}return n;case 5:return o2(n),e===null&&T_(n),a=n.type,p=n.pendingProps,m=e!==null?e.memoizedProps:null,s=p.children,u_(a,p)?s=null:m!==null&&u_(a,m)&&(n.flags|=16),w2(e,n),To(e,n,s,i),n.child;case 6:return e===null&&T_(n),null;case 13:return T2(e,n,i);case 4:return E_(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Qm(n,null,a,i):To(e,n,a,i),n.child;case 11:return a=n.type,p=n.pendingProps,p=n.elementType===a?p:va(a,p),_2(e,n,a,p,i);case 7:return To(e,n,n.pendingProps,i),n.child;case 8:return To(e,n,n.pendingProps.children,i),n.child;case 12:return To(e,n,n.pendingProps.children,i),n.child;case 10:e:{a=n.type._context,p=n.pendingProps,s=n.memoizedProps,m=p.value;var _=n.type._context;if(Xr(Zm,_._currentValue),_._currentValue=m,s!==null)if(_=s.value,m=Xo(_,m)?0:(typeof a._calculateChangedBits=="function"?a._calculateChangedBits(_,m):1073741823)|0,m===0){if(s.children===p.children&&!wo.current){n=Bs(e,n,i);break e}}else for(_=n.child,_!==null&&(_.return=n);_!==null;){var b=_.dependencies;if(b!==null){s=_.child;for(var C=b.firstContext;C!==null;){if(C.context===a&&(C.observedBits&m)!=0){_.tag===1&&(C=_l(-1,i&-i),C.tag=2,xl(_,C)),_.lanes|=i,C=_.alternate,C!==null&&(C.lanes|=i),Xw(_.return,i),b.lanes|=i;break}C=C.next}}else s=_.tag===10&&_.type===n.type?null:_.child;if(s!==null)s.return=_;else for(s=_;s!==null;){if(s===n){s=null;break}if(_=s.sibling,_!==null){_.return=s.return,s=_;break}s=s.return}_=s}To(e,n,p.children,i),n=n.child}return n;case 9:return p=n.type,m=n.pendingProps,a=m.children,Yc(n,i),p=Ko(p,m.unstable_observedBits),a=a(p),n.flags|=1,To(e,n,a,i),n.child;case 14:return p=n.type,m=va(p,n.pendingProps),m=va(p.type,m),x2(e,n,p,m,a,i);case 15:return b2(e,n,n.type,n.pendingProps,a,i);case 17:return a=n.type,p=n.pendingProps,p=n.elementType===a?p:va(a,p),e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,Eo(a)?(e=!0,$m(n)):e=!1,Yc(n,i),t2(n,a,p),w_(n,a,p,i),D_(null,n,a,!0,e,i);case 19:return M2(e,n,i);case 23:return L_(e,n,i);case 24:return L_(e,n,i)}throw Error(ut(156,n.tag))};function wM(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(e,n,i,a){return new wM(e,n,i,a)}function n0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EM(e){if(typeof e=="function")return n0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gm)return 11;if(e===_m)return 14}return 2}function Pl(e,n){var i=e.alternate;return i===null?(i=Qo(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function yy(e,n,i,a,p,m){var s=2;if(a=e,typeof e=="function")n0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ll:return op(i.children,p,m,n);case _b:s=8,p|=16;break;case hv:s=8,p|=1;break;case kh:return e=Qo(12,i,n,p|8),e.elementType=kh,e.type=kh,e.lanes=m,e;case Mh:return e=Qo(13,i,n,p),e.type=Mh,e.elementType=Mh,e.lanes=m,e;case vm:return e=Qo(19,i,n,p),e.elementType=vm,e.lanes=m,e;case vv:return r0(i,p,m,n);case _v:return e=Qo(24,i,n,p),e.elementType=_v,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fv:s=10;break e;case dv:s=9;break e;case gm:s=11;break e;case _m:s=14;break e;case mv:s=16,a=null;break e;case yv:s=22;break e}throw Error(ut(130,e==null?e:typeof e,""))}return n=Qo(s,i,n,p),n.elementType=e,n.type=a,n.lanes=m,n}function op(e,n,i,a){return e=Qo(7,e,a,n),e.lanes=i,e}function r0(e,n,i,a){return e=Qo(23,e,a,n),e.elementType=vv,e.lanes=i,e}function i0(e,n,i){return e=Qo(6,e,null,n),e.lanes=i,e}function o0(e,n,i){return n=Qo(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function SM(e,n,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wv(0),this.expirationTimes=Wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wv(0),this.mutableSourceEagerHydrationData=null}function TM(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hu,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function gy(e,n,i,a){var p=n.current,m=Do(),s=El(p);e:if(i){i=i._reactInternals;t:{if(du(i)!==i||i.tag!==1)throw Error(ut(170));var _=i;do{switch(_.tag){case 3:_=_.stateNode.context;break t;case 1:if(Eo(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break t}}_=_.return}while(_!==null);throw Error(ut(171))}if(i.tag===1){var b=i.type;if(Eo(b)){i=Nw(i,b,_);break e}}i=_}else i=gl;return n.context===null?n.context=i:n.pendingContext=i,n=_l(m,s),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),xl(p,n),Sl(p,s,m),s}function a0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eE(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function s0(e,n){eE(e,n),(e=e.alternate)&&eE(e,n)}function CM(){return null}function l0(e,n,i){var a=i!=null&&i.hydrationOptions!=null&&i.hydrationOptions.mutableSources||null;if(i=new SM(e,n,i!=null&&i.hydrate===!0),n=Qo(3,null,null,n===2?7:n===1?3:0),i.current=n,n.stateNode=i,b_(n),e[Wc]=i.current,Iw(e.nodeType===8?e.parentNode:e),a)for(e=0;e<a.length;e++){n=a[e];var p=n._getVersion;p=p(n._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[n,p]:i.mutableSourceEagerHydrationData.push(n,p)}this._internalRoot=i}l0.prototype.render=function(e){gy(e,this._internalRoot,null,null)};l0.prototype.unmount=function(){var e=this._internalRoot,n=e.containerInfo;gy(null,e,null,function(){n[Wc]=null})};function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function PM(e,n){if(n||(n=e?e.nodeType===9?e.documentElement:e.firstChild:null,n=!(!n||n.nodeType!==1||!n.hasAttribute("data-reactroot"))),!n)for(var i;i=e.lastChild;)e.removeChild(i);return new l0(e,0,n?{hydrate:!0}:void 0)}function vy(e,n,i,a,p){var m=i._reactRootContainer;if(m){var s=m._internalRoot;if(typeof p=="function"){var _=p;p=function(){var C=a0(s);_.call(C)}}gy(n,s,e,p)}else{if(m=i._reactRootContainer=PM(i,a),s=m._internalRoot,typeof p=="function"){var b=p;p=function(){var C=a0(s);b.call(C)}}Z2(function(){gy(n,s,e,p)})}return a0(s)}jb=function(e){if(e.tag===13){var n=Do();Sl(e,4,n),s0(e,4)}};Nv=function(e){if(e.tag===13){var n=Do();Sl(e,67108864,n),s0(e,67108864)}};$b=function(e){if(e.tag===13){var n=Do(),i=El(e);Sl(e,i,n),s0(e,i)}};qb=function(e,n){return n()};zv=function(e,n,i){switch(n){case"input":if(Ev(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var p=Vm(a);if(!p)throw Error(ut(90));wb(a),Ev(a,p)}}}break;case"textarea":Pb(e,i);break;case"select":n=i.value,n!=null&&Lc(e,!!i.multiple,n,!1)}};Rv=W2;Db=function(e,n,i,a,p){var m=sn;sn|=4;try{return vu(98,e.bind(null,n,i,a,p))}finally{sn=m,sn===0&&(np(),Ka())}};Lv=function(){(sn&49)==0&&(fM(),Tl())};Fb=function(e,n){var i=sn;sn|=2;try{return e(n)}finally{sn=i,sn===0&&(np(),Ka())}};function tE(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(n))throw Error(ut(200));return TM(e,n,null,i)}var IM={Events:[Qh,Zc,Vm,Lb,Ob,Tl,{current:!1}]},bf={findFiberByHostInstance:mu,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},kM={bundleType:bf.bundleType,version:bf.version,rendererPackageName:bf.rendererPackageName,rendererConfig:bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ub(e),e===null?null:e.stateNode},findFiberByHostInstance:bf.findFiberByHostInstance||CM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var _y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_y.isDisabled&&_y.supportsFiber)try{f_=_y.inject(kM),gu=_y}catch{}}Ho.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IM;Ho.createPortal=tE;Ho.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ut(188)):Error(ut(268,Object.keys(e)));return e=Ub(n),e=e===null?null:e.stateNode,e};Ho.flushSync=function(e,n){var i=sn;if((i&48)!=0)return e(n);sn|=1;try{if(e)return vu(99,e.bind(null,n))}finally{sn=i,Ka()}};Ho.hydrate=function(e,n,i){if(!xf(n))throw Error(ut(200));return vy(null,e,n,!0,i)};Ho.render=function(e,n,i){if(!xf(n))throw Error(ut(200));return vy(null,e,n,!1,i)};Ho.unmountComponentAtNode=function(e){if(!xf(e))throw Error(ut(40));return e._reactRootContainer?(Z2(function(){vy(null,null,e,!1,function(){e._reactRootContainer=null,e[Wc]=null})}),!0):!1};Ho.unstable_batchedUpdates=W2;Ho.unstable_createPortal=function(e,n){return tE(e,n,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ho.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!xf(i))throw Error(ut(200));if(e==null||e._reactInternals===void 0)throw Error(ut(38));return vy(e,n,i,!1,a)};Ho.version="17.0.2";function nE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nE)}catch(e){console.error(e)}}nE(),lv.exports=Ho;var u0=lv.exports;function on(e,n){if(e==null)return{};var i={},a=Object.keys(e),p,m;for(m=0;m<a.length;m++)p=a[m],!(n.indexOf(p)>=0)&&(i[p]=e[p]);return i}function Pe(){return Pe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Pe.apply(this,arguments)}var MM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AM=MM,zM=AM;function rE(){}function iE(){}iE.resetWarningCache=rE;var RM=function(){function e(a,p,m,s,_,b){if(b!==zM){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function n(){return e}var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:iE,resetWarningCache:rE};return i.PropTypes=i,i};RM();function oE(e){var n,i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(i=oE(e[n]))&&(a&&(a+=" "),a+=i);else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Fn(){for(var e=0,n,i,a="";e<arguments.length;)(n=arguments[e++])&&(i=oE(n))&&(a&&(a+=" "),a+=i);return a}function c0(){return c0=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},c0.apply(this,arguments)}function aE(e){var n=Object.create(null);return function(i){return n[i]===void 0&&(n[i]=e(i)),n[i]}}var LM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,OM=aE(function(e){return LM.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function DM(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function FM(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var sE=function(){function e(i){var a=this;this._insertTag=function(p){var m;a.tags.length===0?a.insertionPoint?m=a.insertionPoint.nextSibling:a.prepend?m=a.container.firstChild:m=a.before:m=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(p,m),a.tags.push(p)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(a){a.forEach(this._insertTag)},n.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(FM(this));var p=this.tags[this.tags.length-1];if(this.isSpeedy){var m=DM(p);try{m.insertRule(a,m.cssRules.length)}catch{}}else p.appendChild(document.createTextNode(a));this.ctr++},n.flush=function(){this.tags.forEach(function(a){return a.parentNode&&a.parentNode.removeChild(a)}),this.tags=[],this.ctr=0},e}(),eo="-ms-",xy="-moz-",$n="-webkit-",lE="comm",p0="rule",h0="decl",BM="@import",uE="@keyframes",NM=Math.abs,by=String.fromCharCode,UM=Object.assign;function VM(e,n){return(((n<<2^Co(e,0))<<2^Co(e,1))<<2^Co(e,2))<<2^Co(e,3)}function cE(e){return e.trim()}function jM(e,n){return(e=n.exec(e))?e[0]:e}function Zn(e,n,i){return e.replace(n,i)}function f0(e,n){return e.indexOf(n)}function Co(e,n){return e.charCodeAt(n)|0}function wf(e,n,i){return e.slice(n,i)}function ts(e){return e.length}function d0(e){return e.length}function wy(e,n){return n.push(e),e}function $M(e,n){return e.map(n).join("")}var Ey=1,ap=1,pE=0,Po=0,fi=0,sp="";function Sy(e,n,i,a,p,m,s){return{value:e,root:n,parent:i,type:a,props:p,children:m,line:Ey,column:ap,length:s,return:""}}function Ef(e,n){return UM(Sy("",null,null,"",null,null,0),e,{length:-e.length},n)}function qM(){return fi}function WM(){return fi=Po>0?Co(sp,--Po):0,ap--,fi===10&&(ap=1,Ey--),fi}function Fo(){return fi=Po<pE?Co(sp,Po++):0,ap++,fi===10&&(ap=1,Ey++),fi}function ns(){return Co(sp,Po)}function Ty(){return Po}function Sf(e,n){return wf(sp,e,n)}function Tf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hE(e){return Ey=ap=1,pE=ts(sp=e),Po=0,[]}function fE(e){return sp="",e}function Cy(e){return cE(Sf(Po-1,m0(e===91?e+2:e===40?e+1:e)))}function ZM(e){for(;(fi=ns())&&fi<33;)Fo();return Tf(e)>2||Tf(fi)>3?"":" "}function GM(e,n){for(;--n&&Fo()&&!(fi<48||fi>102||fi>57&&fi<65||fi>70&&fi<97););return Sf(e,Ty()+(n<6&&ns()==32&&Fo()==32))}function m0(e){for(;Fo();)switch(fi){case e:return Po;case 34:case 39:e!==34&&e!==39&&m0(fi);break;case 40:e===41&&m0(e);break;case 92:Fo();break}return Po}function HM(e,n){for(;Fo()&&e+fi!==47+10;)if(e+fi===42+42&&ns()===47)break;return"/*"+Sf(n,Po-1)+"*"+by(e===47?e:Fo())}function XM(e){for(;!Tf(ns());)Fo();return Sf(e,Po)}function KM(e){return fE(Py("",null,null,null,[""],e=hE(e),0,[0],e))}function Py(e,n,i,a,p,m,s,_,b){for(var C=0,M=0,O=s,R=0,Y=0,ee=0,J=1,q=1,B=1,$=0,Q="",H=p,ye=m,me=a,xe=Q;q;)switch(ee=$,$=Fo()){case 40:if(ee!=108&&xe.charCodeAt(O-1)==58){f0(xe+=Zn(Cy($),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:xe+=Cy($);break;case 9:case 10:case 13:case 32:xe+=ZM(ee);break;case 92:xe+=GM(Ty()-1,7);continue;case 47:switch(ns()){case 42:case 47:wy(YM(HM(Fo(),Ty()),n,i),b);break;default:xe+="/"}break;case 123*J:_[C++]=ts(xe)*B;case 125*J:case 59:case 0:switch($){case 0:case 125:q=0;case 59+M:Y>0&&ts(xe)-O&&wy(Y>32?mE(xe+";",a,i,O-1):mE(Zn(xe," ","")+";",a,i,O-2),b);break;case 59:xe+=";";default:if(wy(me=dE(xe,n,i,C,M,p,_,Q,H=[],ye=[],O),m),$===123)if(M===0)Py(xe,n,me,me,H,m,O,_,ye);else switch(R){case 100:case 109:case 115:Py(e,me,me,a&&wy(dE(e,me,me,0,0,p,_,Q,p,H=[],O),ye),p,ye,O,_,a?H:ye);break;default:Py(xe,me,me,me,[""],ye,0,_,ye)}}C=M=Y=0,J=B=1,Q=xe="",O=s;break;case 58:O=1+ts(xe),Y=ee;default:if(J<1){if($==123)--J;else if($==125&&J++==0&&WM()==125)continue}switch(xe+=by($),$*J){case 38:B=M>0?1:(xe+="\f",-1);break;case 44:_[C++]=(ts(xe)-1)*B,B=1;break;case 64:ns()===45&&(xe+=Cy(Fo())),R=ns(),M=O=ts(Q=xe+=XM(Ty())),$++;break;case 45:ee===45&&ts(xe)==2&&(J=0)}}return m}function dE(e,n,i,a,p,m,s,_,b,C,M){for(var O=p-1,R=p===0?m:[""],Y=d0(R),ee=0,J=0,q=0;ee<a;++ee)for(var B=0,$=wf(e,O+1,O=NM(J=s[ee])),Q=e;B<Y;++B)(Q=cE(J>0?R[B]+" "+$:Zn($,/&\f/g,R[B])))&&(b[q++]=Q);return Sy(e,n,i,p===0?p0:_,b,C,M)}function YM(e,n,i){return Sy(e,n,i,lE,by(qM()),wf(e,2,-2),0)}function mE(e,n,i,a){return Sy(e,n,i,h0,wf(e,0,a),wf(e,a+1,-1),a)}function yE(e,n){switch(VM(e,n)){case 5103:return $n+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $n+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $n+e+xy+e+eo+e+e;case 6828:case 4268:return $n+e+eo+e+e;case 6165:return $n+e+eo+"flex-"+e+e;case 5187:return $n+e+Zn(e,/(\w+).+(:[^]+)/,$n+"box-$1$2"+eo+"flex-$1$2")+e;case 5443:return $n+e+eo+"flex-item-"+Zn(e,/flex-|-self/,"")+e;case 4675:return $n+e+eo+"flex-line-pack"+Zn(e,/align-content|flex-|-self/,"")+e;case 5548:return $n+e+eo+Zn(e,"shrink","negative")+e;case 5292:return $n+e+eo+Zn(e,"basis","preferred-size")+e;case 6060:return $n+"box-"+Zn(e,"-grow","")+$n+e+eo+Zn(e,"grow","positive")+e;case 4554:return $n+Zn(e,/([^-])(transform)/g,"$1"+$n+"$2")+e;case 6187:return Zn(Zn(Zn(e,/(zoom-|grab)/,$n+"$1"),/(image-set)/,$n+"$1"),e,"")+e;case 5495:case 3959:return Zn(e,/(image-set\([^]*)/,$n+"$1$`$1");case 4968:return Zn(Zn(e,/(.+:)(flex-)?(.*)/,$n+"box-pack:$3"+eo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$n+e+e;case 4095:case 3583:case 4068:case 2532:return Zn(e,/(.+)-inline(.+)/,$n+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ts(e)-1-n>6)switch(Co(e,n+1)){case 109:if(Co(e,n+4)!==45)break;case 102:return Zn(e,/(.+:)(.+)-([^]+)/,"$1"+$n+"$2-$3$1"+xy+(Co(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~f0(e,"stretch")?yE(Zn(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(Co(e,n+1)!==115)break;case 6444:switch(Co(e,ts(e)-3-(~f0(e,"!important")&&10))){case 107:return Zn(e,":",":"+$n)+e;case 101:return Zn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$n+(Co(e,14)===45?"inline-":"")+"box$3$1"+$n+"$2$3$1"+eo+"$2box$3")+e}break;case 5936:switch(Co(e,n+11)){case 114:return $n+e+eo+Zn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $n+e+eo+Zn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $n+e+eo+Zn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $n+e+eo+e+e}return e}function lp(e,n){for(var i="",a=d0(e),p=0;p<a;p++)i+=n(e[p],p,e,n)||"";return i}function JM(e,n,i,a){switch(e.type){case BM:case h0:return e.return=e.return||e.value;case lE:return"";case uE:return e.return=e.value+"{"+lp(e.children,a)+"}";case p0:e.value=e.props.join(",")}return ts(i=lp(e.children,a))?e.return=e.value+"{"+i+"}":""}function QM(e){var n=d0(e);return function(i,a,p,m){for(var s="",_=0;_<n;_++)s+=e[_](i,a,p,m)||"";return s}}function eA(e){return function(n){n.root||(n=n.return)&&e(n)}}function tA(e,n,i,a){if(e.length>-1&&!e.return)switch(e.type){case h0:e.return=yE(e.value,e.length);break;case uE:return lp([Ef(e,{value:Zn(e.value,"@","@"+$n)})],a);case p0:if(e.length)return $M(e.props,function(p){switch(jM(p,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lp([Ef(e,{props:[Zn(p,/:(read-\w+)/,":"+xy+"$1")]})],a);case"::placeholder":return lp([Ef(e,{props:[Zn(p,/:(plac\w+)/,":"+$n+"input-$1")]}),Ef(e,{props:[Zn(p,/:(plac\w+)/,":"+xy+"$1")]}),Ef(e,{props:[Zn(p,/:(plac\w+)/,eo+"input-$1")]})],a)}return""})}}var nA=function(n,i,a){for(var p=0,m=0;p=m,m=ns(),p===38&&m===12&&(i[a]=1),!Tf(m);)Fo();return Sf(n,Po)},rA=function(n,i){var a=-1,p=44;do switch(Tf(p)){case 0:p===38&&ns()===12&&(i[a]=1),n[a]+=nA(Po-1,i,a);break;case 2:n[a]+=Cy(p);break;case 4:if(p===44){n[++a]=ns()===58?"&\f":"",i[a]=n[a].length;break}default:n[a]+=by(p)}while(p=Fo());return n},iA=function(n,i){return fE(rA(hE(n),i))},gE=new WeakMap,oA=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var i=n.value,a=n.parent,p=n.column===a.column&&n.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(n.props.length===1&&i.charCodeAt(0)!==58&&!gE.get(a))&&!p){gE.set(n,!0);for(var m=[],s=iA(i,m),_=a.props,b=0,C=0;b<s.length;b++)for(var M=0;M<_.length;M++,C++)n.props[C]=m[b]?s[b].replace(/&\f/g,_[M]):_[M]+" "+s[b]}}},aA=function(n){if(n.type==="decl"){var i=n.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(n.return="",n.value="")}},sA=[tA],lA=function(n){var i=n.key;if(i==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(J){var q=J.getAttribute("data-emotion");q.indexOf(" ")!==-1&&(document.head.appendChild(J),J.setAttribute("data-s",""))})}var p=n.stylisPlugins||sA,m={},s,_=[];s=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(J){for(var q=J.getAttribute("data-emotion").split(" "),B=1;B<q.length;B++)m[q[B]]=!0;_.push(J)});var b,C=[oA,aA];{var M,O=[JM,eA(function(J){M.insert(J)})],R=QM(C.concat(p,O)),Y=function(q){return lp(KM(q),R)};b=function(q,B,$,Q){M=$,Y(q?q+"{"+B.styles+"}":B.styles),Q&&(ee.inserted[B.name]=!0)}}var ee={key:i,sheet:new sE({key:i,container:s,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:m,registered:{},insert:b};return ee.sheet.hydrate(_),ee},vE={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ii=typeof Symbol=="function"&&Symbol.for,y0=Ii?Symbol.for("react.element"):60103,g0=Ii?Symbol.for("react.portal"):60106,Iy=Ii?Symbol.for("react.fragment"):60107,ky=Ii?Symbol.for("react.strict_mode"):60108,My=Ii?Symbol.for("react.profiler"):60114,Ay=Ii?Symbol.for("react.provider"):60109,zy=Ii?Symbol.for("react.context"):60110,v0=Ii?Symbol.for("react.async_mode"):60111,Ry=Ii?Symbol.for("react.concurrent_mode"):60111,Ly=Ii?Symbol.for("react.forward_ref"):60112,Oy=Ii?Symbol.for("react.suspense"):60113,uA=Ii?Symbol.for("react.suspense_list"):60120,Dy=Ii?Symbol.for("react.memo"):60115,Fy=Ii?Symbol.for("react.lazy"):60116,cA=Ii?Symbol.for("react.block"):60121,pA=Ii?Symbol.for("react.fundamental"):60117,hA=Ii?Symbol.for("react.responder"):60118,fA=Ii?Symbol.for("react.scope"):60119;function Bo(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case y0:switch(e=e.type,e){case v0:case Ry:case Iy:case My:case ky:case Oy:return e;default:switch(e=e&&e.$$typeof,e){case zy:case Ly:case Fy:case Dy:case Ay:return e;default:return n}}case g0:return n}}}function _E(e){return Bo(e)===Ry}er.AsyncMode=v0;er.ConcurrentMode=Ry;er.ContextConsumer=zy;er.ContextProvider=Ay;er.Element=y0;er.ForwardRef=Ly;er.Fragment=Iy;er.Lazy=Fy;er.Memo=Dy;er.Portal=g0;er.Profiler=My;er.StrictMode=ky;er.Suspense=Oy;er.isAsyncMode=function(e){return _E(e)||Bo(e)===v0};er.isConcurrentMode=_E;er.isContextConsumer=function(e){return Bo(e)===zy};er.isContextProvider=function(e){return Bo(e)===Ay};er.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===y0};er.isForwardRef=function(e){return Bo(e)===Ly};er.isFragment=function(e){return Bo(e)===Iy};er.isLazy=function(e){return Bo(e)===Fy};er.isMemo=function(e){return Bo(e)===Dy};er.isPortal=function(e){return Bo(e)===g0};er.isProfiler=function(e){return Bo(e)===My};er.isStrictMode=function(e){return Bo(e)===ky};er.isSuspense=function(e){return Bo(e)===Oy};er.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Iy||e===Ry||e===My||e===ky||e===Oy||e===uA||typeof e=="object"&&e!==null&&(e.$$typeof===Fy||e.$$typeof===Dy||e.$$typeof===Ay||e.$$typeof===zy||e.$$typeof===Ly||e.$$typeof===pA||e.$$typeof===hA||e.$$typeof===fA||e.$$typeof===cA)};er.typeOf=Bo;vE.exports=er;var xE=vE.exports,dA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bE={};bE[xE.ForwardRef]=dA;bE[xE.Memo]=mA;var yA=!0;function gA(e,n,i){var a="";return i.split(" ").forEach(function(p){e[p]!==void 0?n.push(e[p]+";"):a+=p+" "}),a}var wE=function(n,i,a){var p=n.key+"-"+i.name;if((a===!1||yA===!1)&&n.registered[p]===void 0&&(n.registered[p]=i.styles),n.inserted[i.name]===void 0){var m=i;do n.insert(i===m?"."+p:"",m,n.sheet,!0),m=m.next;while(m!==void 0)}};function vA(e){for(var n=0,i,a=0,p=e.length;p>=4;++a,p-=4)i=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,n=(i&65535)*1540483477+((i>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(p){case 3:n^=(e.charCodeAt(a+2)&255)<<16;case 2:n^=(e.charCodeAt(a+1)&255)<<8;case 1:n^=e.charCodeAt(a)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var _A={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xA=/[A-Z]|^ms/g,bA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EE=function(n){return n.charCodeAt(1)===45},SE=function(n){return n!=null&&typeof n!="boolean"},_0=aE(function(e){return EE(e)?e:e.replace(xA,"-$&").toLowerCase()}),TE=function(n,i){switch(n){case"animation":case"animationName":if(typeof i=="string")return i.replace(bA,function(a,p,m){return rs={name:p,styles:m,next:rs},p})}return _A[n]!==1&&!EE(n)&&typeof i=="number"&&i!==0?i+"px":i};function Cf(e,n,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return rs={name:i.name,styles:i.styles,next:rs},i.name;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)rs={name:a.name,styles:a.styles,next:rs},a=a.next;var p=i.styles+";";return p}return wA(e,n,i)}case"function":{if(e!==void 0){var m=rs,s=i(e);return rs=m,Cf(e,n,s)}break}}if(n==null)return i;var _=n[i];return _!==void 0?_:i}function wA(e,n,i){var a="";if(Array.isArray(i))for(var p=0;p<i.length;p++)a+=Cf(e,n,i[p])+";";else for(var m in i){var s=i[m];if(typeof s!="object")n!=null&&n[s]!==void 0?a+=m+"{"+n[s]+"}":SE(s)&&(a+=_0(m)+":"+TE(m,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(n==null||n[s[0]]===void 0))for(var _=0;_<s.length;_++)SE(s[_])&&(a+=_0(m)+":"+TE(m,s[_])+";");else{var b=Cf(e,n,s);switch(m){case"animation":case"animationName":{a+=_0(m)+":"+b+";";break}default:a+=m+"{"+b+"}"}}}return a}var CE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,rs,x0=function(n,i,a){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var p=!0,m="";rs=void 0;var s=n[0];s==null||s.raw===void 0?(p=!1,m+=Cf(a,i,s)):m+=s[0];for(var _=1;_<n.length;_++)m+=Cf(a,i,n[_]),p&&(m+=s[_]);CE.lastIndex=0;for(var b="",C;(C=CE.exec(m))!==null;)b+="-"+C[1];var M=vA(m)+b;return{name:M,styles:m,next:rs}},PE=le.exports.createContext(typeof HTMLElement!="undefined"?lA({key:"css"}):null);PE.Provider;var IE=function(n){return le.exports.forwardRef(function(i,a){var p=le.exports.useContext(PE);return n(i,p,a)})},b0=le.exports.createContext({}),EA=IE(function(e,n){var i=e.styles,a=x0([i],void 0,le.exports.useContext(b0)),p=le.exports.useRef();return le.exports.useLayoutEffect(function(){var m=n.key+"-global",s=new sE({key:m,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),_=!1,b=document.querySelector('style[data-emotion="'+m+" "+a.name+'"]');return n.sheet.tags.length&&(s.before=n.sheet.tags[0]),b!==null&&(_=!0,b.setAttribute("data-emotion",m),s.hydrate([b])),p.current=[s,_],function(){s.flush()}},[n]),le.exports.useLayoutEffect(function(){var m=p.current,s=m[0],_=m[1];if(_){m[1]=!1;return}if(a.next!==void 0&&wE(n,a.next,!0),s.tags.length){var b=s.tags[s.tags.length-1].nextElementSibling;s.before=b,s.flush()}n.insert("",a,s,!1)},[n,a.name]),null});function SA(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return x0(n)}var w0=function(){var n=SA.apply(void 0,arguments),i="animation-"+n.name;return{name:i,styles:"@keyframes "+i+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},TA=OM,CA=function(n){return n!=="theme"},kE=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?TA:CA},ME=function(n,i,a){var p;if(i){var m=i.shouldForwardProp;p=n.__emotion_forwardProp&&m?function(s){return n.__emotion_forwardProp(s)&&m(s)}:m}return typeof p!="function"&&a&&(p=n.__emotion_forwardProp),p},PA=function(){return null},IA=function e(n,i){var a=n.__emotion_real===n,p=a&&n.__emotion_base||n,m,s;i!==void 0&&(m=i.label,s=i.target);var _=ME(n,i,a),b=_||kE(p),C=!b("as");return function(){var M=arguments,O=a&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(m!==void 0&&O.push("label:"+m+";"),M[0]==null||M[0].raw===void 0)O.push.apply(O,M);else{O.push(M[0][0]);for(var R=M.length,Y=1;Y<R;Y++)O.push(M[Y],M[0][Y])}var ee=IE(function(J,q,B){var $=C&&J.as||p,Q="",H=[],ye=J;if(J.theme==null){ye={};for(var me in J)ye[me]=J[me];ye.theme=le.exports.useContext(b0)}typeof J.className=="string"?Q=gA(q.registered,H,J.className):J.className!=null&&(Q=J.className+" ");var xe=x0(O.concat(H),q.registered,ye);wE(q,xe,typeof $=="string"),Q+=q.key+"-"+xe.name,s!==void 0&&(Q+=" "+s);var Te=C&&_===void 0?kE($):b,Se={};for(var Ne in J)C&&Ne==="as"||Te(Ne)&&(Se[Ne]=J[Ne]);Se.className=Q,Se.ref=B;var He=le.exports.createElement($,Se),yt=le.exports.createElement(PA,null);return le.exports.createElement(le.exports.Fragment,null,yt,He)});return ee.displayName=m!==void 0?m:"Styled("+(typeof p=="string"?p:p.displayName||p.name||"Component")+")",ee.defaultProps=n.defaultProps,ee.__emotion_real=ee,ee.__emotion_base=p,ee.__emotion_styles=O,ee.__emotion_forwardProp=_,Object.defineProperty(ee,"toString",{value:function(){return"."+s}}),ee.withComponent=function(J,q){return e(J,c0({},i,q,{shouldForwardProp:ME(ee,q,!0)})).apply(void 0,O)},ee}},kA=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],E0=IA.bind();kA.forEach(function(e){E0[e]=E0(e)});var MA=E0,AA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zA=AA,RA=zA;function AE(){}function zE(){}zE.resetWarningCache=AE;var LA=function(){function e(a,p,m,s,_,b){if(b!==RA){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function n(){return e}var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:zE,resetWarningCache:AE};return i.PropTypes=i,i};LA();var S0={exports:{}},Pf={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=le.exports,RE=60103;Pf.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var LE=Symbol.for;RE=LE("react.element"),Pf.Fragment=LE("react.fragment")}var DA=OA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FA=Object.prototype.hasOwnProperty,BA={key:!0,ref:!0,__self:!0,__source:!0};function OE(e,n,i){var a,p={},m=null,s=null;i!==void 0&&(m=""+i),n.key!==void 0&&(m=""+n.key),n.ref!==void 0&&(s=n.ref);for(a in n)FA.call(n,a)&&!BA.hasOwnProperty(a)&&(p[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)p[a]===void 0&&(p[a]=n[a]);return{$$typeof:RE,type:e,key:m,ref:s,props:p,_owner:DA.current}}Pf.jsx=OE;Pf.jsxs=OE;S0.exports=Pf;const Et=S0.exports.jsx,Io=S0.exports.jsxs;function NA(e){return e==null||Object.keys(e).length===0}function UA(e){const{styles:n,defaultTheme:i={}}=e;return Et(EA,{styles:typeof n=="function"?p=>n(NA(p)?i:p):n})}/** @license MUI v5.2.6
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function DE(e,n){return MA(e,n)}var VA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jA=VA,$A=jA;function FE(){}function BE(){}BE.resetWarningCache=FE;var qA=function(){function e(a,p,m,s,_,b){if(b!==$A){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function n(){return e}var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:BE,resetWarningCache:FE};return i.PropTypes=i,i};qA();function If(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function ea(e,n,i={clone:!0}){const a=i.clone?Pe({},e):e;return If(e)&&If(n)&&Object.keys(n).forEach(p=>{p!=="__proto__"&&(If(n[p])&&p in e&&If(e[p])?a[p]=ea(e[p],n[p],i):a[p]=n[p])}),a}function Su(e){let n="https://mui.com/production-error/?code="+e;for(let i=1;i<arguments.length;i+=1)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}function qn(e){if(typeof e!="string")throw new Error(Su(7));return e.charAt(0).toUpperCase()+e.slice(1)}function NE(...e){return e.reduce((n,i)=>i==null?n:function(...p){n.apply(this,p),i.apply(this,p)},()=>{})}function UE(e,n=166){let i;function a(...p){const m=()=>{e.apply(this,p)};clearTimeout(i),i=setTimeout(m,n)}return a.clear=()=>{clearTimeout(i)},a}function T0(e,n){return le.exports.isValidElement(e)&&n.indexOf(e.type.muiName)!==-1}function ta(e){return e&&e.ownerDocument||document}function Tu(e){return ta(e).defaultView||window}function By(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const WA=typeof window!="undefined"?le.exports.useLayoutEffect:le.exports.useEffect;var Cu=WA;function VE({controlled:e,default:n,name:i,state:a="value"}){const{current:p}=le.exports.useRef(e!==void 0),[m,s]=le.exports.useState(n),_=p?e:m,b=le.exports.useCallback(C=>{p||s(C)},[]);return[_,b]}function up(e){const n=le.exports.useRef(e);return Cu(()=>{n.current=e}),le.exports.useCallback((...i)=>(0,n.current)(...i),[])}function ki(e,n){return le.exports.useMemo(()=>e==null&&n==null?null:i=>{By(e,i),By(n,i)},[e,n])}let Ny=!0,C0=!1,jE;const ZA={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function GA(e){const{type:n,tagName:i}=e;return!!(i==="INPUT"&&ZA[n]&&!e.readOnly||i==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function HA(e){e.metaKey||e.altKey||e.ctrlKey||(Ny=!0)}function P0(){Ny=!1}function XA(){this.visibilityState==="hidden"&&C0&&(Ny=!0)}function KA(e){e.addEventListener("keydown",HA,!0),e.addEventListener("mousedown",P0,!0),e.addEventListener("pointerdown",P0,!0),e.addEventListener("touchstart",P0,!0),e.addEventListener("visibilitychange",XA,!0)}function YA(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return Ny||GA(n)}function JA(){const e=le.exports.useCallback(p=>{p!=null&&KA(p.ownerDocument)},[]),n=le.exports.useRef(!1);function i(){return n.current?(C0=!0,window.clearTimeout(jE),jE=window.setTimeout(()=>{C0=!1},100),n.current=!1,!0):!1}function a(p){return YA(p)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:a,onBlur:i,ref:e}}function $E(e){const n=e.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}function QA(e,n){const i=Pe({},n);return Object.keys(e).forEach(a=>{i[a]===void 0&&(i[a]=e[a])}),i}function kf(e,n){return n?ea(e,n,{clone:!1}):e}const I0={xs:0,sm:600,md:900,lg:1200,xl:1536},qE={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${I0[e]}px)`};function xa(e,n,i){const a=e.theme||{};if(Array.isArray(n)){const m=a.breakpoints||qE;return n.reduce((s,_,b)=>(s[m.up(m.keys[b])]=i(n[b]),s),{})}if(typeof n=="object"){const m=a.breakpoints||qE;return Object.keys(n).reduce((s,_)=>{if(Object.keys(m.values||I0).indexOf(_)!==-1){const b=m.up(_);s[b]=i(n[_],_)}else{const b=_;s[b]=n[b]}return s},{})}return i(n)}function ez(e={}){var n;return(e==null||(n=e.keys)==null?void 0:n.reduce((a,p)=>{const m=e.up(p);return a[m]={},a},{}))||{}}function tz(e,n){return e.reduce((i,a)=>{const p=i[a];return(!p||Object.keys(p).length===0)&&delete i[a],i},n)}function nz(e,n){if(typeof e!="object")return{};const i={},a=Object.keys(n);return Array.isArray(e)?a.forEach((p,m)=>{m<e.length&&(i[p]=!0)}):a.forEach(p=>{e[p]!=null&&(i[p]=!0)}),i}function Uy({values:e,breakpoints:n,base:i}){const a=i||nz(e,n),p=Object.keys(a);if(p.length===0)return e;let m;return p.reduce((s,_,b)=>(Array.isArray(e)?(s[_]=e[b]!=null?e[b]:e[m],m=b):(s[_]=e[_]!=null?e[_]:e[m]||e,m=_),s),{})}function k0(e,n){return!n||typeof n!="string"?null:n.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e)}function WE(e,n,i,a=i){let p;return typeof e=="function"?p=e(i):Array.isArray(e)?p=e[i]||a:p=k0(e,i)||a,n&&(p=n(p)),p}function Rt(e){const{prop:n,cssProperty:i=e.prop,themeKey:a,transform:p}=e,m=s=>{if(s[n]==null)return null;const _=s[n],b=s.theme,C=k0(b,a)||{};return xa(s,_,O=>{let R=WE(C,p,O);return O===R&&typeof O=="string"&&(R=WE(C,p,`${n}${O==="default"?"":qn(O)}`,O)),i===!1?R:{[i]:R}})};return m.propTypes={},m.filterProps=[n],m}function Il(...e){const n=e.reduce((a,p)=>(p.filterProps.forEach(m=>{a[m]=p}),a),{}),i=a=>Object.keys(a).reduce((p,m)=>n[m]?kf(p,n[m](a)):p,{});return i.propTypes={},i.filterProps=e.reduce((a,p)=>a.concat(p.filterProps),[]),i}function rz(e){const n={};return i=>(n[i]===void 0&&(n[i]=e(i)),n[i])}const iz={m:"margin",p:"padding"},oz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ZE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},az=rz(e=>{if(e.length>2)if(ZE[e])e=ZE[e];else return[e];const[n,i]=e.split(""),a=iz[n],p=oz[i]||"";return Array.isArray(p)?p.map(m=>a+m):[a+p]}),sz=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lz=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],GE=[...sz,...lz];function Mf(e,n,i,a){const p=k0(e,n)||i;return typeof p=="number"?m=>typeof m=="string"?m:p*m:Array.isArray(p)?m=>typeof m=="string"?m:p[m]:typeof p=="function"?p:()=>{}}function HE(e){return Mf(e,"spacing",8)}function Af(e,n){if(typeof n=="string"||n==null)return n;const i=Math.abs(n),a=e(i);return n>=0?a:typeof a=="number"?-a:`-${a}`}function uz(e,n){return i=>e.reduce((a,p)=>(a[p]=Af(n,i),a),{})}function cz(e,n,i,a){if(n.indexOf(i)===-1)return null;const p=az(i),m=uz(p,a),s=e[i];return xa(e,s,m)}function pz(e,n){const i=HE(e.theme);return Object.keys(e).map(a=>cz(e,n,a,i)).reduce(kf,{})}function Vy(e){return pz(e,GE)}Vy.propTypes={};Vy.filterProps=GE;function zf(e){return typeof e!="number"?e:`${e}px solid`}const hz=Rt({prop:"border",themeKey:"borders",transform:zf}),fz=Rt({prop:"borderTop",themeKey:"borders",transform:zf}),dz=Rt({prop:"borderRight",themeKey:"borders",transform:zf}),mz=Rt({prop:"borderBottom",themeKey:"borders",transform:zf}),yz=Rt({prop:"borderLeft",themeKey:"borders",transform:zf}),gz=Rt({prop:"borderColor",themeKey:"palette"}),vz=Rt({prop:"borderTopColor",themeKey:"palette"}),_z=Rt({prop:"borderRightColor",themeKey:"palette"}),xz=Rt({prop:"borderBottomColor",themeKey:"palette"}),bz=Rt({prop:"borderLeftColor",themeKey:"palette"}),M0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=Mf(e.theme,"shape.borderRadius",4),i=a=>({borderRadius:Af(n,a)});return xa(e,e.borderRadius,i)}return null};M0.propTypes={};M0.filterProps=["borderRadius"];const wz=Il(hz,fz,dz,mz,yz,gz,vz,_z,xz,bz,M0);var XE=wz;const Ez=Rt({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),Sz=Rt({prop:"display"}),Tz=Rt({prop:"overflow"}),Cz=Rt({prop:"textOverflow"}),Pz=Rt({prop:"visibility"}),Iz=Rt({prop:"whiteSpace"});var KE=Il(Ez,Sz,Tz,Cz,Pz,Iz);const kz=Rt({prop:"flexBasis"}),Mz=Rt({prop:"flexDirection"}),Az=Rt({prop:"flexWrap"}),zz=Rt({prop:"justifyContent"}),Rz=Rt({prop:"alignItems"}),Lz=Rt({prop:"alignContent"}),Oz=Rt({prop:"order"}),Dz=Rt({prop:"flex"}),Fz=Rt({prop:"flexGrow"}),Bz=Rt({prop:"flexShrink"}),Nz=Rt({prop:"alignSelf"}),Uz=Rt({prop:"justifyItems"}),Vz=Rt({prop:"justifySelf"}),jz=Il(kz,Mz,Az,zz,Rz,Lz,Oz,Dz,Fz,Bz,Nz,Uz,Vz);var YE=jz;const A0=e=>{if(e.gap!==void 0&&e.gap!==null){const n=Mf(e.theme,"spacing",8),i=a=>({gap:Af(n,a)});return xa(e,e.gap,i)}return null};A0.propTypes={};A0.filterProps=["gap"];const z0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=Mf(e.theme,"spacing",8),i=a=>({columnGap:Af(n,a)});return xa(e,e.columnGap,i)}return null};z0.propTypes={};z0.filterProps=["columnGap"];const R0=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=Mf(e.theme,"spacing",8),i=a=>({rowGap:Af(n,a)});return xa(e,e.rowGap,i)}return null};R0.propTypes={};R0.filterProps=["rowGap"];const $z=Rt({prop:"gridColumn"}),qz=Rt({prop:"gridRow"}),Wz=Rt({prop:"gridAutoFlow"}),Zz=Rt({prop:"gridAutoColumns"}),Gz=Rt({prop:"gridAutoRows"}),Hz=Rt({prop:"gridTemplateColumns"}),Xz=Rt({prop:"gridTemplateRows"}),Kz=Rt({prop:"gridTemplateAreas"}),Yz=Rt({prop:"gridArea"}),Jz=Il(A0,z0,R0,$z,qz,Wz,Zz,Gz,Hz,Xz,Kz,Yz);var JE=Jz;const Qz=Rt({prop:"color",themeKey:"palette"}),eR=Rt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),tR=Rt({prop:"backgroundColor",themeKey:"palette"}),nR=Il(Qz,eR,tR);var QE=nR;const rR=Rt({prop:"position"}),iR=Rt({prop:"zIndex",themeKey:"zIndex"}),oR=Rt({prop:"top"}),aR=Rt({prop:"right"}),sR=Rt({prop:"bottom"}),lR=Rt({prop:"left"});var eS=Il(rR,iR,oR,aR,sR,lR);const uR=Rt({prop:"boxShadow",themeKey:"shadows"});var tS=uR;function kl(e){return e<=1&&e!==0?`${e*100}%`:e}const cR=Rt({prop:"width",transform:kl}),nS=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=i=>{var a,p,m;return{maxWidth:((a=e.theme)==null||(p=a.breakpoints)==null||(m=p.values)==null?void 0:m[i])||I0[i]||kl(i)}};return xa(e,e.maxWidth,n)}return null};nS.filterProps=["maxWidth"];const pR=Rt({prop:"minWidth",transform:kl}),hR=Rt({prop:"height",transform:kl}),fR=Rt({prop:"maxHeight",transform:kl}),dR=Rt({prop:"minHeight",transform:kl});Rt({prop:"size",cssProperty:"width",transform:kl});Rt({prop:"size",cssProperty:"height",transform:kl});const mR=Rt({prop:"boxSizing"}),yR=Il(cR,nS,pR,hR,fR,dR,mR);var rS=yR;const gR=Rt({prop:"fontFamily",themeKey:"typography"}),vR=Rt({prop:"fontSize",themeKey:"typography"}),_R=Rt({prop:"fontStyle",themeKey:"typography"}),xR=Rt({prop:"fontWeight",themeKey:"typography"}),bR=Rt({prop:"letterSpacing"}),wR=Rt({prop:"lineHeight"}),ER=Rt({prop:"textAlign"}),SR=Rt({prop:"typography",cssProperty:!1,themeKey:"typography"}),TR=Il(SR,gR,vR,_R,xR,bR,wR,ER);var iS=TR;const oS={borders:XE.filterProps,display:KE.filterProps,flexbox:YE.filterProps,grid:JE.filterProps,positions:eS.filterProps,palette:QE.filterProps,shadows:tS.filterProps,sizing:rS.filterProps,spacing:Vy.filterProps,typography:iS.filterProps},CR={borders:XE,display:KE,flexbox:YE,grid:JE,positions:eS,palette:QE,shadows:tS,sizing:rS,spacing:Vy,typography:iS},L0=Object.keys(oS).reduce((e,n)=>(oS[n].forEach(i=>{e[i]=CR[n]}),e),{});function aS(e,n,i){const a={[e]:n,theme:i},p=L0[e];return p?p(a):{[e]:n}}function PR(...e){const n=e.reduce((a,p)=>a.concat(Object.keys(p)),[]),i=new Set(n);return e.every(a=>i.size===Object.keys(a).length)}function IR(e,n){return typeof e=="function"?e(n):e}function jy(e){const{sx:n,theme:i={}}=e||{};if(!n)return null;function a(p){let m=p;if(typeof p=="function")m=p(i);else if(typeof p!="object")return p;const s=ez(i.breakpoints),_=Object.keys(s);let b=s;return Object.keys(m).forEach(C=>{const M=IR(m[C],i);if(M!=null)if(typeof M=="object")if(L0[C])b=kf(b,aS(C,M,i));else{const O=xa({theme:i},M,R=>({[C]:R}));PR(O,M)?b[C]=jy({sx:M,theme:i}):b=kf(b,O)}else b=kf(b,aS(C,M,i))}),tz(_,b)}return Array.isArray(n)?n.map(a):a(n)}jy.filterProps=["sx"];const kR=["sx"],MR=e=>{const n={systemProps:{},otherProps:{}};return Object.keys(e).forEach(i=>{L0[i]?n.systemProps[i]=e[i]:n.otherProps[i]=e[i]}),n};function O0(e){const{sx:n}=e,i=on(e,kR),{systemProps:a,otherProps:p}=MR(i);let m;return Array.isArray(n)?m=[a,...n]:typeof n=="function"?m=(...s)=>{const _=n(...s);return If(_)?Pe({},a,_):a}:m=Pe({},a,n),Pe({},p,{sx:m})}const AR=["values","unit","step"];function zR(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:a=5}=e,p=on(e,AR),m=Object.keys(n);function s(O){return`@media (min-width:${typeof n[O]=="number"?n[O]:O}${i})`}function _(O){return`@media (max-width:${(typeof n[O]=="number"?n[O]:O)-a/100}${i})`}function b(O,R){const Y=m.indexOf(R);return`@media (min-width:${typeof n[O]=="number"?n[O]:O}${i}) and (max-width:${(Y!==-1&&typeof n[m[Y]]=="number"?n[m[Y]]:R)-a/100}${i})`}function C(O){return m.indexOf(O)+1<m.length?b(O,m[m.indexOf(O)+1]):s(O)}function M(O){const R=m.indexOf(O);return R===0?s(m[1]):R===m.length-1?_(m[R]):b(O,m[m.indexOf(O)+1]).replace("@media","@media not all and")}return Pe({keys:m,values:n,up:s,down:_,between:b,only:C,not:M,unit:i},p)}const RR={borderRadius:4};var LR=RR;function OR(e=8){if(e.mui)return e;const n=HE({spacing:e}),i=(...a)=>(a.length===0?[1]:a).map(m=>{const s=n(m);return typeof s=="number"?`${s}px`:s}).join(" ");return i.mui=!0,i}const DR=["breakpoints","palette","spacing","shape"];function D0(e={},...n){const{breakpoints:i={},palette:a={},spacing:p,shape:m={}}=e,s=on(e,DR),_=zR(i),b=OR(p);let C=ea({breakpoints:_,direction:"ltr",components:{},palette:Pe({mode:"light"},a),spacing:b,shape:Pe({},LR,m)},s);return C=n.reduce((M,O)=>ea(M,O),C),C}var FR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BR=FR,NR=BR;function sS(){}function lS(){}lS.resetWarningCache=sS;var UR=function(){function e(a,p,m,s,_,b){if(b!==NR){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function n(){return e}var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:lS,resetWarningCache:sS};return i.PropTypes=i,i};UR();const VR=le.exports.createContext(null);var uS=VR;function cS(){return le.exports.useContext(uS)}const jR=typeof Symbol=="function"&&Symbol.for;var $R=jR?Symbol.for("mui.nested"):"__THEME_NESTED__";function qR(e,n){return typeof n=="function"?n(e):Pe({},e,n)}function WR(e){const{children:n,theme:i}=e,a=cS(),p=le.exports.useMemo(()=>{const m=a===null?i:qR(a,i);return m!=null&&(m[$R]=a!==null),m},[i,a]);return Et(uS.Provider,{value:p,children:n})}function ZR(e){return Object.keys(e).length===0}function GR(e=null){const n=cS();return!n||ZR(n)?e:n}const HR=D0();function $y(e=HR){return GR(e)}const XR=["className","component"];function KR(e={}){const{defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:a}=e,p=DE("div")(jy);return le.exports.forwardRef(function(_,b){const C=$y(n),M=O0(_),{className:O,component:R="div"}=M,Y=on(M,XR);return Et(p,Pe({as:R,ref:b,className:Fn(O,a?a(i):i),theme:C},Y))})}const YR=["variant"];function pS(e){return e.length===0}function hS(e){const{variant:n}=e,i=on(e,YR);let a=n||"";return Object.keys(i).sort().forEach(p=>{p==="color"?a+=pS(a)?e[p]:qn(e[p]):a+=`${pS(a)?p:qn(p)}${qn(e[p].toString())}`}),a}const JR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],QR=["theme"],eL=["theme"];function Rf(e){return Object.keys(e).length===0}const tL=(e,n)=>n.components&&n.components[e]&&n.components[e].styleOverrides?n.components[e].styleOverrides:null,nL=(e,n)=>{let i=[];n&&n.components&&n.components[e]&&n.components[e].variants&&(i=n.components[e].variants);const a={};return i.forEach(p=>{const m=hS(p.props);a[m]=p.style}),a},rL=(e,n,i,a)=>{var p,m;const{ownerState:s={}}=e,_=[],b=i==null||(p=i.components)==null||(m=p[a])==null?void 0:m.variants;return b&&b.forEach(C=>{let M=!0;Object.keys(C.props).forEach(O=>{s[O]!==C.props[O]&&e[O]!==C.props[O]&&(M=!1)}),M&&_.push(n[hS(C.props)])}),_};function Lf(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const iL=D0();function oL(e={}){const{defaultTheme:n=iL,rootShouldForwardProp:i=Lf,slotShouldForwardProp:a=Lf}=e;return(p,m={})=>{const{name:s,slot:_,skipVariantsResolver:b,skipSx:C,overridesResolver:M}=m,O=on(m,JR),R=b!==void 0?b:_&&_!=="Root"||!1,Y=C||!1;let ee,J=Lf;_==="Root"?J=i:_&&(J=a);const q=DE(p,Pe({shouldForwardProp:J,label:ee},O));return($,...Q)=>{const H=Q?Q.map(Te=>typeof Te=="function"&&Te.__emotion_real!==Te?Se=>{let{theme:Ne}=Se,He=on(Se,QR);return Te(Pe({theme:Rf(Ne)?n:Ne},He))}:Te):[];let ye=$;s&&M&&H.push(Te=>{const Se=Rf(Te.theme)?n:Te.theme,Ne=tL(s,Se);return Ne?M(Te,Ne):null}),s&&!R&&H.push(Te=>{const Se=Rf(Te.theme)?n:Te.theme;return rL(Te,nL(s,Se),Se,s)}),Y||H.push(Te=>{const Se=Rf(Te.theme)?n:Te.theme;return jy(Pe({},Te,{theme:Se}))});const me=H.length-Q.length;if(Array.isArray($)&&me>0){const Te=new Array(me).fill("");ye=[...$,...Te],ye.raw=[...$.raw,...Te]}else typeof $=="function"&&(ye=Te=>{let{theme:Se}=Te,Ne=on(Te,eL);return $(Pe({theme:Rf(Se)?n:Se},Ne))});return q(ye,...H)}}}function aL(e){const{theme:n,name:i,props:a}=e;return!n||!n.components||!n.components[i]||!n.components[i].defaultProps?a:QA(n.components[i].defaultProps,a)}function sL({props:e,name:n,defaultTheme:i}){const a=$y(i);return aL({theme:a,name:n,props:e})}function F0(e,n=0,i=1){return Math.min(Math.max(n,e),i)}function lL(e){e=e.substr(1);const n=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let i=e.match(n);return i&&i[0].length===1&&(i=i.map(a=>a+a)),i?`rgb${i.length===4?"a":""}(${i.map((a,p)=>p<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function Pu(e){if(e.type)return e;if(e.charAt(0)==="#")return Pu(lL(e));const n=e.indexOf("("),i=e.substring(0,n);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error(Su(9,e));let a=e.substring(n+1,e.length-1),p;if(i==="color"){if(a=a.split(" "),p=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(p)===-1)throw new Error(Su(10,p))}else a=a.split(",");return a=a.map(m=>parseFloat(m)),{type:i,values:a,colorSpace:p}}function qy(e){const{type:n,colorSpace:i}=e;let{values:a}=e;return n.indexOf("rgb")!==-1?a=a.map((p,m)=>m<3?parseInt(p,10):p):n.indexOf("hsl")!==-1&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),n.indexOf("color")!==-1?a=`${i} ${a.join(" ")}`:a=`${a.join(", ")}`,`${n}(${a})`}function uL(e){e=Pu(e);const{values:n}=e,i=n[0],a=n[1]/100,p=n[2]/100,m=a*Math.min(p,1-p),s=(C,M=(C+i/30)%12)=>p-m*Math.max(Math.min(M-3,9-M,1),-1);let _="rgb";const b=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(_+="a",b.push(n[3])),qy({type:_,values:b})}function fS(e){e=Pu(e);let n=e.type==="hsl"?Pu(uL(e)).values:e.values;return n=n.map(i=>(e.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function cL(e,n){const i=fS(e),a=fS(n);return(Math.max(i,a)+.05)/(Math.min(i,a)+.05)}function Ml(e,n){return e=Pu(e),n=F0(n),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${n}`:e.values[3]=n,qy(e)}function dS(e,n){if(e=Pu(e),n=F0(n),e.type.indexOf("hsl")!==-1)e.values[2]*=1-n;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)e.values[i]*=1-n;return qy(e)}function mS(e,n){if(e=Pu(e),n=F0(n),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*n;else if(e.type.indexOf("rgb")!==-1)for(let i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*n;else if(e.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*n;return qy(e)}function pL(e){const n=$y();return Et(b0.Provider,{value:typeof n=="object"?n:{},children:e.children})}function VN(e){const{children:n,theme:i}=e;return Et(WR,{theme:i,children:Et(pL,{children:n})})}function cp(e){return typeof e=="string"}var hL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fL=hL,dL=fL;function yS(){}function gS(){}gS.resetWarningCache=yS;var mL=function(){function e(a,p,m,s,_,b){if(b!==dL){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function n(){return e}var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:gS,resetWarningCache:yS};return i.PropTypes=i,i};mL();function Ur(e,n,i){const a={};return Object.keys(e).forEach(p=>{a[p]=e[p].reduce((m,s)=>(s&&(i&&i[s]&&m.push(i[s]),m.push(n(s))),m),[]).join(" ")}),a}const vS=e=>e,yL=()=>{let e=vS;return{configure(n){e=n},generate(n){return e(n)},reset(){e=vS}}},gL=yL();var _S=gL;const vL={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Rr(e,n){return vL[n]||`${_S.generate(e)}-${n}`}function ar(e,n){const i={};return n.forEach(a=>{i[a]=Rr(e,a)}),i}function _L(e){return Rr("MuiBackdrop",e)}ar("MuiBackdrop",["root","invisible"]);const xL=["classes","className","invisible","component","components","componentsProps","theme"],bL=e=>{const{classes:n,invisible:i}=e;return Ur({root:["root",i&&"invisible"]},_L,n)},wL=le.exports.forwardRef(function(n,i){const{classes:a,className:p,invisible:m=!1,component:s="div",components:_={},componentsProps:b={},theme:C}=n,M=on(n,xL),O=Pe({},n,{classes:a,invisible:m}),R=bL(O),Y=_.Root||s,ee=b.root||{};return Et(Y,Pe({"aria-hidden":!0},ee,!cp(Y)&&{as:s,ownerState:Pe({},O,ee.ownerState),theme:C},{ref:i},M,{className:Fn(R.root,ee.className,p)}))});var EL=wL;function SL(e){return typeof e=="function"?e():e}const TL=le.exports.forwardRef(function(n,i){const{children:a,container:p,disablePortal:m=!1}=n,[s,_]=le.exports.useState(null),b=ki(le.exports.isValidElement(a)?a.ref:null,i);return Cu(()=>{m||_(SL(p)||document.body)},[p,m]),Cu(()=>{if(s&&!m)return By(i,s),()=>{By(i,null)}},[i,s,m]),m?le.exports.isValidElement(a)?le.exports.cloneElement(a,{ref:b}):a:s&&lv.exports.createPortal(a,s)});var CL=TL;function PL(e){const n=ta(e);return n.body===e?Tu(e).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Of(e,n){n?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function xS(e){return parseInt(Tu(e).getComputedStyle(e).paddingRight,10)||0}function bS(e,n,i,a=[],p){const m=[n,i,...a],s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,_=>{m.indexOf(_)===-1&&s.indexOf(_.tagName)===-1&&Of(_,p)})}function B0(e,n){let i=-1;return e.some((a,p)=>n(a)?(i=p,!0):!1),i}function IL(e,n){const i=[],a=e.container;if(!n.disableScrollLock){if(PL(a)){const b=$E(ta(a));i.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${xS(a)+b}px`;const C=ta(a).querySelectorAll(".mui-fixed");[].forEach.call(C,M=>{i.push({value:M.style.paddingRight,property:"padding-right",el:M}),M.style.paddingRight=`${xS(M)+b}px`})}const m=a.parentElement,s=Tu(a),_=(m==null?void 0:m.nodeName)==="HTML"&&s.getComputedStyle(m).overflowY==="scroll"?m:a;i.push({value:_.style.overflow,property:"overflow",el:_},{value:_.style.overflowX,property:"overflow-x",el:_},{value:_.style.overflowY,property:"overflow-y",el:_}),_.style.overflow="hidden"}return()=>{i.forEach(({value:m,el:s,property:_})=>{m?s.style.setProperty(_,m):s.style.removeProperty(_)})}}function kL(e){const n=[];return[].forEach.call(e.children,i=>{i.getAttribute("aria-hidden")==="true"&&n.push(i)}),n}class ML{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(n,i){let a=this.modals.indexOf(n);if(a!==-1)return a;a=this.modals.length,this.modals.push(n),n.modalRef&&Of(n.modalRef,!1);const p=kL(i);bS(i,n.mount,n.modalRef,p,!0);const m=B0(this.containers,s=>s.container===i);return m!==-1?(this.containers[m].modals.push(n),a):(this.containers.push({modals:[n],container:i,restore:null,hiddenSiblings:p}),a)}mount(n,i){const a=B0(this.containers,m=>m.modals.indexOf(n)!==-1),p=this.containers[a];p.restore||(p.restore=IL(p,i))}remove(n){const i=this.modals.indexOf(n);if(i===-1)return i;const a=B0(this.containers,m=>m.modals.indexOf(n)!==-1),p=this.containers[a];if(p.modals.splice(p.modals.indexOf(n),1),this.modals.splice(i,1),p.modals.length===0)p.restore&&p.restore(),n.modalRef&&Of(n.modalRef,!0),bS(p.container,n.mount,n.modalRef,p.hiddenSiblings,!1),this.containers.splice(a,1);else{const m=p.modals[p.modals.length-1];m.modalRef&&Of(m.modalRef,!1)}return i}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}const AL=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function zL(e){const n=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(n)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:n}function RL(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const n=a=>e.ownerDocument.querySelector(`input[type="radio"]${a}`);let i=n(`[name="${e.name}"]:checked`);return i||(i=n(`[name="${e.name}"]`)),i!==e}function LL(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||RL(e))}function OL(e){const n=[],i=[];return Array.from(e.querySelectorAll(AL)).forEach((a,p)=>{const m=zL(a);m===-1||!LL(a)||(m===0?n.push(a):i.push({documentOrder:p,tabIndex:m,node:a}))}),i.sort((a,p)=>a.tabIndex===p.tabIndex?a.documentOrder-p.documentOrder:a.tabIndex-p.tabIndex).map(a=>a.node).concat(n)}function DL(){return!0}function FL(e){const{children:n,disableAutoFocus:i=!1,disableEnforceFocus:a=!1,disableRestoreFocus:p=!1,getTabbable:m=OL,isEnabled:s=DL,open:_}=e,b=le.exports.useRef(),C=le.exports.useRef(null),M=le.exports.useRef(null),O=le.exports.useRef(null),R=le.exports.useRef(null),Y=le.exports.useRef(!1),ee=le.exports.useRef(null),J=ki(n.ref,ee),q=le.exports.useRef(null);le.exports.useEffect(()=>{!_||!ee.current||(Y.current=!i)},[i,_]),le.exports.useEffect(()=>{if(!_||!ee.current)return;const Q=ta(ee.current);return ee.current.contains(Q.activeElement)||(ee.current.hasAttribute("tabIndex")||ee.current.setAttribute("tabIndex",-1),Y.current&&ee.current.focus()),()=>{p||(O.current&&O.current.focus&&(b.current=!0,O.current.focus()),O.current=null)}},[_]),le.exports.useEffect(()=>{if(!_||!ee.current)return;const Q=ta(ee.current),H=xe=>{const{current:Te}=ee;if(Te!==null){if(!Q.hasFocus()||a||!s()||b.current){b.current=!1;return}if(!Te.contains(Q.activeElement)){if(xe&&R.current!==xe.target||Q.activeElement!==R.current)R.current=null;else if(R.current!==null)return;if(!Y.current)return;let He=[];if((Q.activeElement===C.current||Q.activeElement===M.current)&&(He=m(ee.current)),He.length>0){var Se,Ne;const yt=Boolean(((Se=q.current)==null?void 0:Se.shiftKey)&&((Ne=q.current)==null?void 0:Ne.key)==="Tab"),Qe=He[0],Ke=He[He.length-1];yt?Ke.focus():Qe.focus()}else Te.focus()}}},ye=xe=>{q.current=xe,!(a||!s()||xe.key!=="Tab")&&Q.activeElement===ee.current&&xe.shiftKey&&(b.current=!0,M.current.focus())};Q.addEventListener("focusin",H),Q.addEventListener("keydown",ye,!0);const me=setInterval(()=>{Q.activeElement.tagName==="BODY"&&H()},50);return()=>{clearInterval(me),Q.removeEventListener("focusin",H),Q.removeEventListener("keydown",ye,!0)}},[i,a,p,s,_,m]);const B=Q=>{O.current===null&&(O.current=Q.relatedTarget),Y.current=!0,R.current=Q.target;const H=n.props.onFocus;H&&H(Q)},$=Q=>{O.current===null&&(O.current=Q.relatedTarget),Y.current=!0};return Io(le.exports.Fragment,{children:[Et("div",{tabIndex:0,onFocus:$,ref:C,"data-test":"sentinelStart"}),le.exports.cloneElement(n,{ref:J,onFocus:B}),Et("div",{tabIndex:0,onFocus:$,ref:M,"data-test":"sentinelEnd"})]})}function BL(e){return Rr("MuiModal",e)}ar("MuiModal",["root","hidden"]);const NL=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"],UL=e=>{const{open:n,exited:i,classes:a}=e;return Ur({root:["root",!n&&i&&"hidden"]},BL,a)};function VL(e){return typeof e=="function"?e():e}function jL(e){return e.children?e.children.props.hasOwnProperty("in"):!1}const $L=new ML,qL=le.exports.forwardRef(function(n,i){const{BackdropComponent:a,BackdropProps:p,children:m,classes:s,className:_,closeAfterTransition:b=!1,component:C="div",components:M={},componentsProps:O={},container:R,disableAutoFocus:Y=!1,disableEnforceFocus:ee=!1,disableEscapeKeyDown:J=!1,disablePortal:q=!1,disableRestoreFocus:B=!1,disableScrollLock:$=!1,hideBackdrop:Q=!1,keepMounted:H=!1,manager:ye=$L,onBackdropClick:me,onClose:xe,onKeyDown:Te,open:Se,theme:Ne,onTransitionEnter:He,onTransitionExited:yt}=n,Qe=on(n,NL),[Ke,ft]=le.exports.useState(!0),st=le.exports.useRef({}),gt=le.exports.useRef(null),Ft=le.exports.useRef(null),Gt=ki(Ft,i),vn=jL(n),$e=()=>ta(gt.current),rt=()=>(st.current.modalRef=Ft.current,st.current.mountNode=gt.current,st.current),It=()=>{ye.mount(rt(),{disableScrollLock:$}),Ft.current.scrollTop=0},$t=up(()=>{const bn=VL(R)||$e().body;ye.add(rt(),bn),Ft.current&&It()}),cn=le.exports.useCallback(()=>ye.isTopModal(rt()),[ye]),sr=up(bn=>{gt.current=bn,!!bn&&(Se&&cn()?It():Of(Ft.current,!0))}),jt=le.exports.useCallback(()=>{ye.remove(rt())},[ye]);le.exports.useEffect(()=>()=>{jt()},[jt]),le.exports.useEffect(()=>{Se?$t():(!vn||!b)&&jt()},[Se,jt,vn,b,$t]);const Yt=Pe({},n,{classes:s,closeAfterTransition:b,disableAutoFocus:Y,disableEnforceFocus:ee,disableEscapeKeyDown:J,disablePortal:q,disableRestoreFocus:B,disableScrollLock:$,exited:Ke,hideBackdrop:Q,keepMounted:H}),St=UL(Yt);if(!H&&!Se&&(!vn||Ke))return null;const Ht=()=>{ft(!1),He&&He()},zn=()=>{ft(!0),yt&&yt(),b&&jt()},Gn=bn=>{bn.target===bn.currentTarget&&(me&&me(bn),xe&&xe(bn,"backdropClick"))},Nt=bn=>{Te&&Te(bn),!(bn.key!=="Escape"||!cn())&&(J||(bn.stopPropagation(),xe&&xe(bn,"escapeKeyDown")))},Bn={};m.props.tabIndex===void 0&&(Bn.tabIndex="-1"),vn&&(Bn.onEnter=NE(Ht,m.props.onEnter),Bn.onExited=NE(zn,m.props.onExited));const Tn=M.Root||C,Cn=O.root||{};return Et(CL,{ref:sr,container:R,disablePortal:q,children:Io(Tn,Pe({role:"presentation"},Cn,!cp(Tn)&&{as:C,ownerState:Pe({},Yt,Cn.ownerState),theme:Ne},Qe,{ref:Gt,onKeyDown:Nt,className:Fn(St.root,Cn.className,_),children:[!Q&&a?Et(a,Pe({open:Se,onClick:Gn},p)):null,Et(FL,{disableEnforceFocus:ee,disableAutoFocus:Y,disableRestoreFocus:B,isEnabled:cn,open:Se,children:le.exports.cloneElement(m,Bn)})]}))})});var WL=qL;const ZL=["onChange","maxRows","minRows","style","value"];function Wy(e,n){return parseInt(e[n],10)||0}const GL={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},HL=le.exports.forwardRef(function(n,i){const{onChange:a,maxRows:p,minRows:m=1,style:s,value:_}=n,b=on(n,ZL),{current:C}=le.exports.useRef(_!=null),M=le.exports.useRef(null),O=ki(i,M),R=le.exports.useRef(null),Y=le.exports.useRef(0),[ee,J]=le.exports.useState({}),q=le.exports.useCallback(()=>{const $=M.current,H=Tu($).getComputedStyle($);if(H.width==="0px")return;const ye=R.current;ye.style.width=H.width,ye.value=$.value||n.placeholder||"x",ye.value.slice(-1)===`
`&&(ye.value+=" ");const me=H["box-sizing"],xe=Wy(H,"padding-bottom")+Wy(H,"padding-top"),Te=Wy(H,"border-bottom-width")+Wy(H,"border-top-width"),Se=ye.scrollHeight;ye.value="x";const Ne=ye.scrollHeight;let He=Se;m&&(He=Math.max(Number(m)*Ne,He)),p&&(He=Math.min(Number(p)*Ne,He)),He=Math.max(He,Ne);const yt=He+(me==="border-box"?xe+Te:0),Qe=Math.abs(He-Se)<=1;J(Ke=>Y.current<20&&(yt>0&&Math.abs((Ke.outerHeightStyle||0)-yt)>1||Ke.overflow!==Qe)?(Y.current+=1,{overflow:Qe,outerHeightStyle:yt}):Ke)},[p,m,n.placeholder]);le.exports.useEffect(()=>{const $=UE(()=>{Y.current=0,q()}),Q=Tu(M.current);Q.addEventListener("resize",$);let H;return typeof ResizeObserver!="undefined"&&(H=new ResizeObserver($),H.observe(M.current)),()=>{$.clear(),Q.removeEventListener("resize",$),H&&H.disconnect()}},[q]),Cu(()=>{q()}),le.exports.useEffect(()=>{Y.current=0},[_]);const B=$=>{Y.current=0,C||q(),a&&a($)};return Io(le.exports.Fragment,{children:[Et("textarea",Pe({value:_,onChange:B,ref:O,rows:m,style:Pe({height:ee.outerHeightStyle,overflow:ee.overflow?"hidden":null},s)},b)),Et("textarea",{"aria-hidden":!0,className:n.className,readOnly:!0,ref:R,tabIndex:-1,style:Pe({},GL.shadow,s,{padding:0})})]})});var XL=HL;function KL(e,n,i){return Pe({toolbar:{minHeight:56,[`${e.up("xs")} and (orientation: landscape)`]:{minHeight:48},[e.up("sm")]:{minHeight:64}}},i)}const YL={black:"#000",white:"#fff"};var Df=YL;const JL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var QL=JL;const eO={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var pp=eO;const tO={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var hp=tO;const nO={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var Ff=nO;const rO={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var fp=rO;const iO={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var dp=iO;const oO={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var mp=oO;const aO=["mode","contrastThreshold","tonalOffset"],wS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Df.white,default:Df.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},N0={text:{primary:Df.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Df.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ES(e,n,i,a){const p=a.light||a,m=a.dark||a*1.5;e[n]||(e.hasOwnProperty(i)?e[n]=e[i]:n==="light"?e.light=mS(e.main,p):n==="dark"&&(e.dark=dS(e.main,m)))}function sO(e="light"){return e==="dark"?{main:fp[200],light:fp[50],dark:fp[400]}:{main:fp[700],light:fp[400],dark:fp[800]}}function lO(e="light"){return e==="dark"?{main:pp[200],light:pp[50],dark:pp[400]}:{main:pp[500],light:pp[300],dark:pp[700]}}function uO(e="light"){return e==="dark"?{main:hp[500],light:hp[300],dark:hp[700]}:{main:hp[700],light:hp[400],dark:hp[800]}}function cO(e="light"){return e==="dark"?{main:dp[400],light:dp[300],dark:dp[700]}:{main:dp[700],light:dp[500],dark:dp[900]}}function pO(e="light"){return e==="dark"?{main:mp[400],light:mp[300],dark:mp[700]}:{main:mp[800],light:mp[500],dark:mp[900]}}function hO(e="light"){return e==="dark"?{main:Ff[400],light:Ff[300],dark:Ff[700]}:{main:"#ed6c02",light:Ff[500],dark:Ff[900]}}function fO(e){const{mode:n="light",contrastThreshold:i=3,tonalOffset:a=.2}=e,p=on(e,aO),m=e.primary||sO(n),s=e.secondary||lO(n),_=e.error||uO(n),b=e.info||cO(n),C=e.success||pO(n),M=e.warning||hO(n);function O(J){return cL(J,N0.text.primary)>=i?N0.text.primary:wS.text.primary}const R=({color:J,name:q,mainShade:B=500,lightShade:$=300,darkShade:Q=700})=>{if(J=Pe({},J),!J.main&&J[B]&&(J.main=J[B]),!J.hasOwnProperty("main"))throw new Error(Su(11,q?` (${q})`:"",B));if(typeof J.main!="string")throw new Error(Su(12,q?` (${q})`:"",JSON.stringify(J.main)));return ES(J,"light",$,a),ES(J,"dark",Q,a),J.contrastText||(J.contrastText=O(J.main)),J},Y={dark:N0,light:wS};return ea(Pe({common:Df,mode:n,primary:R({color:m,name:"primary"}),secondary:R({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:_,name:"error"}),warning:R({color:M,name:"warning"}),info:R({color:b,name:"info"}),success:R({color:C,name:"success"}),grey:QL,contrastThreshold:i,getContrastText:O,augmentColor:R,tonalOffset:a},Y[n]),p)}const dO=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function mO(e){return Math.round(e*1e5)/1e5}const SS={textTransform:"uppercase"},TS='"Roboto", "Helvetica", "Arial", sans-serif';function yO(e,n){const i=typeof n=="function"?n(e):n,{fontFamily:a=TS,fontSize:p=14,fontWeightLight:m=300,fontWeightRegular:s=400,fontWeightMedium:_=500,fontWeightBold:b=700,htmlFontSize:C=16,allVariants:M,pxToRem:O}=i,R=on(i,dO),Y=p/14,ee=O||(B=>`${B/C*Y}rem`),J=(B,$,Q,H,ye)=>Pe({fontFamily:a,fontWeight:B,fontSize:ee($),lineHeight:Q},a===TS?{letterSpacing:`${mO(H/$)}em`}:{},ye,M),q={h1:J(m,96,1.167,-1.5),h2:J(m,60,1.2,-.5),h3:J(s,48,1.167,0),h4:J(s,34,1.235,.25),h5:J(s,24,1.334,0),h6:J(_,20,1.6,.15),subtitle1:J(s,16,1.75,.15),subtitle2:J(_,14,1.57,.1),body1:J(s,16,1.5,.15),body2:J(s,14,1.43,.15),button:J(_,14,1.75,.4,SS),caption:J(s,12,1.66,.4),overline:J(s,12,2.66,1,SS)};return ea(Pe({htmlFontSize:C,pxToRem:ee,fontFamily:a,fontSize:p,fontWeightLight:m,fontWeightRegular:s,fontWeightMedium:_,fontWeightBold:b},q),R,{clone:!1})}const gO=.2,vO=.14,_O=.12;function Lr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${gO})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${vO})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${_O})`].join(",")}const xO=["none",Lr(0,2,1,-1,0,1,1,0,0,1,3,0),Lr(0,3,1,-2,0,2,2,0,0,1,5,0),Lr(0,3,3,-2,0,3,4,0,0,1,8,0),Lr(0,2,4,-1,0,4,5,0,0,1,10,0),Lr(0,3,5,-1,0,5,8,0,0,1,14,0),Lr(0,3,5,-1,0,6,10,0,0,1,18,0),Lr(0,4,5,-2,0,7,10,1,0,2,16,1),Lr(0,5,5,-3,0,8,10,1,0,3,14,2),Lr(0,5,6,-3,0,9,12,1,0,3,16,2),Lr(0,6,6,-3,0,10,14,1,0,4,18,3),Lr(0,6,7,-4,0,11,15,1,0,4,20,3),Lr(0,7,8,-4,0,12,17,2,0,5,22,4),Lr(0,7,8,-4,0,13,19,2,0,5,24,4),Lr(0,7,9,-4,0,14,21,2,0,5,26,4),Lr(0,8,9,-5,0,15,22,2,0,6,28,5),Lr(0,8,10,-5,0,16,24,2,0,6,30,5),Lr(0,8,11,-5,0,17,26,2,0,6,32,5),Lr(0,9,11,-5,0,18,28,2,0,7,34,6),Lr(0,9,12,-6,0,19,29,2,0,7,36,6),Lr(0,10,13,-6,0,20,31,3,0,8,38,7),Lr(0,10,13,-6,0,21,33,3,0,8,40,7),Lr(0,10,14,-6,0,22,35,3,0,8,42,7),Lr(0,11,14,-7,0,23,36,3,0,9,44,8),Lr(0,11,15,-7,0,24,38,3,0,9,46,8)];var bO=xO;const wO=["duration","easing","delay"],EO={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},U0={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CS(e){return`${Math.round(e)}ms`}function SO(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function TO(e){const n=Pe({},EO,e.easing),i=Pe({},U0,e.duration);return Pe({getAutoHeightDuration:SO,create:(p=["all"],m={})=>{const{duration:s=i.standard,easing:_=n.easeInOut,delay:b=0}=m;return on(m,wO),(Array.isArray(p)?p:[p]).map(C=>`${C} ${typeof s=="string"?s:CS(s)} ${_} ${typeof b=="string"?b:CS(b)}`).join(",")}},e,{easing:n,duration:i})}const CO={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var PO=CO;const IO=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function PS(e={},...n){const{mixins:i={},palette:a={},transitions:p={},typography:m={}}=e,s=on(e,IO),_=fO(a),b=D0(e);let C=ea(b,{mixins:KL(b.breakpoints,b.spacing,i),palette:_,shadows:bO.slice(),typography:yO(_,m),transitions:TO(p),zIndex:Pe({},PO)});return C=ea(C,s),C=n.reduce((M,O)=>ea(M,O),C),C}const kO=PS();var Zy=kO;const Iu=e=>Lf(e)&&e!=="classes",MO=Lf,AO=oL({defaultTheme:Zy,rootShouldForwardProp:Iu});var fn=AO;function Yr({props:e,name:n}){return sL({props:e,name:n,defaultTheme:Zy})}const zO=le.exports.createContext();var IS=zO;function RO(e){return Rr("MuiGrid",e)}const LO=[0,1,2,3,4,5,6,7,8,9,10],OO=["column-reverse","column","row-reverse","row"],DO=["nowrap","wrap-reverse","wrap"],Bf=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],V0=ar("MuiGrid",["root","container","item","zeroMinWidth",...LO.map(e=>`spacing-xs-${e}`),...OO.map(e=>`direction-xs-${e}`),...DO.map(e=>`wrap-xs-${e}`),...Bf.map(e=>`grid-xs-${e}`),...Bf.map(e=>`grid-sm-${e}`),...Bf.map(e=>`grid-md-${e}`),...Bf.map(e=>`grid-lg-${e}`),...Bf.map(e=>`grid-xl-${e}`)]),FO=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function yp(e){const n=parseFloat(e);return`${n}${String(e).replace(String(n),"")||"px"}`}function BO({theme:e,ownerState:n}){let i;return e.breakpoints.keys.reduce((a,p)=>{let m={};if(n[p]&&(i=n[p]),!i)return a;if(i===!0)m={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")m={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Uy({values:n.columns,breakpoints:e.breakpoints.values}),_=typeof s=="object"?s[p]:s;if(_==null)return a;const b=`${Math.round(i/_*1e8)/1e6}%`;let C={};if(n.container&&n.item&&n.columnSpacing!==0){const M=e.spacing(n.columnSpacing);if(M!=="0px"){const O=`calc(${b} + ${yp(M)})`;C={flexBasis:O,maxWidth:O}}}m=Pe({flexBasis:b,flexGrow:0,maxWidth:b},C)}return e.breakpoints.values[p]===0?Object.assign(a,m):a[e.breakpoints.up(p)]=m,a},{})}function NO({theme:e,ownerState:n}){const i=Uy({values:n.direction,breakpoints:e.breakpoints.values});return xa({theme:e},i,a=>{const p={flexDirection:a};return a.indexOf("column")===0&&(p[`& > .${V0.item}`]={maxWidth:"none"}),p})}function UO({theme:e,ownerState:n}){const{container:i,rowSpacing:a}=n;let p={};if(i&&a!==0){const m=Uy({values:a,breakpoints:e.breakpoints.values});p=xa({theme:e},m,s=>{const _=e.spacing(s);return _!=="0px"?{marginTop:`-${yp(_)}`,[`& > .${V0.item}`]:{paddingTop:yp(_)}}:{}})}return p}function VO({theme:e,ownerState:n}){const{container:i,columnSpacing:a}=n;let p={};if(i&&a!==0){const m=Uy({values:a,breakpoints:e.breakpoints.values});p=xa({theme:e},m,s=>{const _=e.spacing(s);return _!=="0px"?{width:`calc(100% + ${yp(_)})`,marginLeft:`-${yp(_)}`,[`& > .${V0.item}`]:{paddingLeft:yp(_)}}:{}})}return p}function kS(e,n,i={}){if(!n||!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[i[`spacing-xs-${String(e)}`]||`spacing-xs-${String(e)}`];const{xs:a,sm:p,md:m,lg:s,xl:_}=e;return[Number(a)>0&&(i[`spacing-xs-${String(a)}`]||`spacing-xs-${String(a)}`),Number(p)>0&&(i[`spacing-sm-${String(p)}`]||`spacing-sm-${String(p)}`),Number(m)>0&&(i[`spacing-md-${String(m)}`]||`spacing-md-${String(m)}`),Number(s)>0&&(i[`spacing-lg-${String(s)}`]||`spacing-lg-${String(s)}`),Number(_)>0&&(i[`spacing-xl-${String(_)}`]||`spacing-xl-${String(_)}`)]}const jO=fn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,n)=>{const{container:i,direction:a,item:p,lg:m,md:s,sm:_,spacing:b,wrap:C,xl:M,xs:O,zeroMinWidth:R}=e.ownerState;return[n.root,i&&n.container,p&&n.item,R&&n.zeroMinWidth,...kS(b,i,n),a!=="row"&&n[`direction-xs-${String(a)}`],C!=="wrap"&&n[`wrap-xs-${String(C)}`],O!==!1&&n[`grid-xs-${String(O)}`],_!==!1&&n[`grid-sm-${String(_)}`],s!==!1&&n[`grid-md-${String(s)}`],m!==!1&&n[`grid-lg-${String(m)}`],M!==!1&&n[`grid-xl-${String(M)}`]]}})(({ownerState:e})=>Pe({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap==="nowrap"&&{flexWrap:"nowrap"},e.wrap==="reverse"&&{flexWrap:"wrap-reverse"}),NO,UO,VO,BO),$O=e=>{const{classes:n,container:i,direction:a,item:p,lg:m,md:s,sm:_,spacing:b,wrap:C,xl:M,xs:O,zeroMinWidth:R}=e,Y={root:["root",i&&"container",p&&"item",R&&"zeroMinWidth",...kS(b,i),a!=="row"&&`direction-xs-${String(a)}`,C!=="wrap"&&`wrap-xs-${String(C)}`,O!==!1&&`grid-xs-${String(O)}`,_!==!1&&`grid-sm-${String(_)}`,s!==!1&&`grid-md-${String(s)}`,m!==!1&&`grid-lg-${String(m)}`,M!==!1&&`grid-xl-${String(M)}`]};return Ur(Y,RO,n)},qO=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiGrid"}),p=O0(a),{className:m,columns:s,columnSpacing:_,component:b="div",container:C=!1,direction:M="row",item:O=!1,lg:R=!1,md:Y=!1,rowSpacing:ee,sm:J=!1,spacing:q=0,wrap:B="wrap",xl:$=!1,xs:Q=!1,zeroMinWidth:H=!1}=p,ye=on(p,FO),me=ee||q,xe=_||q,Te=le.exports.useContext(IS),Se=s||Te||12,Ne=Pe({},p,{columns:Se,container:C,direction:M,item:O,lg:R,md:Y,sm:J,rowSpacing:me,columnSpacing:xe,wrap:B,xl:$,xs:Q,zeroMinWidth:H}),He=$O(Ne);return(Qe=>Se!==12?Et(IS.Provider,{value:Se,children:Qe}):Qe)(Et(jO,Pe({ownerState:Ne,className:Fn(He.root,m),as:b,ref:i},ye)))});var jN=qO;function j0(){return $y(Zy)}function WO(e){return Rr("MuiPaper",e)}ar("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ZO=["className","component","elevation","square","variant"],MS=e=>{let n;return e<1?n=5.11916*e**2:n=4.5*Math.log(e+1)+2,(n/100).toFixed(2)},GO=e=>{const{square:n,elevation:i,variant:a,classes:p}=e,m={root:["root",a,!n&&"rounded",a==="elevation"&&`elevation${i}`]};return Ur(m,WO,p)},HO=fn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,n[i.variant],!i.square&&n.rounded,i.variant==="elevation"&&n[`elevation${i.elevation}`]]}})(({theme:e,ownerState:n})=>Pe({backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},!n.square&&{borderRadius:e.shape.borderRadius},n.variant==="outlined"&&{border:`1px solid ${e.palette.divider}`},n.variant==="elevation"&&Pe({boxShadow:e.shadows[n.elevation]},e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ml("#fff",MS(n.elevation))}, ${Ml("#fff",MS(n.elevation))})`}))),XO=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiPaper"}),{className:p,component:m="div",elevation:s=1,square:_=!1,variant:b="elevation"}=a,C=on(a,ZO),M=Pe({},a,{component:m,elevation:s,square:_,variant:b}),O=GO(M);return Et(HO,Pe({as:m,ownerState:M,className:Fn(O.root,p),ref:i},C))});var $0=XO;function KO(e){return Rr("MuiAppBar",e)}ar("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const YO=["className","color","enableColorOnDark","position"],JO=e=>{const{color:n,position:i,classes:a}=e,p={root:["root",`color${qn(n)}`,`position${qn(i)}`]};return Ur(p,KO,a)},QO=fn($0,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,n[`position${qn(i.position)}`],n[`color${qn(i.color)}`]]}})(({theme:e,ownerState:n})=>{const i=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return Pe({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},n.position==="fixed"&&{position:"fixed",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},n.position==="absolute"&&{position:"absolute",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},n.position==="sticky"&&{position:"sticky",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},n.position==="static"&&{position:"static"},n.position==="relative"&&{position:"relative"},n.color==="default"&&{backgroundColor:i,color:e.palette.getContrastText(i)},n.color&&n.color!=="default"&&n.color!=="inherit"&&n.color!=="transparent"&&{backgroundColor:e.palette[n.color].main,color:e.palette[n.color].contrastText},n.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!n.enableColorOnDark&&{backgroundColor:null,color:null},n.color==="transparent"&&Pe({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"}))}),eD=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiAppBar"}),{className:p,color:m="primary",enableColorOnDark:s=!1,position:_="fixed"}=a,b=on(a,YO),C=Pe({},a,{color:m,position:_,enableColorOnDark:s}),M=JO(C);return Et(QO,Pe({square:!0,component:"header",ownerState:C,elevation:4,className:Fn(M.root,p,_==="fixed"&&"mui-fixed"),ref:i},b))});var $N=eD;function tD(e){return Rr("MuiToolbar",e)}ar("MuiToolbar",["root","gutters","regular","dense"]);const nD=["className","component","disableGutters","variant"],rD=e=>{const{classes:n,disableGutters:i,variant:a}=e;return Ur({root:["root",!i&&"gutters",a]},tD,n)},iD=fn("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,!i.disableGutters&&n.gutters,n[i.variant]]}})(({theme:e,ownerState:n})=>Pe({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},n.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:n})=>n.variant==="regular"&&e.mixins.toolbar),oD=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiToolbar"}),{className:p,component:m="div",disableGutters:s=!1,variant:_="regular"}=a,b=on(a,nD),C=Pe({},a,{component:m,disableGutters:s,variant:_}),M=rD(C);return Et(iD,Pe({as:m,className:Fn(M.root,p),ref:i,ownerState:C},b))});var qN=oD;function aD(e){return Rr("MuiSvgIcon",e)}ar("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const sD=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],lD=e=>{const{color:n,fontSize:i,classes:a}=e,p={root:["root",n!=="inherit"&&`color${qn(n)}`,`fontSize${qn(i)}`]};return Ur(p,aD,a)},uD=fn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,i.color!=="inherit"&&n[`color${qn(i.color)}`],n[`fontSize${qn(i.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var i,a;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(35)}[n.fontSize],color:(i=(a=e.palette[n.color])==null?void 0:a.main)!=null?i:{action:e.palette.action.active,disabled:e.palette.action.disabled,inherit:void 0}[n.color]}}),AS=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiSvgIcon"}),{children:p,className:m,color:s="inherit",component:_="svg",fontSize:b="medium",htmlColor:C,inheritViewBox:M=!1,titleAccess:O,viewBox:R="0 0 24 24"}=a,Y=on(a,sD),ee=Pe({},a,{color:s,component:_,fontSize:b,inheritViewBox:M,viewBox:R}),J={};M||(J.viewBox=R);const q=lD(ee);return Io(uD,Pe({as:_,className:Fn(q.root,m),ownerState:ee,focusable:"false",color:C,"aria-hidden":O?void 0:!0,role:O?"img":void 0,ref:i},J,Y,{children:[p,O?Et("title",{children:O}):null]}))});AS.muiName="SvgIcon";var zS=AS;function cD(e,n){const i=(a,p)=>Et(zS,Pe({"data-testid":`${n}Icon`,ref:p},a,{children:e}));return i.muiName=zS.muiName,le.exports.memo(le.exports.forwardRef(i))}const pD=PS(),hD=KR({defaultTheme:pD,defaultClassName:"MuiBox-root",generateClassName:_S.generate});var WN=hD;function fD(e){return Rr("MuiTypography",e)}ar("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const dD=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],mD=e=>{const{align:n,gutterBottom:i,noWrap:a,paragraph:p,variant:m,classes:s}=e,_={root:["root",m,e.align!=="inherit"&&`align${qn(n)}`,i&&"gutterBottom",a&&"noWrap",p&&"paragraph"]};return Ur(_,fD,s)},yD=fn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,i.variant&&n[i.variant],i.align!=="inherit"&&n[`align${qn(i.align)}`],i.noWrap&&n.noWrap,i.gutterBottom&&n.gutterBottom,i.paragraph&&n.paragraph]}})(({theme:e,ownerState:n})=>Pe({margin:0},n.variant&&e.typography[n.variant],n.align!=="inherit"&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})),RS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},gD={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},vD=e=>gD[e]||e,_D=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiTypography"}),p=vD(a.color),m=O0(Pe({},a,{color:p})),{align:s="inherit",className:_,component:b,gutterBottom:C=!1,noWrap:M=!1,paragraph:O=!1,variant:R="body1",variantMapping:Y=RS}=m,ee=on(m,dD),J=Pe({},m,{align:s,color:p,className:_,component:b,gutterBottom:C,noWrap:M,paragraph:O,variant:R,variantMapping:Y}),q=b||(O?"p":Y[R]||RS[R])||"span",B=mD(J);return Et(yD,Pe({as:q,ref:i,ownerState:J,className:Fn(B.root,_)},ee))});var LS=_D,OS={exports:{}},xD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bD=xD,wD=bD;function DS(){}function FS(){}FS.resetWarningCache=DS;var ED=function(){function e(a,p,m,s,_,b){if(b!==wD){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function n(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:FS,resetWarningCache:DS};return i.PropTypes=i,i};OS.exports=ED();var ZN=OS.exports;const SD=le.exports.createContext({});var q0=SD;function W0(){return W0=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},W0.apply(this,arguments)}function BS(e,n){if(e==null)return{};var i={},a=Object.keys(e),p,m;for(m=0;m<a.length;m++)p=a[m],!(n.indexOf(p)>=0)&&(i[p]=e[p]);return i}function Z0(e,n){return Z0=Object.setPrototypeOf||function(a,p){return a.__proto__=p,a},Z0(e,n)}function NS(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Z0(e,n)}var TD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CD=TD,PD=CD;function US(){}function VS(){}VS.resetWarningCache=US;var ID=function(){function e(a,p,m,s,_,b){if(b!==PD){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function n(){return e}var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:VS,resetWarningCache:US};return i.PropTypes=i,i};ID();var jS={disabled:!1},Gy=Ls.createContext(null),Nf="unmounted",ku="exited",Mu="entering",gp="entered",G0="exiting",Vs=function(e){NS(n,e);function n(a,p){var m;m=e.call(this,a,p)||this;var s=p,_=s&&!s.isMounting?a.enter:a.appear,b;return m.appearStatus=null,a.in?_?(b=ku,m.appearStatus=Mu):b=gp:a.unmountOnExit||a.mountOnEnter?b=Nf:b=ku,m.state={status:b},m.nextCallback=null,m}n.getDerivedStateFromProps=function(p,m){var s=p.in;return s&&m.status===Nf?{status:ku}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(p){var m=null;if(p!==this.props){var s=this.state.status;this.props.in?s!==Mu&&s!==gp&&(m=Mu):(s===Mu||s===gp)&&(m=G0)}this.updateStatus(!1,m)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var p=this.props.timeout,m,s,_;return m=s=_=p,p!=null&&typeof p!="number"&&(m=p.exit,s=p.enter,_=p.appear!==void 0?p.appear:s),{exit:m,enter:s,appear:_}},i.updateStatus=function(p,m){p===void 0&&(p=!1),m!==null?(this.cancelNextCallback(),m===Mu?this.performEnter(p):this.performExit()):this.props.unmountOnExit&&this.state.status===ku&&this.setState({status:Nf})},i.performEnter=function(p){var m=this,s=this.props.enter,_=this.context?this.context.isMounting:p,b=this.props.nodeRef?[_]:[u0.findDOMNode(this),_],C=b[0],M=b[1],O=this.getTimeouts(),R=_?O.appear:O.enter;if(!p&&!s||jS.disabled){this.safeSetState({status:gp},function(){m.props.onEntered(C)});return}this.props.onEnter(C,M),this.safeSetState({status:Mu},function(){m.props.onEntering(C,M),m.onTransitionEnd(R,function(){m.safeSetState({status:gp},function(){m.props.onEntered(C,M)})})})},i.performExit=function(){var p=this,m=this.props.exit,s=this.getTimeouts(),_=this.props.nodeRef?void 0:u0.findDOMNode(this);if(!m||jS.disabled){this.safeSetState({status:ku},function(){p.props.onExited(_)});return}this.props.onExit(_),this.safeSetState({status:G0},function(){p.props.onExiting(_),p.onTransitionEnd(s.exit,function(){p.safeSetState({status:ku},function(){p.props.onExited(_)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(p,m){m=this.setNextCallback(m),this.setState(p,m)},i.setNextCallback=function(p){var m=this,s=!0;return this.nextCallback=function(_){s&&(s=!1,m.nextCallback=null,p(_))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},i.onTransitionEnd=function(p,m){this.setNextCallback(m);var s=this.props.nodeRef?this.props.nodeRef.current:u0.findDOMNode(this),_=p==null&&!this.props.addEndListener;if(!s||_){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],C=b[0],M=b[1];this.props.addEndListener(C,M)}p!=null&&setTimeout(this.nextCallback,p)},i.render=function(){var p=this.state.status;if(p===Nf)return null;var m=this.props,s=m.children;m.in,m.mountOnEnter,m.unmountOnExit,m.appear,m.enter,m.exit,m.timeout,m.addEndListener,m.onEnter,m.onEntering,m.onEntered,m.onExit,m.onExiting,m.onExited,m.nodeRef;var _=BS(m,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ls.createElement(Gy.Provider,{value:null},typeof s=="function"?s(p,_):Ls.cloneElement(Ls.Children.only(s),_))},n}(Ls.Component);Vs.contextType=Gy;Vs.propTypes={};function vp(){}Vs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vp,onEntering:vp,onEntered:vp,onExit:vp,onExiting:vp,onExited:vp};Vs.UNMOUNTED=Nf;Vs.EXITED=ku;Vs.ENTERING=Mu;Vs.ENTERED=gp;Vs.EXITING=G0;var $S=Vs;function kD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H0(e,n){var i=function(m){return n&&le.exports.isValidElement(m)?n(m):m},a=Object.create(null);return e&&le.exports.Children.map(e,function(p){return p}).forEach(function(p){a[p.key]=i(p)}),a}function MD(e,n){e=e||{},n=n||{};function i(M){return M in n?n[M]:e[M]}var a=Object.create(null),p=[];for(var m in e)m in n?p.length&&(a[m]=p,p=[]):p.push(m);var s,_={};for(var b in n){if(a[b])for(s=0;s<a[b].length;s++){var C=a[b][s];_[a[b][s]]=i(C)}_[b]=i(b)}for(s=0;s<p.length;s++)_[p[s]]=i(p[s]);return _}function Au(e,n,i){return i[n]!=null?i[n]:e.props[n]}function AD(e,n){return H0(e.children,function(i){return le.exports.cloneElement(i,{onExited:n.bind(null,i),in:!0,appear:Au(i,"appear",e),enter:Au(i,"enter",e),exit:Au(i,"exit",e)})})}function zD(e,n,i){var a=H0(e.children),p=MD(n,a);return Object.keys(p).forEach(function(m){var s=p[m];if(!!le.exports.isValidElement(s)){var _=m in n,b=m in a,C=n[m],M=le.exports.isValidElement(C)&&!C.props.in;b&&(!_||M)?p[m]=le.exports.cloneElement(s,{onExited:i.bind(null,s),in:!0,exit:Au(s,"exit",e),enter:Au(s,"enter",e)}):!b&&_&&!M?p[m]=le.exports.cloneElement(s,{in:!1}):b&&_&&le.exports.isValidElement(C)&&(p[m]=le.exports.cloneElement(s,{onExited:i.bind(null,s),in:C.props.in,exit:Au(s,"exit",e),enter:Au(s,"enter",e)}))}}),p}var RD=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},LD={component:"div",childFactory:function(n){return n}},X0=function(e){NS(n,e);function n(a,p){var m;m=e.call(this,a,p)||this;var s=m.handleExited.bind(kD(m));return m.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},m}var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(p,m){var s=m.children,_=m.handleExited,b=m.firstRender;return{children:b?AD(p,_):zD(p,s,_),firstRender:!1}},i.handleExited=function(p,m){var s=H0(this.props.children);p.key in s||(p.props.onExited&&p.props.onExited(m),this.mounted&&this.setState(function(_){var b=W0({},_.children);return delete b[p.key],{children:b}}))},i.render=function(){var p=this.props,m=p.component,s=p.childFactory,_=BS(p,["component","childFactory"]),b=this.state.contextValue,C=RD(this.state.children).map(s);return delete _.appear,delete _.enter,delete _.exit,m===null?Ls.createElement(Gy.Provider,{value:b},C):Ls.createElement(Gy.Provider,{value:b},Ls.createElement(m,_,C))},n}(Ls.Component);X0.propTypes={};X0.defaultProps=LD;var OD=X0;function DD(e){const{className:n,classes:i,pulsate:a=!1,rippleX:p,rippleY:m,rippleSize:s,in:_,onExited:b,timeout:C}=e,[M,O]=le.exports.useState(!1),R=Fn(n,i.ripple,i.rippleVisible,a&&i.ripplePulsate),Y={width:s,height:s,top:-(s/2)+m,left:-(s/2)+p},ee=Fn(i.child,M&&i.childLeaving,a&&i.childPulsate);return!_&&!M&&O(!0),le.exports.useEffect(()=>{if(!_&&b!=null){const J=setTimeout(b,C);return()=>{clearTimeout(J)}}},[b,_,C]),Et("span",{className:R,style:Y,children:Et("span",{className:ee})})}const FD=ar("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var na=FD;const BD=["center","classes","className"];let Hy=e=>e,qS,WS,ZS,GS;const K0=550,ND=80,UD=w0(qS||(qS=Hy`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),VD=w0(WS||(WS=Hy`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),jD=w0(ZS||(ZS=Hy`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),$D=fn("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),qD=fn(DD,{name:"MuiTouchRipple",slot:"Ripple"})(GS||(GS=Hy`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),na.rippleVisible,UD,K0,({theme:e})=>e.transitions.easing.easeInOut,na.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,na.child,na.childLeaving,VD,K0,({theme:e})=>e.transitions.easing.easeInOut,na.childPulsate,jD,({theme:e})=>e.transitions.easing.easeInOut),WD=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiTouchRipple"}),{center:p=!1,classes:m={},className:s}=a,_=on(a,BD),[b,C]=le.exports.useState([]),M=le.exports.useRef(0),O=le.exports.useRef(null);le.exports.useEffect(()=>{O.current&&(O.current(),O.current=null)},[b]);const R=le.exports.useRef(!1),Y=le.exports.useRef(null),ee=le.exports.useRef(null),J=le.exports.useRef(null);le.exports.useEffect(()=>()=>{clearTimeout(Y.current)},[]);const q=le.exports.useCallback(H=>{const{pulsate:ye,rippleX:me,rippleY:xe,rippleSize:Te,cb:Se}=H;C(Ne=>[...Ne,Et(qD,{classes:{ripple:Fn(m.ripple,na.ripple),rippleVisible:Fn(m.rippleVisible,na.rippleVisible),ripplePulsate:Fn(m.ripplePulsate,na.ripplePulsate),child:Fn(m.child,na.child),childLeaving:Fn(m.childLeaving,na.childLeaving),childPulsate:Fn(m.childPulsate,na.childPulsate)},timeout:K0,pulsate:ye,rippleX:me,rippleY:xe,rippleSize:Te},M.current)]),M.current+=1,O.current=Se},[m]),B=le.exports.useCallback((H={},ye={},me)=>{const{pulsate:xe=!1,center:Te=p||ye.pulsate,fakeElement:Se=!1}=ye;if(H.type==="mousedown"&&R.current){R.current=!1;return}H.type==="touchstart"&&(R.current=!0);const Ne=Se?null:J.current,He=Ne?Ne.getBoundingClientRect():{width:0,height:0,left:0,top:0};let yt,Qe,Ke;if(Te||H.clientX===0&&H.clientY===0||!H.clientX&&!H.touches)yt=Math.round(He.width/2),Qe=Math.round(He.height/2);else{const{clientX:ft,clientY:st}=H.touches?H.touches[0]:H;yt=Math.round(ft-He.left),Qe=Math.round(st-He.top)}if(Te)Ke=Math.sqrt((2*He.width**2+He.height**2)/3),Ke%2==0&&(Ke+=1);else{const ft=Math.max(Math.abs((Ne?Ne.clientWidth:0)-yt),yt)*2+2,st=Math.max(Math.abs((Ne?Ne.clientHeight:0)-Qe),Qe)*2+2;Ke=Math.sqrt(ft**2+st**2)}H.touches?ee.current===null&&(ee.current=()=>{q({pulsate:xe,rippleX:yt,rippleY:Qe,rippleSize:Ke,cb:me})},Y.current=setTimeout(()=>{ee.current&&(ee.current(),ee.current=null)},ND)):q({pulsate:xe,rippleX:yt,rippleY:Qe,rippleSize:Ke,cb:me})},[p,q]),$=le.exports.useCallback(()=>{B({},{pulsate:!0})},[B]),Q=le.exports.useCallback((H,ye)=>{if(clearTimeout(Y.current),H.type==="touchend"&&ee.current){ee.current(),ee.current=null,Y.current=setTimeout(()=>{Q(H,ye)});return}ee.current=null,C(me=>me.length>0?me.slice(1):me),O.current=ye},[]);return le.exports.useImperativeHandle(i,()=>({pulsate:$,start:B,stop:Q}),[$,B,Q]),Et($D,Pe({className:Fn(m.root,na.root,s),ref:J},_,{children:Et(OD,{component:null,exit:!0,children:b})}))});var ZD=WD;function GD(e){return Rr("MuiButtonBase",e)}const HD=ar("MuiButtonBase",["root","disabled","focusVisible"]);var XD=HD;const KD=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],YD=e=>{const{disabled:n,focusVisible:i,focusVisibleClassName:a,classes:p}=e,s=Ur({root:["root",n&&"disabled",i&&"focusVisible"]},GD,p);return i&&a&&(s.root+=` ${a}`),s},JD=fn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,n)=>n.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${XD.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),QD=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiButtonBase"}),{action:p,centerRipple:m=!1,children:s,className:_,component:b="button",disabled:C=!1,disableRipple:M=!1,disableTouchRipple:O=!1,focusRipple:R=!1,LinkComponent:Y="a",onBlur:ee,onClick:J,onContextMenu:q,onDragLeave:B,onFocus:$,onFocusVisible:Q,onKeyDown:H,onKeyUp:ye,onMouseDown:me,onMouseLeave:xe,onMouseUp:Te,onTouchEnd:Se,onTouchMove:Ne,onTouchStart:He,tabIndex:yt=0,TouchRippleProps:Qe,type:Ke}=a,ft=on(a,KD),st=le.exports.useRef(null),gt=le.exports.useRef(null),{isFocusVisibleRef:Ft,onFocus:Gt,onBlur:vn,ref:$e}=JA(),[rt,It]=le.exports.useState(!1);C&&rt&&It(!1),le.exports.useImperativeHandle(p,()=>({focusVisible:()=>{It(!0),st.current.focus()}}),[]),le.exports.useEffect(()=>{rt&&R&&!M&&gt.current.pulsate()},[M,R,rt]);function $t(xt,In,Qr=O){return up(di=>(In&&In(di),!Qr&&gt.current&&gt.current[xt](di),!0))}const cn=$t("start",me),sr=$t("stop",q),jt=$t("stop",B),Yt=$t("stop",Te),St=$t("stop",xt=>{rt&&xt.preventDefault(),xe&&xe(xt)}),Ht=$t("start",He),zn=$t("stop",Se),Gn=$t("stop",Ne),Nt=$t("stop",xt=>{vn(xt),Ft.current===!1&&It(!1),ee&&ee(xt)},!1),Bn=up(xt=>{st.current||(st.current=xt.currentTarget),Gt(xt),Ft.current===!0&&(It(!0),Q&&Q(xt)),$&&$(xt)}),Tn=()=>{const xt=st.current;return b&&b!=="button"&&!(xt.tagName==="A"&&xt.href)},Cn=le.exports.useRef(!1),bn=up(xt=>{R&&!Cn.current&&rt&&gt.current&&xt.key===" "&&(Cn.current=!0,gt.current.stop(xt,()=>{gt.current.start(xt)})),xt.target===xt.currentTarget&&Tn()&&xt.key===" "&&xt.preventDefault(),H&&H(xt),xt.target===xt.currentTarget&&Tn()&&xt.key==="Enter"&&!C&&(xt.preventDefault(),J&&J(xt))}),Or=up(xt=>{R&&xt.key===" "&&gt.current&&rt&&!xt.defaultPrevented&&(Cn.current=!1,gt.current.stop(xt,()=>{gt.current.pulsate(xt)})),ye&&ye(xt),J&&xt.target===xt.currentTarget&&Tn()&&xt.key===" "&&!xt.defaultPrevented&&J(xt)});let Tr=b;Tr==="button"&&(ft.href||ft.to)&&(Tr=Y);const _n={};Tr==="button"?(_n.type=Ke===void 0?"button":Ke,_n.disabled=C):(!ft.href&&!ft.to&&(_n.role="button"),C&&(_n["aria-disabled"]=C));const tr=ki($e,st),si=ki(i,tr),[yr,Cr]=le.exports.useState(!1);le.exports.useEffect(()=>{Cr(!0)},[]);const $r=yr&&!M&&!C,gr=Pe({},a,{centerRipple:m,component:b,disabled:C,disableRipple:M,disableTouchRipple:O,focusRipple:R,tabIndex:yt,focusVisible:rt}),dt=YD(gr);return Io(JD,Pe({as:Tr,className:Fn(dt.root,_),ownerState:gr,onBlur:Nt,onClick:J,onContextMenu:sr,onFocus:Bn,onKeyDown:bn,onKeyUp:Or,onMouseDown:cn,onMouseLeave:St,onMouseUp:Yt,onDragLeave:jt,onTouchEnd:zn,onTouchMove:Gn,onTouchStart:Ht,ref:si,tabIndex:C?-1:yt,type:Ke},_n,ft,{children:[s,$r?Et(ZD,Pe({ref:gt,center:m},Qe)):null]}))});var HS=QD;const e5=ar("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var XS=e5;const t5=ar("MuiListItemIcon",["root","alignItemsFlexStart"]);var KS=t5;const n5=ar("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var YS=n5;function r5(e){return Rr("MuiMenuItem",e)}const i5=ar("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var Uf=i5;const o5=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],a5=(e,n)=>{const{ownerState:i}=e;return[n.root,i.dense&&n.dense,i.divider&&n.divider,!i.disableGutters&&n.gutters]},s5=e=>{const{disabled:n,dense:i,divider:a,disableGutters:p,selected:m,classes:s}=e,b=Ur({root:["root",i&&"dense",n&&"disabled",!p&&"gutters",a&&"divider",m&&"selected"]},r5,s);return Pe({},s,b)},l5=fn(HS,{shouldForwardProp:e=>Iu(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:a5})(({theme:e,ownerState:n})=>Pe({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${e.palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Uf.selected}`]:{backgroundColor:Ml(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Uf.focusVisible}`]:{backgroundColor:Ml(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Uf.selected}:hover`]:{backgroundColor:Ml(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Ml(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Uf.focusVisible}`]:{backgroundColor:e.palette.action.focus},[`&.${Uf.disabled}`]:{opacity:e.palette.action.disabledOpacity},[`& + .${XS.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${XS.inset}`]:{marginLeft:52},[`& .${YS.root}`]:{marginTop:0,marginBottom:0},[`& .${YS.inset}`]:{paddingLeft:36},[`& .${KS.root}`]:{minWidth:36}},!n.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&Pe({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${KS.root} svg`]:{fontSize:"1.25rem"}}))),u5=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiMenuItem"}),{autoFocus:p=!1,component:m="li",dense:s=!1,divider:_=!1,disableGutters:b=!1,focusVisibleClassName:C,role:M="menuitem",tabIndex:O}=a,R=on(a,o5),Y=le.exports.useContext(q0),ee={dense:s||Y.dense||!1,disableGutters:b},J=le.exports.useRef(null);Cu(()=>{p&&J.current&&J.current.focus()},[p]);const q=Pe({},a,{dense:ee.dense,divider:_,disableGutters:b}),B=s5(a),$=ki(J,i);let Q;return a.disabled||(Q=O!==void 0?O:-1),Et(q0.Provider,{value:ee,children:Et(l5,Pe({ref:$,role:M,tabIndex:Q,component:m,focusVisibleClassName:Fn(B.focusVisible,C)},R,{ownerState:q,classes:B}))})});var GN=u5;function JS(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Y0(e,n=!1){return e&&(JS(e.value)&&e.value!==""||n&&JS(e.defaultValue)&&e.defaultValue!=="")}function c5(e){return e.startAdornment}const p5=le.exports.createContext();var J0=p5;function h5(e){return Rr("MuiFormControl",e)}ar("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const f5=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],d5=e=>{const{classes:n,margin:i,fullWidth:a}=e,p={root:["root",i!=="none"&&`margin${qn(i)}`,a&&"fullWidth"]};return Ur(p,h5,n)},m5=fn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},n)=>Pe({},n.root,n[`margin${qn(e.margin)}`],e.fullWidth&&n.fullWidth)})(({ownerState:e})=>Pe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),y5=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiFormControl"}),{children:p,className:m,color:s="primary",component:_="div",disabled:b=!1,error:C=!1,focused:M,fullWidth:O=!1,hiddenLabel:R=!1,margin:Y="none",required:ee=!1,size:J="medium",variant:q="outlined"}=a,B=on(a,f5),$=Pe({},a,{color:s,component:_,disabled:b,error:C,fullWidth:O,hiddenLabel:R,margin:Y,required:ee,size:J,variant:q}),Q=d5($),[H,ye]=le.exports.useState(()=>{let ft=!1;return p&&le.exports.Children.forEach(p,st=>{if(!T0(st,["Input","Select"]))return;const gt=T0(st,["Select"])?st.props.input:st;gt&&c5(gt.props)&&(ft=!0)}),ft}),[me,xe]=le.exports.useState(()=>{let ft=!1;return p&&le.exports.Children.forEach(p,st=>{!T0(st,["Input","Select"])||Y0(st.props,!0)&&(ft=!0)}),ft}),[Te,Se]=le.exports.useState(!1);b&&Te&&Se(!1);const Ne=M!==void 0&&!b?M:Te;let He;const yt=le.exports.useCallback(()=>{xe(!0)},[]),Qe=le.exports.useCallback(()=>{xe(!1)},[]),Ke={adornedStart:H,setAdornedStart:ye,color:s,disabled:b,error:C,filled:me,focused:Ne,fullWidth:O,hiddenLabel:R,size:J,onBlur:()=>{Se(!1)},onEmpty:Qe,onFilled:yt,onFocus:()=>{Se(!0)},registerEffect:He,required:ee,variant:q};return Et(J0.Provider,{value:Ke,children:Et(m5,Pe({as:_,ownerState:$,className:Fn(Q.root,m),ref:i},B,{children:p}))})});var HN=y5;function Vf(){return le.exports.useContext(J0)}var dr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=60103,Ky=60106,jf=60107,$f=60108,qf=60114,Wf=60109,Zf=60110,Gf=60112,Hf=60113,Q0=60120,Xf=60115,Kf=60116,QS=60121,eT=60122,tT=60117,nT=60129,rT=60131;if(typeof Symbol=="function"&&Symbol.for){var Fi=Symbol.for;Xy=Fi("react.element"),Ky=Fi("react.portal"),jf=Fi("react.fragment"),$f=Fi("react.strict_mode"),qf=Fi("react.profiler"),Wf=Fi("react.provider"),Zf=Fi("react.context"),Gf=Fi("react.forward_ref"),Hf=Fi("react.suspense"),Q0=Fi("react.suspense_list"),Xf=Fi("react.memo"),Kf=Fi("react.lazy"),QS=Fi("react.block"),eT=Fi("react.server.block"),tT=Fi("react.fundamental"),nT=Fi("react.debug_trace_mode"),rT=Fi("react.legacy_hidden")}function ba(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case Xy:switch(e=e.type,e){case jf:case qf:case $f:case Hf:case Q0:return e;default:switch(e=e&&e.$$typeof,e){case Zf:case Gf:case Kf:case Xf:case Wf:return e;default:return n}}case Ky:return n}}}var g5=Wf,v5=Xy,_5=Gf,x5=jf,b5=Kf,w5=Xf,E5=Ky,S5=qf,T5=$f,C5=Hf;dr.ContextConsumer=Zf;dr.ContextProvider=g5;dr.Element=v5;dr.ForwardRef=_5;dr.Fragment=x5;dr.Lazy=b5;dr.Memo=w5;dr.Portal=E5;dr.Profiler=S5;dr.StrictMode=T5;dr.Suspense=C5;dr.isAsyncMode=function(){return!1};dr.isConcurrentMode=function(){return!1};dr.isContextConsumer=function(e){return ba(e)===Zf};dr.isContextProvider=function(e){return ba(e)===Wf};dr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xy};dr.isForwardRef=function(e){return ba(e)===Gf};dr.isFragment=function(e){return ba(e)===jf};dr.isLazy=function(e){return ba(e)===Kf};dr.isMemo=function(e){return ba(e)===Xf};dr.isPortal=function(e){return ba(e)===Ky};dr.isProfiler=function(e){return ba(e)===qf};dr.isStrictMode=function(e){return ba(e)===$f};dr.isSuspense=function(e){return ba(e)===Hf};dr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jf||e===qf||e===nT||e===$f||e===Hf||e===Q0||e===rT||typeof e=="object"&&e!==null&&(e.$$typeof===Kf||e.$$typeof===Xf||e.$$typeof===Wf||e.$$typeof===Zf||e.$$typeof===Gf||e.$$typeof===tT||e.$$typeof===QS||e[0]===eT)};dr.typeOf=ba;function P5(e){return Rr("MuiList",e)}ar("MuiList",["root","padding","dense","subheader"]);const I5=["children","className","component","dense","disablePadding","subheader"],k5=e=>{const{classes:n,disablePadding:i,dense:a,subheader:p}=e;return Ur({root:["root",!i&&"padding",a&&"dense",p&&"subheader"]},P5,n)},M5=fn("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,!i.disablePadding&&n.padding,i.dense&&n.dense,i.subheader&&n.subheader]}})(({ownerState:e})=>Pe({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),A5=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiList"}),{children:p,className:m,component:s="ul",dense:_=!1,disablePadding:b=!1,subheader:C}=a,M=on(a,I5),O=le.exports.useMemo(()=>({dense:_}),[_]),R=Pe({},a,{component:s,dense:_,disablePadding:b}),Y=k5(R);return Et(q0.Provider,{value:O,children:Io(M5,Pe({as:s,className:Fn(Y.root,m),ref:i,ownerState:R},M,{children:[C,p]}))})});var z5=A5;const R5=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ex(e,n,i){return e===n?e.firstChild:n&&n.nextElementSibling?n.nextElementSibling:i?null:e.firstChild}function iT(e,n,i){return e===n?i?e.firstChild:e.lastChild:n&&n.previousElementSibling?n.previousElementSibling:i?null:e.lastChild}function oT(e,n){if(n===void 0)return!0;let i=e.innerText;return i===void 0&&(i=e.textContent),i=i.trim().toLowerCase(),i.length===0?!1:n.repeating?i[0]===n.keys[0]:i.indexOf(n.keys.join(""))===0}function Yf(e,n,i,a,p,m){let s=!1,_=p(e,n,n?i:!1);for(;_;){if(_===e.firstChild){if(s)return!1;s=!0}const b=a?!1:_.disabled||_.getAttribute("aria-disabled")==="true";if(!_.hasAttribute("tabindex")||!oT(_,m)||b)_=p(e,_,i);else return _.focus(),!0}return!1}const L5=le.exports.forwardRef(function(n,i){const{actions:a,autoFocus:p=!1,autoFocusItem:m=!1,children:s,className:_,disabledItemsFocusable:b=!1,disableListWrap:C=!1,onKeyDown:M,variant:O="selectedMenu"}=n,R=on(n,R5),Y=le.exports.useRef(null),ee=le.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Cu(()=>{p&&Y.current.focus()},[p]),le.exports.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(Q,H)=>{const ye=!Y.current.style.width;if(Q.clientHeight<Y.current.clientHeight&&ye){const me=`${$E(ta(Q))}px`;Y.current.style[H.direction==="rtl"?"paddingLeft":"paddingRight"]=me,Y.current.style.width=`calc(100% + ${me})`}return Y.current}}),[]);const J=Q=>{const H=Y.current,ye=Q.key,me=ta(H).activeElement;if(ye==="ArrowDown")Q.preventDefault(),Yf(H,me,C,b,ex);else if(ye==="ArrowUp")Q.preventDefault(),Yf(H,me,C,b,iT);else if(ye==="Home")Q.preventDefault(),Yf(H,null,C,b,ex);else if(ye==="End")Q.preventDefault(),Yf(H,null,C,b,iT);else if(ye.length===1){const xe=ee.current,Te=ye.toLowerCase(),Se=performance.now();xe.keys.length>0&&(Se-xe.lastTime>500?(xe.keys=[],xe.repeating=!0,xe.previousKeyMatched=!0):xe.repeating&&Te!==xe.keys[0]&&(xe.repeating=!1)),xe.lastTime=Se,xe.keys.push(Te);const Ne=me&&!xe.repeating&&oT(me,xe);xe.previousKeyMatched&&(Ne||Yf(H,me,!1,b,ex,xe))?Q.preventDefault():xe.previousKeyMatched=!1}M&&M(Q)},q=ki(Y,i);let B=-1;le.exports.Children.forEach(s,(Q,H)=>{!le.exports.isValidElement(Q)||Q.props.disabled||(O==="selectedMenu"&&Q.props.selected||B===-1)&&(B=H)});const $=le.exports.Children.map(s,(Q,H)=>{if(H===B){const ye={};return m&&(ye.autoFocus=!0),Q.props.tabIndex===void 0&&O==="selectedMenu"&&(ye.tabIndex=0),le.exports.cloneElement(Q,ye)}return Q});return Et(z5,Pe({role:"menu",ref:q,className:_,onKeyDown:J,tabIndex:p?0:-1},R,{children:$}))});var O5=L5;const aT=e=>e.scrollTop;function Yy(e,n){var i,a;const{timeout:p,easing:m,style:s={}}=e;return{duration:(i=s.transitionDuration)!=null?i:typeof p=="number"?p:p[n.mode]||0,easing:(a=s.transitionTimingFunction)!=null?a:typeof m=="object"?m[n.mode]:m,delay:s.transitionDelay}}const D5=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tx(e){return`scale(${e}, ${e**2})`}const F5={entering:{opacity:1,transform:tx(1)},entered:{opacity:1,transform:"none"}},sT=le.exports.forwardRef(function(n,i){const{addEndListener:a,appear:p=!0,children:m,easing:s,in:_,onEnter:b,onEntered:C,onEntering:M,onExit:O,onExited:R,onExiting:Y,style:ee,timeout:J="auto",TransitionComponent:q=$S}=n,B=on(n,D5),$=le.exports.useRef(),Q=le.exports.useRef(),H=j0(),ye=le.exports.useRef(null),me=ki(m.ref,i),xe=ki(ye,me),Te=st=>gt=>{if(st){const Ft=ye.current;gt===void 0?st(Ft):st(Ft,gt)}},Se=Te(M),Ne=Te((st,gt)=>{aT(st);const{duration:Ft,delay:Gt,easing:vn}=Yy({style:ee,timeout:J,easing:s},{mode:"enter"});let $e;J==="auto"?($e=H.transitions.getAutoHeightDuration(st.clientHeight),Q.current=$e):$e=Ft,st.style.transition=[H.transitions.create("opacity",{duration:$e,delay:Gt}),H.transitions.create("transform",{duration:$e*.666,delay:Gt,easing:vn})].join(","),b&&b(st,gt)}),He=Te(C),yt=Te(Y),Qe=Te(st=>{const{duration:gt,delay:Ft,easing:Gt}=Yy({style:ee,timeout:J,easing:s},{mode:"exit"});let vn;J==="auto"?(vn=H.transitions.getAutoHeightDuration(st.clientHeight),Q.current=vn):vn=gt,st.style.transition=[H.transitions.create("opacity",{duration:vn,delay:Ft}),H.transitions.create("transform",{duration:vn*.666,delay:Ft||vn*.333,easing:Gt})].join(","),st.style.opacity="0",st.style.transform=tx(.75),O&&O(st)}),Ke=Te(R),ft=st=>{J==="auto"&&($.current=setTimeout(st,Q.current||0)),a&&a(ye.current,st)};return le.exports.useEffect(()=>()=>{clearTimeout($.current)},[]),Et(q,Pe({appear:p,in:_,nodeRef:ye,onEnter:Ne,onEntered:He,onEntering:Se,onExit:Qe,onExited:Ke,onExiting:yt,addEndListener:ft,timeout:J==="auto"?null:J},B,{children:(st,gt)=>le.exports.cloneElement(m,Pe({style:Pe({opacity:0,transform:tx(.75),visibility:st==="exited"&&!_?"hidden":void 0},F5[st],ee,m.props.style),ref:xe},gt))}))});sT.muiSupportAuto=!0;var B5=sT;const N5=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],U5={entering:{opacity:1},entered:{opacity:1}},V5={enter:U0.enteringScreen,exit:U0.leavingScreen},j5=le.exports.forwardRef(function(n,i){const{addEndListener:a,appear:p=!0,children:m,easing:s,in:_,onEnter:b,onEntered:C,onEntering:M,onExit:O,onExited:R,onExiting:Y,style:ee,timeout:J=V5,TransitionComponent:q=$S}=n,B=on(n,N5),$=j0(),Q=le.exports.useRef(null),H=ki(m.ref,i),ye=ki(Q,H),me=Ke=>ft=>{if(Ke){const st=Q.current;ft===void 0?Ke(st):Ke(st,ft)}},xe=me(M),Te=me((Ke,ft)=>{aT(Ke);const st=Yy({style:ee,timeout:J,easing:s},{mode:"enter"});Ke.style.webkitTransition=$.transitions.create("opacity",st),Ke.style.transition=$.transitions.create("opacity",st),b&&b(Ke,ft)}),Se=me(C),Ne=me(Y),He=me(Ke=>{const ft=Yy({style:ee,timeout:J,easing:s},{mode:"exit"});Ke.style.webkitTransition=$.transitions.create("opacity",ft),Ke.style.transition=$.transitions.create("opacity",ft),O&&O(Ke)}),yt=me(R);return Et(q,Pe({appear:p,in:_,nodeRef:Q,onEnter:Te,onEntered:Se,onEntering:xe,onExit:He,onExited:yt,onExiting:Ne,addEndListener:Ke=>{a&&a(Q.current,Ke)},timeout:J},B,{children:(Ke,ft)=>le.exports.cloneElement(m,Pe({style:Pe({opacity:0,visibility:Ke==="exited"&&!_?"hidden":void 0},U5[Ke],ee,m.props.style),ref:ye},ft))}))});var $5=j5;const q5=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],W5=e=>{const{classes:n}=e;return n},Z5=fn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,i.invisible&&n.invisible]}})(({ownerState:e})=>Pe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),G5=le.exports.forwardRef(function(n,i){var a;const p=Yr({props:n,name:"MuiBackdrop"}),{children:m,components:s={},componentsProps:_={},className:b,invisible:C=!1,open:M,transitionDuration:O,TransitionComponent:R=$5}=p,Y=on(p,q5),ee=Pe({},p,{invisible:C}),J=W5(ee);return Et(R,Pe({in:M,timeout:O},Y,{children:Et(EL,{className:b,invisible:C,components:Pe({Root:Z5},s),componentsProps:{root:Pe({},_.root,(!s.Root||!cp(s.Root))&&{ownerState:Pe({},(a=_.root)==null?void 0:a.ownerState)})},classes:J,ref:i,children:m})}))});var H5=G5;const X5=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],K5=e=>e.classes,Y5=fn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,!i.open&&i.exited&&n.hidden]}})(({theme:e,ownerState:n})=>Pe({position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})),J5=fn(H5,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,n)=>n.backdrop})({zIndex:-1}),Q5=le.exports.forwardRef(function(n,i){var a;const p=Yr({name:"MuiModal",props:n}),{BackdropComponent:m=J5,closeAfterTransition:s=!1,children:_,components:b={},componentsProps:C={},disableAutoFocus:M=!1,disableEnforceFocus:O=!1,disableEscapeKeyDown:R=!1,disablePortal:Y=!1,disableRestoreFocus:ee=!1,disableScrollLock:J=!1,hideBackdrop:q=!1,keepMounted:B=!1}=p,$=on(p,X5),[Q,H]=le.exports.useState(!0),ye={closeAfterTransition:s,disableAutoFocus:M,disableEnforceFocus:O,disableEscapeKeyDown:R,disablePortal:Y,disableRestoreFocus:ee,disableScrollLock:J,hideBackdrop:q,keepMounted:B},me=Pe({},p,ye,{exited:Q}),xe=K5(me);return Et(WL,Pe({components:Pe({Root:Y5},b),componentsProps:{root:Pe({},C.root,(!b.Root||!cp(b.Root))&&{ownerState:Pe({},(a=C.root)==null?void 0:a.ownerState)})},BackdropComponent:m,onTransitionEnter:()=>H(!1),onTransitionExited:()=>H(!0),ref:i},$,{classes:xe},ye,{children:_}))});var e3=Q5;function t3(e){return Rr("MuiPopover",e)}ar("MuiPopover",["root","paper"]);const n3=["onEntering"],r3=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function lT(e,n){let i=0;return typeof n=="number"?i=n:n==="center"?i=e.height/2:n==="bottom"&&(i=e.height),i}function uT(e,n){let i=0;return typeof n=="number"?i=n:n==="center"?i=e.width/2:n==="right"&&(i=e.width),i}function cT(e){return[e.horizontal,e.vertical].map(n=>typeof n=="number"?`${n}px`:n).join(" ")}function nx(e){return typeof e=="function"?e():e}const i3=e=>{const{classes:n}=e;return Ur({root:["root"],paper:["paper"]},t3,n)},o3=fn(e3,{name:"MuiPopover",slot:"Root",overridesResolver:(e,n)=>n.root})({}),a3=fn($0,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,n)=>n.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),s3=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiPopover"}),{action:p,anchorEl:m,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:_,anchorReference:b="anchorEl",children:C,className:M,container:O,elevation:R=8,marginThreshold:Y=16,open:ee,PaperProps:J={},transformOrigin:q={vertical:"top",horizontal:"left"},TransitionComponent:B=B5,transitionDuration:$="auto",TransitionProps:{onEntering:Q}={}}=a,H=on(a.TransitionProps,n3),ye=on(a,r3),me=le.exports.useRef(),xe=ki(me,J.ref),Te=Pe({},a,{anchorOrigin:s,anchorReference:b,elevation:R,marginThreshold:Y,PaperProps:J,transformOrigin:q,TransitionComponent:B,transitionDuration:$,TransitionProps:H}),Se=i3(Te),Ne=le.exports.useCallback(()=>{if(b==="anchorPosition")return _;const gt=nx(m),Gt=(gt&&gt.nodeType===1?gt:ta(me.current).body).getBoundingClientRect();return{top:Gt.top+lT(Gt,s.vertical),left:Gt.left+uT(Gt,s.horizontal)}},[m,s.horizontal,s.vertical,_,b]),He=le.exports.useCallback(gt=>({vertical:lT(gt,q.vertical),horizontal:uT(gt,q.horizontal)}),[q.horizontal,q.vertical]),yt=le.exports.useCallback(gt=>{const Ft={width:gt.offsetWidth,height:gt.offsetHeight},Gt=He(Ft);if(b==="none")return{top:null,left:null,transformOrigin:cT(Gt)};const vn=Ne();let $e=vn.top-Gt.vertical,rt=vn.left-Gt.horizontal;const It=$e+Ft.height,$t=rt+Ft.width,cn=Tu(nx(m)),sr=cn.innerHeight-Y,jt=cn.innerWidth-Y;if($e<Y){const Yt=$e-Y;$e-=Yt,Gt.vertical+=Yt}else if(It>sr){const Yt=It-sr;$e-=Yt,Gt.vertical+=Yt}if(rt<Y){const Yt=rt-Y;rt-=Yt,Gt.horizontal+=Yt}else if($t>jt){const Yt=$t-jt;rt-=Yt,Gt.horizontal+=Yt}return{top:`${Math.round($e)}px`,left:`${Math.round(rt)}px`,transformOrigin:cT(Gt)}},[m,b,Ne,He,Y]),Qe=le.exports.useCallback(()=>{const gt=me.current;if(!gt)return;const Ft=yt(gt);Ft.top!==null&&(gt.style.top=Ft.top),Ft.left!==null&&(gt.style.left=Ft.left),gt.style.transformOrigin=Ft.transformOrigin},[yt]),Ke=(gt,Ft)=>{Q&&Q(gt,Ft),Qe()};le.exports.useEffect(()=>{ee&&Qe()}),le.exports.useImperativeHandle(p,()=>ee?{updatePosition:()=>{Qe()}}:null,[ee,Qe]),le.exports.useEffect(()=>{if(!ee)return;const gt=UE(()=>{Qe()}),Ft=Tu(m);return Ft.addEventListener("resize",gt),()=>{gt.clear(),Ft.removeEventListener("resize",gt)}},[m,ee,Qe]);let ft=$;$==="auto"&&!B.muiSupportAuto&&(ft=void 0);const st=O||(m?ta(nx(m)).body:void 0);return Et(o3,Pe({BackdropProps:{invisible:!0},className:Fn(Se.root,M),container:st,open:ee,ref:i,ownerState:Te},ye,{children:Et(B,Pe({appear:!0,in:ee,onEntering:Ke,timeout:ft},H,{children:Et(a3,Pe({elevation:R},J,{ref:xe,className:Fn(Se.paper,J.className),children:C}))}))}))});var l3=s3;function u3(e){return Rr("MuiMenu",e)}ar("MuiMenu",["root","paper","list"]);const c3=["onEntering"],p3=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],h3={vertical:"top",horizontal:"right"},f3={vertical:"top",horizontal:"left"},d3=e=>{const{classes:n}=e;return Ur({root:["root"],paper:["paper"],list:["list"]},u3,n)},m3=fn(l3,{shouldForwardProp:e=>Iu(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,n)=>n.root})({}),y3=fn($0,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,n)=>n.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),g3=fn(O5,{name:"MuiMenu",slot:"List",overridesResolver:(e,n)=>n.list})({outline:0}),v3=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiMenu"}),{autoFocus:p=!0,children:m,disableAutoFocusItem:s=!1,MenuListProps:_={},onClose:b,open:C,PaperProps:M={},PopoverClasses:O,transitionDuration:R="auto",TransitionProps:{onEntering:Y}={},variant:ee="selectedMenu"}=a,J=on(a.TransitionProps,c3),q=on(a,p3),B=j0(),$=B.direction==="rtl",Q=Pe({},a,{autoFocus:p,disableAutoFocusItem:s,MenuListProps:_,onEntering:Y,PaperProps:M,transitionDuration:R,TransitionProps:J,variant:ee}),H=d3(Q),ye=p&&!s&&C,me=le.exports.useRef(null),xe=(Ne,He)=>{me.current&&me.current.adjustStyleForScrollbar(Ne,B),Y&&Y(Ne,He)},Te=Ne=>{Ne.key==="Tab"&&(Ne.preventDefault(),b&&b(Ne,"tabKeyDown"))};let Se=-1;return le.exports.Children.map(m,(Ne,He)=>{!le.exports.isValidElement(Ne)||Ne.props.disabled||(ee==="selectedMenu"&&Ne.props.selected||Se===-1)&&(Se=He)}),Et(m3,Pe({classes:O,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:$?"right":"left"},transformOrigin:$?h3:f3,PaperProps:Pe({component:y3},M,{classes:Pe({},M.classes,{root:H.paper})}),className:H.root,open:C,ref:i,transitionDuration:R,TransitionProps:Pe({onEntering:xe},J),ownerState:Q},q,{children:Et(g3,Pe({onKeyDown:Te,actions:me,autoFocus:p&&(Se===-1||s),autoFocusItem:ye,variant:ee},_,{className:Fn(H.list,_.className),children:m}))}))});var _3=v3;function x3(e){return Rr("MuiNativeSelect",e)}const b3=ar("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);var rx=b3;const w3=["className","disabled","IconComponent","inputRef","variant"],E3=e=>{const{classes:n,variant:i,disabled:a,multiple:p,open:m}=e,s={select:["select",i,a&&"disabled",p&&"multiple"],icon:["icon",`icon${qn(i)}`,m&&"iconOpen",a&&"disabled"]};return Ur(s,x3,n)},pT=({ownerState:e,theme:n})=>Pe({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:n.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${rx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:n.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:n.shape.borderRadius,"&:focus":{borderRadius:n.shape.borderRadius},"&&&":{paddingRight:32}}),S3=fn("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Iu,overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.select,n[i.variant],{[`&.${rx.multiple}`]:n.multiple}]}})(pT),hT=({ownerState:e,theme:n})=>Pe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active,[`&.${rx.disabled}`]:{color:n.palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),T3=fn("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.icon,i.variant&&n[`icon${qn(i.variant)}`],i.open&&n.iconOpen]}})(hT),C3=le.exports.forwardRef(function(n,i){const{className:a,disabled:p,IconComponent:m,inputRef:s,variant:_="standard"}=n,b=on(n,w3),C=Pe({},n,{disabled:p,variant:_}),M=E3(C);return Io(le.exports.Fragment,{children:[Et(S3,Pe({ownerState:C,className:Fn(M.select,a),disabled:p,ref:s||i},b)),n.multiple?null:Et(T3,{as:m,ownerState:C,className:M.icon})]})});var P3=C3;function I3(e){return Rr("MuiSelect",e)}const k3=ar("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);var Jy=k3;const M3=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],A3=fn("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[{[`&.${Jy.select}`]:n.select},{[`&.${Jy.select}`]:n[i.variant]},{[`&.${Jy.multiple}`]:n.multiple}]}})(pT,{[`&.${Jy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),z3=fn("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.icon,i.variant&&n[`icon${qn(i.variant)}`],i.open&&n.iconOpen]}})(hT),R3=fn("input",{shouldForwardProp:e=>MO(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,n)=>n.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function fT(e,n){return typeof n=="object"&&n!==null?e===n:String(e)===String(n)}function L3(e){return e==null||typeof e=="string"&&!e.trim()}const O3=e=>{const{classes:n,variant:i,disabled:a,multiple:p,open:m}=e,s={select:["select",i,a&&"disabled",p&&"multiple"],icon:["icon",`icon${qn(i)}`,m&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return Ur(s,I3,n)},D3=le.exports.forwardRef(function(n,i){const{"aria-describedby":a,"aria-label":p,autoFocus:m,autoWidth:s,children:_,className:b,defaultValue:C,disabled:M,displayEmpty:O,IconComponent:R,inputRef:Y,labelId:ee,MenuProps:J={},multiple:q,name:B,onBlur:$,onChange:Q,onClose:H,onFocus:ye,onOpen:me,open:xe,readOnly:Te,renderValue:Se,SelectDisplayProps:Ne={},tabIndex:He,value:yt,variant:Qe="standard"}=n,Ke=on(n,M3),[ft,st]=VE({controlled:yt,default:C,name:"Select"}),gt=le.exports.useRef(null),Ft=le.exports.useRef(null),[Gt,vn]=le.exports.useState(null),{current:$e}=le.exports.useRef(xe!=null),[rt,It]=le.exports.useState(),[$t,cn]=le.exports.useState(!1),sr=ki(i,Y),jt=le.exports.useCallback(dt=>{Ft.current=dt,dt&&vn(dt)},[]);le.exports.useImperativeHandle(sr,()=>({focus:()=>{Ft.current.focus()},node:gt.current,value:ft}),[ft]),le.exports.useEffect(()=>{m&&Ft.current.focus()},[m]),le.exports.useEffect(()=>{const dt=ta(Ft.current).getElementById(ee);if(dt){const xt=()=>{getSelection().isCollapsed&&Ft.current.focus()};return dt.addEventListener("click",xt),()=>{dt.removeEventListener("click",xt)}}},[ee]);const Yt=(dt,xt)=>{dt?me&&me(xt):H&&H(xt),$e||(It(s?null:Gt.clientWidth),cn(dt))},St=dt=>{dt.button===0&&(dt.preventDefault(),Ft.current.focus(),Yt(!0,dt))},Ht=dt=>{Yt(!1,dt)},zn=le.exports.Children.toArray(_),Gn=dt=>{const xt=zn.map(Qr=>Qr.props.value).indexOf(dt.target.value);if(xt===-1)return;const In=zn[xt];st(In.props.value),Q&&Q(dt,In)},Nt=dt=>xt=>{let In;if(!!xt.currentTarget.hasAttribute("tabindex")){if(q){In=Array.isArray(ft)?ft.slice():[];const Qr=ft.indexOf(dt.props.value);Qr===-1?In.push(dt.props.value):In.splice(Qr,1)}else In=dt.props.value;if(dt.props.onClick&&dt.props.onClick(xt),ft!==In&&(st(In),Q)){const Qr=xt.nativeEvent||xt,di=new Qr.constructor(Qr.type,Qr);Object.defineProperty(di,"target",{writable:!0,value:{value:In,name:B}}),Q(di,dt)}q||Yt(!1,xt)}},Bn=dt=>{Te||[" ","ArrowUp","ArrowDown","Enter"].indexOf(dt.key)!==-1&&(dt.preventDefault(),Yt(!0,dt))},Tn=Gt!==null&&($e?xe:$t),Cn=dt=>{!Tn&&$&&(Object.defineProperty(dt,"target",{writable:!0,value:{value:ft,name:B}}),$(dt))};delete Ke["aria-invalid"];let bn,Or;const Tr=[];let _n=!1;(Y0({value:ft})||O)&&(Se?bn=Se(ft):_n=!0);const tr=zn.map(dt=>{if(!le.exports.isValidElement(dt))return null;let xt;if(q){if(!Array.isArray(ft))throw new Error(Su(2));xt=ft.some(In=>fT(In,dt.props.value)),xt&&_n&&Tr.push(dt.props.children)}else xt=fT(ft,dt.props.value),xt&&_n&&(Or=dt.props.children);return le.exports.cloneElement(dt,{"aria-selected":xt?"true":"false",onClick:Nt(dt),onKeyUp:In=>{In.key===" "&&In.preventDefault(),dt.props.onKeyUp&&dt.props.onKeyUp(In)},role:"option",selected:xt,value:void 0,"data-value":dt.props.value})});_n&&(q?Tr.length===0?bn=null:bn=Tr.reduce((dt,xt,In)=>(dt.push(xt),In<Tr.length-1&&dt.push(", "),dt),[]):bn=Or);let si=rt;!s&&$e&&Gt&&(si=Gt.clientWidth);let yr;typeof He!="undefined"?yr=He:yr=M?null:0;const Cr=Ne.id||(B?`mui-component-select-${B}`:void 0),$r=Pe({},n,{variant:Qe,value:ft,open:Tn}),gr=O3($r);return Io(le.exports.Fragment,{children:[Et(A3,Pe({ref:jt,tabIndex:yr,role:"button","aria-disabled":M?"true":void 0,"aria-expanded":Tn?"true":"false","aria-haspopup":"listbox","aria-label":p,"aria-labelledby":[ee,Cr].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:Bn,onMouseDown:M||Te?null:St,onBlur:Cn,onFocus:ye},Ne,{ownerState:$r,className:Fn(gr.select,b,Ne.className),id:Cr,children:L3(bn)?Et("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):bn})),Et(R3,Pe({value:Array.isArray(ft)?ft.join(","):ft,name:B,ref:gt,"aria-hidden":!0,onChange:Gn,tabIndex:-1,disabled:M,className:gr.nativeInput,autoFocus:m,ownerState:$r},Ke)),Et(z3,{as:R,className:gr.icon,ownerState:$r}),Et(_3,Pe({id:`menu-${B||""}`,anchorEl:Gt,open:Tn,onClose:Ht,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},J,{MenuListProps:Pe({"aria-labelledby":ee,role:"listbox",disableListWrap:!0},J.MenuListProps),PaperProps:Pe({},J.PaperProps,{style:Pe({minWidth:si},J.PaperProps!=null?J.PaperProps.style:null)}),children:tr}))]})});var F3=D3;function ix({props:e,states:n,muiFormControl:i}){return n.reduce((a,p)=>(a[p]=e[p],i&&typeof e[p]=="undefined"&&(a[p]=i[p]),a),{})}var B3=cD(Et("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function N3(e){return Et(UA,Pe({},e,{defaultTheme:Zy}))}function U3(e){return Rr("MuiInputBase",e)}const V3=ar("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var ox=V3;const j3=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],Qy=(e,n)=>{const{ownerState:i}=e;return[n.root,i.formControl&&n.formControl,i.startAdornment&&n.adornedStart,i.endAdornment&&n.adornedEnd,i.error&&n.error,i.size==="small"&&n.sizeSmall,i.multiline&&n.multiline,i.color&&n[`color${qn(i.color)}`],i.fullWidth&&n.fullWidth,i.hiddenLabel&&n.hiddenLabel]},eg=(e,n)=>{const{ownerState:i}=e;return[n.input,i.size==="small"&&n.inputSizeSmall,i.multiline&&n.inputMultiline,i.type==="search"&&n.inputTypeSearch,i.startAdornment&&n.inputAdornedStart,i.endAdornment&&n.inputAdornedEnd,i.hiddenLabel&&n.inputHiddenLabel]},$3=e=>{const{classes:n,color:i,disabled:a,error:p,endAdornment:m,focused:s,formControl:_,fullWidth:b,hiddenLabel:C,multiline:M,size:O,startAdornment:R,type:Y}=e,ee={root:["root",`color${qn(i)}`,a&&"disabled",p&&"error",b&&"fullWidth",s&&"focused",_&&"formControl",O==="small"&&"sizeSmall",M&&"multiline",R&&"adornedStart",m&&"adornedEnd",C&&"hiddenLabel"],input:["input",a&&"disabled",Y==="search"&&"inputTypeSearch",M&&"inputMultiline",O==="small"&&"inputSizeSmall",C&&"inputHiddenLabel",R&&"inputAdornedStart",m&&"inputAdornedEnd"]};return Ur(ee,U3,n)},tg=fn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Qy})(({theme:e,ownerState:n})=>Pe({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ox.disabled}`]:{color:e.palette.text.disabled,cursor:"default"}},n.multiline&&Pe({padding:"4px 0 5px"},n.size==="small"&&{paddingTop:1}),n.fullWidth&&{width:"100%"})),ng=fn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:eg})(({theme:e,ownerState:n})=>{const i=e.palette.mode==="light",a={color:"currentColor",opacity:i?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},p={opacity:"0 !important"},m={opacity:i?.42:.5};return Pe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ox.formControl} &`]:{"&::-webkit-input-placeholder":p,"&::-moz-placeholder":p,"&:-ms-input-placeholder":p,"&::-ms-input-placeholder":p,"&:focus::-webkit-input-placeholder":m,"&:focus::-moz-placeholder":m,"&:focus:-ms-input-placeholder":m,"&:focus::-ms-input-placeholder":m},[`&.${ox.disabled}`]:{opacity:1,WebkitTextFillColor:e.palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},n.size==="small"&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},n.type==="search"&&{MozAppearance:"textfield"})}),q3=Et(N3,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),W3=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiInputBase"}),{"aria-describedby":p,autoComplete:m,autoFocus:s,className:_,components:b={},componentsProps:C={},defaultValue:M,disabled:O,disableInjectingGlobalStyles:R,endAdornment:Y,fullWidth:ee=!1,id:J,inputComponent:q="input",inputProps:B={},inputRef:$,maxRows:Q,minRows:H,multiline:ye=!1,name:me,onBlur:xe,onChange:Te,onClick:Se,onFocus:Ne,onKeyDown:He,onKeyUp:yt,placeholder:Qe,readOnly:Ke,renderSuffix:ft,rows:st,startAdornment:gt,type:Ft="text",value:Gt}=a,vn=on(a,j3),$e=B.value!=null?B.value:Gt,{current:rt}=le.exports.useRef($e!=null),It=le.exports.useRef(),$t=le.exports.useCallback(dt=>{},[]),cn=ki(B.ref,$t),sr=ki($,cn),jt=ki(It,sr),[Yt,St]=le.exports.useState(!1),Ht=Vf(),zn=ix({props:a,muiFormControl:Ht,states:["color","disabled","error","hiddenLabel","size","required","filled"]});zn.focused=Ht?Ht.focused:Yt,le.exports.useEffect(()=>{!Ht&&O&&Yt&&(St(!1),xe&&xe())},[Ht,O,Yt,xe]);const Gn=Ht&&Ht.onFilled,Nt=Ht&&Ht.onEmpty,Bn=le.exports.useCallback(dt=>{Y0(dt)?Gn&&Gn():Nt&&Nt()},[Gn,Nt]);Cu(()=>{rt&&Bn({value:$e})},[$e,Bn,rt]);const Tn=dt=>{if(zn.disabled){dt.stopPropagation();return}Ne&&Ne(dt),B.onFocus&&B.onFocus(dt),Ht&&Ht.onFocus?Ht.onFocus(dt):St(!0)},Cn=dt=>{xe&&xe(dt),B.onBlur&&B.onBlur(dt),Ht&&Ht.onBlur?Ht.onBlur(dt):St(!1)},bn=(dt,...xt)=>{if(!rt){const In=dt.target||It.current;if(In==null)throw new Error(Su(1));Bn({value:In.value})}B.onChange&&B.onChange(dt,...xt),Te&&Te(dt,...xt)};le.exports.useEffect(()=>{Bn(It.current)},[]);const Or=dt=>{It.current&&dt.currentTarget===dt.target&&It.current.focus(),Se&&Se(dt)};let Tr=q,_n=B;ye&&Tr==="input"&&(st?_n=Pe({type:void 0,minRows:st,maxRows:st},_n):_n=Pe({type:void 0,maxRows:Q,minRows:H},_n),Tr=XL);const tr=dt=>{Bn(dt.animationName==="mui-auto-fill-cancel"?It.current:{value:"x"})};le.exports.useEffect(()=>{Ht&&Ht.setAdornedStart(Boolean(gt))},[Ht,gt]);const si=Pe({},a,{color:zn.color||"primary",disabled:zn.disabled,endAdornment:Y,error:zn.error,focused:zn.focused,formControl:Ht,fullWidth:ee,hiddenLabel:zn.hiddenLabel,multiline:ye,size:zn.size,startAdornment:gt,type:Ft}),yr=$3(si),Cr=b.Root||tg,$r=C.root||{},gr=b.Input||ng;return _n=Pe({},_n,C.input),Io(le.exports.Fragment,{children:[!R&&q3,Io(Cr,Pe({},$r,!cp(Cr)&&{ownerState:Pe({},si,$r.ownerState)},{ref:i,onClick:Or},vn,{className:Fn(yr.root,$r.className,_),children:[gt,Et(J0.Provider,{value:null,children:Et(gr,Pe({ownerState:si,"aria-invalid":zn.error,"aria-describedby":p,autoComplete:m,autoFocus:s,defaultValue:M,disabled:zn.disabled,id:J,onAnimationStart:tr,name:me,placeholder:Qe,readOnly:Ke,required:zn.required,rows:st,value:$e,onKeyDown:He,onKeyUp:yt,type:Ft},_n,!cp(gr)&&{as:Tr,ownerState:Pe({},si,_n.ownerState)},{ref:jt,className:Fn(yr.input,_n.className),onBlur:Cn,onChange:bn,onFocus:Tn}))}),Y,ft?ft(Pe({},zn,{startAdornment:gt})):null]}))]})});var ax=W3;function Z3(e){return Rr("MuiInput",e)}const G3=ar("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]);var rg=G3;const H3=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],X3=e=>{const{classes:n,disableUnderline:i}=e,p=Ur({root:["root",!i&&"underline"],input:["input"]},Z3,n);return Pe({},n,p)},K3=fn(tg,{shouldForwardProp:e=>Iu(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[...Qy(e,n),!i.disableUnderline&&n.underline]}})(({theme:e,ownerState:n})=>{const a=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return Pe({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&:after":{borderBottom:`2px solid ${e.palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${rg.focused}:after`]:{transform:"scaleX(1)"},[`&.${rg.error}:after`]:{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${rg.disabled}):before`]:{borderBottom:`2px solid ${e.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${rg.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Y3=fn(ng,{name:"MuiInput",slot:"Input",overridesResolver:eg})({}),dT=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiInput"}),{disableUnderline:p,components:m={},componentsProps:s,fullWidth:_=!1,inputComponent:b="input",multiline:C=!1,type:M="text"}=a,O=on(a,H3),R=X3(a),ee={root:{ownerState:{disableUnderline:p}}},J=s?ea(s,ee):ee;return Et(ax,Pe({components:Pe({Root:K3,Input:Y3},m),componentsProps:J,fullWidth:_,inputComponent:b,multiline:C,ref:i,type:M},O,{classes:R}))});dT.muiName="Input";var J3=dT;function Q3(e){return Rr("MuiFilledInput",e)}const e4=ar("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]);var _p=e4;const t4=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],n4=e=>{const{classes:n,disableUnderline:i}=e,p=Ur({root:["root",!i&&"underline"],input:["input"]},Q3,n);return Pe({},n,p)},r4=fn(tg,{shouldForwardProp:e=>Iu(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[...Qy(e,n),!i.disableUnderline&&n.underline]}})(({theme:e,ownerState:n})=>{const i=e.palette.mode==="light",a=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",p=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return Pe({position:"relative",backgroundColor:p,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:p}},[`&.${_p.focused}`]:{backgroundColor:p},[`&.${_p.disabled}`]:{backgroundColor:i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!n.disableUnderline&&{"&:after":{borderBottom:`2px solid ${e.palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_p.focused}:after`]:{transform:"scaleX(1)"},[`&.${_p.error}:after`]:{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_p.disabled}):before`]:{borderBottom:`1px solid ${e.palette.text.primary}`},[`&.${_p.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&Pe({padding:"25px 12px 8px"},n.size==="small"&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),i4=fn(ng,{name:"MuiFilledInput",slot:"Input",overridesResolver:eg})(({theme:e,ownerState:n})=>Pe({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.size==="small"&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&n.size==="small"&&{paddingTop:8,paddingBottom:9})),mT=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiFilledInput"}),{components:p={},componentsProps:m,fullWidth:s=!1,inputComponent:_="input",multiline:b=!1,type:C="text"}=a,M=on(a,t4),O=Pe({},a,{fullWidth:s,inputComponent:_,multiline:b,type:C}),R=n4(a),Y={root:{ownerState:O},input:{ownerState:O}},ee=m?ea(m,Y):Y;return Et(ax,Pe({components:Pe({Root:r4,Input:i4},p),componentsProps:ee,fullWidth:s,inputComponent:_,multiline:b,ref:i,type:C},M,{classes:R}))});mT.muiName="Input";var o4=mT;const a4=["children","classes","className","label","notched"],s4=fn("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),l4=fn("legend",{skipSx:!0})(({ownerState:e,theme:n})=>Pe({float:"unset"},e.label===void 0&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},e.label!==void 0&&Pe({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},e.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})})));function u4(e){const{className:n,label:i,notched:a}=e,p=on(e,a4),m=Pe({},e,{notched:a,label:i});return Et(s4,Pe({"aria-hidden":!0,className:n,ownerState:m},p,{children:Et(l4,{ownerState:m,children:i?Et("span",{children:i}):Et("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}function c4(e){return Rr("MuiOutlinedInput",e)}const p4=ar("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]);var Al=p4;const h4=["components","fullWidth","inputComponent","label","multiline","notched","type"],f4=e=>{const{classes:n}=e,a=Ur({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},c4,n);return Pe({},n,a)},d4=fn(tg,{shouldForwardProp:e=>Iu(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Qy})(({theme:e,ownerState:n})=>{const i=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Pe({position:"relative",borderRadius:e.shape.borderRadius,[`&:hover .${Al.notchedOutline}`]:{borderColor:e.palette.text.primary},"@media (hover: none)":{[`&:hover .${Al.notchedOutline}`]:{borderColor:i}},[`&.${Al.focused} .${Al.notchedOutline}`]:{borderColor:e.palette[n.color].main,borderWidth:2},[`&.${Al.error} .${Al.notchedOutline}`]:{borderColor:e.palette.error.main},[`&.${Al.disabled} .${Al.notchedOutline}`]:{borderColor:e.palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&Pe({padding:"16.5px 14px"},n.size==="small"&&{padding:"8.5px 14px"}))}),m4=fn(u4,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,n)=>n.notchedOutline})(({theme:e})=>({borderColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"})),y4=fn(ng,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:eg})(({theme:e,ownerState:n})=>Pe({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},n.size==="small"&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})),yT=le.exports.forwardRef(function(n,i){var a;const p=Yr({props:n,name:"MuiOutlinedInput"}),{components:m={},fullWidth:s=!1,inputComponent:_="input",label:b,multiline:C=!1,notched:M,type:O="text"}=p,R=on(p,h4),Y=f4(p),ee=Vf(),J=ix({props:p,muiFormControl:ee,states:["required"]});return Et(ax,Pe({components:Pe({Root:d4,Input:y4},m),renderSuffix:q=>Et(m4,{className:Y.notchedOutline,label:b&&J.required?a||(a=Io(le.exports.Fragment,{children:[b,"\xA0","*"]})):b,notched:typeof M!="undefined"?M:Boolean(q.startAdornment||q.filled||q.focused)}),fullWidth:s,inputComponent:_,multiline:C,ref:i,type:O},R,{classes:Pe({},Y,{notchedOutline:null})}))});yT.muiName="Input";var g4=yT,gT,vT;const v4=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_4=e=>{const{classes:n}=e;return n},_T=le.exports.forwardRef(function(n,i){const a=Yr({name:"MuiSelect",props:n}),{autoWidth:p=!1,children:m,classes:s={},className:_,displayEmpty:b=!1,IconComponent:C=B3,id:M,input:O,inputProps:R,label:Y,labelId:ee,MenuProps:J,multiple:q=!1,native:B=!1,onClose:$,onOpen:Q,open:H,renderValue:ye,SelectDisplayProps:me,variant:xe="outlined"}=a,Te=on(a,v4),Se=B?P3:F3,Ne=Vf(),yt=ix({props:a,muiFormControl:Ne,states:["variant"]}).variant||xe,Qe=O||{standard:gT||(gT=Et(J3,{})),outlined:Et(g4,{label:Y}),filled:vT||(vT=Et(o4,{}))}[yt],Ke=Pe({},a,{classes:s}),ft=_4(Ke),st=ki(i,Qe.ref);return le.exports.cloneElement(Qe,Pe({inputComponent:Se,inputProps:Pe({children:m,IconComponent:C,variant:yt,type:void 0,multiple:q},B?{id:M}:{autoWidth:p,displayEmpty:b,labelId:ee,MenuProps:J,onClose:$,onOpen:Q,open:H,renderValue:ye,SelectDisplayProps:Pe({id:M},me)},R,{classes:R?ea(ft,R.classes):ft},O?O.props.inputProps:{})},q&&B&&yt==="outlined"?{notched:!0}:{},{ref:st,className:Fn(Qe.props.className,_)},Te))});_T.muiName="Select";var XN=_T;function x4(e){return Rr("PrivateSwitchBase",e)}ar("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const b4=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],w4=e=>{const{classes:n,checked:i,disabled:a,edge:p}=e,m={root:["root",i&&"checked",a&&"disabled",p&&`edge${qn(p)}`],input:["input"]};return Ur(m,x4,n)},E4=fn(HS,{skipSx:!0})(({ownerState:e})=>Pe({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),S4=fn("input",{skipSx:!0})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),T4=le.exports.forwardRef(function(n,i){const{autoFocus:a,checked:p,checkedIcon:m,className:s,defaultChecked:_,disabled:b,disableFocusRipple:C=!1,edge:M=!1,icon:O,id:R,inputProps:Y,inputRef:ee,name:J,onBlur:q,onChange:B,onFocus:$,readOnly:Q,required:H,tabIndex:ye,type:me,value:xe}=n,Te=on(n,b4),[Se,Ne]=VE({controlled:p,default:Boolean(_),name:"SwitchBase",state:"checked"}),He=Vf(),yt=Gt=>{$&&$(Gt),He&&He.onFocus&&He.onFocus(Gt)},Qe=Gt=>{q&&q(Gt),He&&He.onBlur&&He.onBlur(Gt)},Ke=Gt=>{if(Gt.nativeEvent.defaultPrevented)return;const vn=Gt.target.checked;Ne(vn),B&&B(Gt,vn)};let ft=b;He&&typeof ft=="undefined"&&(ft=He.disabled);const st=me==="checkbox"||me==="radio",gt=Pe({},n,{checked:Se,disabled:ft,disableFocusRipple:C,edge:M}),Ft=w4(gt);return Io(E4,Pe({component:"span",className:Fn(Ft.root,s),centerRipple:!0,focusRipple:!C,disabled:ft,tabIndex:null,role:void 0,onFocus:yt,onBlur:Qe,ownerState:gt,ref:i},Te,{children:[Et(S4,Pe({autoFocus:a,checked:p,defaultChecked:_,className:Ft.input,disabled:ft,id:st&&R,name:J,onChange:Ke,readOnly:Q,ref:ee,required:H,ownerState:gt,tabIndex:ye,type:me},me==="checkbox"&&xe===void 0?{}:{value:xe},Y)),Se?m:O]}))});var C4=T4;function P4(e){return Rr("MuiSwitch",e)}const I4=ar("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var lo=I4;const k4=["className","color","edge","size","sx"],M4=e=>{const{classes:n,edge:i,size:a,color:p,checked:m,disabled:s}=e,_={root:["root",i&&`edge${qn(i)}`,`size${qn(a)}`],switchBase:["switchBase",`color${qn(p)}`,m&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},b=Ur(_,P4,n);return Pe({},n,b)},A4=fn("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,i.edge&&n[`edge${qn(i.edge)}`],n[`size${qn(i.size)}`]]}})(({ownerState:e})=>Pe({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${lo.thumb}`]:{width:16,height:16},[`& .${lo.switchBase}`]:{padding:4,[`&.${lo.checked}`]:{transform:"translateX(16px)"}}})),z4=fn(C4,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.switchBase,{[`& .${lo.input}`]:n.input},i.color!=="default"&&n[`color${qn(i.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${lo.checked}`]:{transform:"translateX(20px)"},[`&.${lo.disabled}`]:{color:e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]},[`&.${lo.checked} + .${lo.track}`]:{opacity:.5},[`&.${lo.disabled} + .${lo.track}`]:{opacity:e.palette.mode==="light"?.12:.2},[`& .${lo.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:n})=>Pe({"&:hover":{backgroundColor:Ml(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},n.color!=="default"&&{[`&.${lo.checked}`]:{color:e.palette[n.color].main,"&:hover":{backgroundColor:Ml(e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${lo.disabled}`]:{color:e.palette.mode==="light"?mS(e.palette[n.color].main,.62):dS(e.palette[n.color].main,.55)}},[`&.${lo.checked} + .${lo.track}`]:{backgroundColor:e.palette[n.color].main}})),R4=fn("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,n)=>n.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.palette.mode==="light"?e.palette.common.black:e.palette.common.white,opacity:e.palette.mode==="light"?.38:.3})),L4=fn("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,n)=>n.thumb})(({theme:e})=>({boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),O4=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiSwitch"}),{className:p,color:m="primary",edge:s=!1,size:_="medium",sx:b}=a,C=on(a,k4),M=Pe({},a,{color:m,edge:s,size:_}),O=M4(M),R=Et(L4,{className:O.thumb,ownerState:M});return Io(A4,{className:Fn(O.root,p),sx:b,ownerState:M,children:[Et(z4,Pe({type:"checkbox",icon:R,checkedIcon:R,ref:i,ownerState:M},C,{classes:Pe({},O,{root:O.switchBase})})),Et(R4,{className:O.track,ownerState:M})]})});var KN=O4;function D4(e){return Rr("MuiFormControlLabel",e)}const F4=ar("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label"]);var ig=F4;const B4=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],N4=e=>{const{classes:n,disabled:i,labelPlacement:a}=e,p={root:["root",i&&"disabled",`labelPlacement${qn(a)}`],label:["label",i&&"disabled"]};return Ur(p,D4,n)},U4=fn("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[{[`& .${ig.label}`]:n.label},n.root,n[`labelPlacement${qn(i.labelPlacement)}`]]}})(({theme:e,ownerState:n})=>Pe({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ig.disabled}`]:{cursor:"default"}},n.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},n.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},n.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${ig.label}`]:{[`&.${ig.disabled}`]:{color:e.palette.text.disabled}}})),V4=le.exports.forwardRef(function(n,i){const a=Yr({props:n,name:"MuiFormControlLabel"}),{className:p,componentsProps:m={},control:s,disabled:_,disableTypography:b,label:C,labelPlacement:M="end"}=a,O=on(a,B4),R=Vf();let Y=_;typeof Y=="undefined"&&typeof s.props.disabled!="undefined"&&(Y=s.props.disabled),typeof Y=="undefined"&&R&&(Y=R.disabled);const ee={disabled:Y};["checked","name","onChange","value","inputRef"].forEach(B=>{typeof s.props[B]=="undefined"&&typeof a[B]!="undefined"&&(ee[B]=a[B])});const J=Pe({},a,{disabled:Y,label:C,labelPlacement:M}),q=N4(J);return Io(U4,Pe({className:Fn(q.root,p),ownerState:J,ref:i},O,{children:[le.exports.cloneElement(s,ee),C.type===LS||b?C:Et(LS,Pe({component:"span",className:q.label},m.typography,{children:C}))]}))});var YN=V4;function Jr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function xp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xp=function(i){return typeof i}:xp=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},xp(e)}function at(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bi(e,n){if(n&&(xp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(e)}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},Vr(e)}function xT(e,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jr(e,n,i){return n&&xT(e.prototype,n),i&&xT(e,i),e}function sx(e,n){return sx=Object.setPrototypeOf||function(a,p){return a.__proto__=p,a},sx(e,n)}function Ni(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&sx(e,n)}function Oe(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}var bT={exports:{}},j4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$4=j4,q4=$4;function wT(){}function ET(){}ET.resetWarningCache=wT;var W4=function(){function e(a,p,m,s,_,b){if(b!==q4){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function n(){return e}var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:ET,resetWarningCache:wT};return i.PropTypes=i,i};bT.exports=W4();var De=bT.exports;function ST(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),i.push.apply(i,a)}return i}function lx(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?ST(i,!0).forEach(function(a){Oe(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ST(i).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}var Z4=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function TT(e){if(!e)return null;if(typeof e=="string")return e;e.toJS&&(e=e.toJS());var n={},i=!0,a=!1,p=void 0;try{for(var m=e.layers[Symbol.iterator](),s;!(i=(s=m.next()).done);i=!0){var _=s.value;n[_.id]=_}}catch(C){a=!0,p=C}finally{try{!i&&m.return!=null&&m.return()}finally{if(a)throw p}}var b=e.layers.map(function(C){var M=n[C.ref],O=null;if("interactive"in C&&(O=lx({},C),delete O.interactive),M){O=O||lx({},C),delete O.ref;var R=!0,Y=!1,ee=void 0;try{for(var J=Z4[Symbol.iterator](),q;!(R=(q=J.next()).done);R=!0){var B=q.value;B in M&&(O[B]=M[B])}}catch($){Y=!0,ee=$}finally{try{!R&&J.return!=null&&J.return()}finally{if(Y)throw ee}}}return O||C});return lx({},e,{layers:b})}var to=1e-6,bp=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});function G4(){var e=new bp(4);return bp!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function H4(e,n,i){return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=n[3]*i,e}function X4(e,n,i){var a=n[0],p=n[1],m=n[2],s=n[3];return e[0]=i[0]*a+i[4]*p+i[8]*m+i[12]*s,e[1]=i[1]*a+i[5]*p+i[9]*m+i[13]*s,e[2]=i[2]*a+i[6]*p+i[10]*m+i[14]*s,e[3]=i[3]*a+i[7]*p+i[11]*m+i[15]*s,e}(function(){var e=G4();return function(n,i,a,p,m,s){var _,b;for(i||(i=4),a||(a=0),p?b=Math.min(p*i+a,n.length):b=n.length,_=a;_<b;_+=i)e[0]=n[_],e[1]=n[_+1],e[2]=n[_+2],e[3]=n[_+3],m(e,e,s),n[_]=e[0],n[_+1]=e[1],n[_+2]=e[2],n[_+3]=e[3];return n}})();function og(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function wp(e,n){const i=X4([],n,e);return H4(i,i,1/i[3]),i}function CT(e,n){const i=e%n;return i<0?n+i:i}function K4(e,n,i){return i*n+(1-i)*e}function Y4(e){return Math.log(e)*Math.LOG2E}const ux=Math.log2||Y4;function J4(e,n){var i=n[0],a=n[1],p=n[2],m=n[3],s=n[4],_=n[5],b=n[6],C=n[7],M=n[8],O=n[9],R=n[10],Y=n[11],ee=n[12],J=n[13],q=n[14],B=n[15],$=i*_-a*s,Q=i*b-p*s,H=i*C-m*s,ye=a*b-p*_,me=a*C-m*_,xe=p*C-m*b,Te=M*J-O*ee,Se=M*q-R*ee,Ne=M*B-Y*ee,He=O*q-R*J,yt=O*B-Y*J,Qe=R*B-Y*q,Ke=$*Qe-Q*yt+H*He+ye*Ne-me*Se+xe*Te;return Ke?(Ke=1/Ke,e[0]=(_*Qe-b*yt+C*He)*Ke,e[1]=(p*yt-a*Qe-m*He)*Ke,e[2]=(J*xe-q*me+B*ye)*Ke,e[3]=(R*me-O*xe-Y*ye)*Ke,e[4]=(b*Ne-s*Qe-C*Se)*Ke,e[5]=(i*Qe-p*Ne+m*Se)*Ke,e[6]=(q*H-ee*xe-B*Q)*Ke,e[7]=(M*xe-R*H+Y*Q)*Ke,e[8]=(s*yt-_*Ne+C*Te)*Ke,e[9]=(a*Ne-i*yt-m*Te)*Ke,e[10]=(ee*me-J*H+B*$)*Ke,e[11]=(O*H-M*me-Y*$)*Ke,e[12]=(_*Se-s*He-b*Te)*Ke,e[13]=(i*He-a*Se+p*Te)*Ke,e[14]=(J*Q-ee*ye-q*$)*Ke,e[15]=(M*ye-O*Q+R*$)*Ke,e):null}function cx(e,n,i){var a=n[0],p=n[1],m=n[2],s=n[3],_=n[4],b=n[5],C=n[6],M=n[7],O=n[8],R=n[9],Y=n[10],ee=n[11],J=n[12],q=n[13],B=n[14],$=n[15],Q=i[0],H=i[1],ye=i[2],me=i[3];return e[0]=Q*a+H*_+ye*O+me*J,e[1]=Q*p+H*b+ye*R+me*q,e[2]=Q*m+H*C+ye*Y+me*B,e[3]=Q*s+H*M+ye*ee+me*$,Q=i[4],H=i[5],ye=i[6],me=i[7],e[4]=Q*a+H*_+ye*O+me*J,e[5]=Q*p+H*b+ye*R+me*q,e[6]=Q*m+H*C+ye*Y+me*B,e[7]=Q*s+H*M+ye*ee+me*$,Q=i[8],H=i[9],ye=i[10],me=i[11],e[8]=Q*a+H*_+ye*O+me*J,e[9]=Q*p+H*b+ye*R+me*q,e[10]=Q*m+H*C+ye*Y+me*B,e[11]=Q*s+H*M+ye*ee+me*$,Q=i[12],H=i[13],ye=i[14],me=i[15],e[12]=Q*a+H*_+ye*O+me*J,e[13]=Q*p+H*b+ye*R+me*q,e[14]=Q*m+H*C+ye*Y+me*B,e[15]=Q*s+H*M+ye*ee+me*$,e}function px(e,n,i){var a=i[0],p=i[1],m=i[2],s,_,b,C,M,O,R,Y,ee,J,q,B;return n===e?(e[12]=n[0]*a+n[4]*p+n[8]*m+n[12],e[13]=n[1]*a+n[5]*p+n[9]*m+n[13],e[14]=n[2]*a+n[6]*p+n[10]*m+n[14],e[15]=n[3]*a+n[7]*p+n[11]*m+n[15]):(s=n[0],_=n[1],b=n[2],C=n[3],M=n[4],O=n[5],R=n[6],Y=n[7],ee=n[8],J=n[9],q=n[10],B=n[11],e[0]=s,e[1]=_,e[2]=b,e[3]=C,e[4]=M,e[5]=O,e[6]=R,e[7]=Y,e[8]=ee,e[9]=J,e[10]=q,e[11]=B,e[12]=s*a+M*p+ee*m+n[12],e[13]=_*a+O*p+J*m+n[13],e[14]=b*a+R*p+q*m+n[14],e[15]=C*a+Y*p+B*m+n[15]),e}function PT(e,n,i){var a=i[0],p=i[1],m=i[2];return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=n[3]*a,e[4]=n[4]*p,e[5]=n[5]*p,e[6]=n[6]*p,e[7]=n[7]*p,e[8]=n[8]*m,e[9]=n[9]*m,e[10]=n[10]*m,e[11]=n[11]*m,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}function Q4(e,n,i){var a=Math.sin(i),p=Math.cos(i),m=n[4],s=n[5],_=n[6],b=n[7],C=n[8],M=n[9],O=n[10],R=n[11];return n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[4]=m*p+C*a,e[5]=s*p+M*a,e[6]=_*p+O*a,e[7]=b*p+R*a,e[8]=C*p-m*a,e[9]=M*p-s*a,e[10]=O*p-_*a,e[11]=R*p-b*a,e}function eF(e,n,i){var a=Math.sin(i),p=Math.cos(i),m=n[0],s=n[1],_=n[2],b=n[3],C=n[4],M=n[5],O=n[6],R=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=m*p+C*a,e[1]=s*p+M*a,e[2]=_*p+O*a,e[3]=b*p+R*a,e[4]=C*p-m*a,e[5]=M*p-s*a,e[6]=O*p-_*a,e[7]=R*p-b*a,e}function tF(e,n,i,a,p){var m=1/Math.tan(n/2),s;return e[0]=m/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=m,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,p!=null&&p!==1/0?(s=1/(a-p),e[10]=(p+a)*s,e[14]=2*p*a*s):(e[10]=-1,e[14]=-2*a),e}function IT(e,n){var i=e[0],a=e[1],p=e[2],m=e[3],s=e[4],_=e[5],b=e[6],C=e[7],M=e[8],O=e[9],R=e[10],Y=e[11],ee=e[12],J=e[13],q=e[14],B=e[15],$=n[0],Q=n[1],H=n[2],ye=n[3],me=n[4],xe=n[5],Te=n[6],Se=n[7],Ne=n[8],He=n[9],yt=n[10],Qe=n[11],Ke=n[12],ft=n[13],st=n[14],gt=n[15];return Math.abs(i-$)<=to*Math.max(1,Math.abs(i),Math.abs($))&&Math.abs(a-Q)<=to*Math.max(1,Math.abs(a),Math.abs(Q))&&Math.abs(p-H)<=to*Math.max(1,Math.abs(p),Math.abs(H))&&Math.abs(m-ye)<=to*Math.max(1,Math.abs(m),Math.abs(ye))&&Math.abs(s-me)<=to*Math.max(1,Math.abs(s),Math.abs(me))&&Math.abs(_-xe)<=to*Math.max(1,Math.abs(_),Math.abs(xe))&&Math.abs(b-Te)<=to*Math.max(1,Math.abs(b),Math.abs(Te))&&Math.abs(C-Se)<=to*Math.max(1,Math.abs(C),Math.abs(Se))&&Math.abs(M-Ne)<=to*Math.max(1,Math.abs(M),Math.abs(Ne))&&Math.abs(O-He)<=to*Math.max(1,Math.abs(O),Math.abs(He))&&Math.abs(R-yt)<=to*Math.max(1,Math.abs(R),Math.abs(yt))&&Math.abs(Y-Qe)<=to*Math.max(1,Math.abs(Y),Math.abs(Qe))&&Math.abs(ee-Ke)<=to*Math.max(1,Math.abs(ee),Math.abs(Ke))&&Math.abs(J-ft)<=to*Math.max(1,Math.abs(J),Math.abs(ft))&&Math.abs(q-st)<=to*Math.max(1,Math.abs(q),Math.abs(st))&&Math.abs(B-gt)<=to*Math.max(1,Math.abs(B),Math.abs(gt))}function nF(){var e=new bp(2);return bp!=Float32Array&&(e[0]=0,e[1]=0),e}function hx(e,n,i){return e[0]=n[0]+i[0],e[1]=n[1]+i[1],e}function rF(e,n,i){return e[0]=n[0]-i[0],e[1]=n[1]-i[1],e}function iF(e,n,i){return e[0]=n[0]*i,e[1]=n[1]*i,e}function oF(e){var n=e[0],i=e[1];return Math.hypot(n,i)}function aF(e,n){return e[0]=-n[0],e[1]=-n[1],e}function kT(e,n,i,a){var p=n[0],m=n[1];return e[0]=p+a*(i[0]-p),e[1]=m+a*(i[1]-m),e}var sF=rF;(function(){var e=nF();return function(n,i,a,p,m,s){var _,b;for(i||(i=2),a||(a=0),p?b=Math.min(p*i+a,n.length):b=n.length,_=a;_<b;_+=i)e[0]=n[_],e[1]=n[_+1],m(e,e,s),n[_]=e[0],n[_+1]=e[1];return n}})();function lF(){var e=new bp(3);return bp!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function uF(e,n,i){return e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e}function cF(e,n,i){return e[0]=n[0]*i[0],e[1]=n[1]*i[1],e[2]=n[2]*i[2],e}function pF(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e}var hF=cF;(function(){var e=lF();return function(n,i,a,p,m,s){var _,b;for(i||(i=3),a||(a=0),p?b=Math.min(p*i+a,n.length):b=n.length,_=a;_<b;_+=i)e[0]=n[_],e[1]=n[_+1],e[2]=n[_+2],m(e,e,s),n[_]=e[0],n[_+1]=e[1],n[_+2]=e[2];return n}})();function zl(e,n){if(!e)throw new Error(n||"@math.gl/web-mercator: assertion failed.")}const wa=Math.PI,MT=wa/4,is=wa/180,fx=180/wa,Jf=512,AT=4003e4,zT=1.5;function dx(e){return Math.pow(2,e)}function fF(e){return ux(e)}function Ep([e,n]){zl(Number.isFinite(e)),zl(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const i=e*is,a=n*is,p=Jf*(i+wa)/(2*wa),m=Jf*(wa+Math.log(Math.tan(MT+a*.5)))/(2*wa);return[p,m]}function zu([e,n]){const i=e/Jf*(2*wa)-wa,a=2*(Math.atan(Math.exp(n/Jf*(2*wa)-wa))-MT);return[i*fx,a*fx]}function dF({latitude:e,longitude:n,highPrecision:i=!1}){zl(Number.isFinite(e)&&Number.isFinite(n));const a={},p=Jf,m=Math.cos(e*is),s=p/360,_=s/m,b=p/AT/m;if(a.unitsPerMeter=[b,b,b],a.metersPerUnit=[1/b,1/b,1/b],a.unitsPerDegree=[s,_,b],a.degreesPerUnit=[1/s,1/_,1/b],i){const C=is*Math.tan(e*is)/m,M=s*C/2,O=p/AT*C,R=O/_*b;a.unitsPerDegree2=[0,M,O],a.unitsPerMeter2=[R,0,R]}return a}function mF({height:e,pitch:n,bearing:i,altitude:a,scale:p,center:m=null}){const s=og();return px(s,s,[0,0,-a]),Q4(s,s,-n*is),eF(s,s,i*is),p/=e,PT(s,s,[p,p,p]),m&&px(s,s,pF([],m)),s}function yF({width:e,height:n,fovy:i=ag(zT),altitude:a,pitch:p=0,nearZMultiplier:m=1,farZMultiplier:s=1}){a!==void 0&&(i=ag(a));const _=.5*i*is,b=RT(i),C=p*is,M=Math.sin(_)*b/Math.sin(Math.min(Math.max(Math.PI/2-C-_,.01),Math.PI-.01)),O=Math.sin(C)*M+b;return{fov:2*_,aspect:e/n,focalDistance:b,near:m,far:O*s}}function gF({width:e,height:n,pitch:i,altitude:a,fovy:p,nearZMultiplier:m,farZMultiplier:s}){const{fov:_,aspect:b,near:C,far:M}=yF({width:e,height:n,altitude:a,fovy:p,pitch:i,nearZMultiplier:m,farZMultiplier:s});return tF([],_,b,C,M)}function ag(e){return 2*Math.atan(.5/e)*fx}function RT(e){return .5/Math.tan(.5*e*is)}function vF(e,n){const[i,a,p=0]=e;return zl(Number.isFinite(i)&&Number.isFinite(a)&&Number.isFinite(p)),wp(n,[i,a,p,1])}function LT(e,n,i=0){const[a,p,m]=e;if(zl(Number.isFinite(a)&&Number.isFinite(p),"invalid pixel coordinate"),Number.isFinite(m))return wp(n,[a,p,m,1]);const s=wp(n,[a,p,0,1]),_=wp(n,[a,p,1,1]),b=s[2],C=_[2],M=b===C?0:((i||0)-b)/(C-b);return kT([],s,_,M)}function _F({width:e,height:n,bounds:i,minExtent:a=0,maxZoom:p=24,padding:m=0,offset:s=[0,0]}){const[[_,b],[C,M]]=i;if(Number.isFinite(m)){const xe=m;m={top:xe,bottom:xe,left:xe,right:xe}}else zl(Number.isFinite(m.top)&&Number.isFinite(m.bottom)&&Number.isFinite(m.left)&&Number.isFinite(m.right));const O=new No({width:e,height:n,longitude:0,latitude:0,zoom:0}),R=O.project([_,M]),Y=O.project([C,b]),ee=[Math.max(Math.abs(Y[0]-R[0]),a),Math.max(Math.abs(Y[1]-R[1]),a)],J=[e-m.left-m.right-Math.abs(s[0])*2,n-m.top-m.bottom-Math.abs(s[1])*2];zl(J[0]>0&&J[1]>0);const q=J[0]/ee[0],B=J[1]/ee[1],$=(m.right-m.left)/2/q,Q=(m.bottom-m.top)/2/B,H=[(Y[0]+R[0])/2+$,(Y[1]+R[1])/2+Q],ye=O.unproject(H),me=Math.min(p,O.zoom+ux(Math.abs(Math.min(q,B))));return zl(Number.isFinite(me)),{longitude:ye[0],latitude:ye[1],zoom:me}}const OT=Math.PI/180;function xF(e,n=0){const{width:i,height:a,unproject:p}=e,m={targetZ:n},s=p([0,a],m),_=p([i,a],m);let b,C;const M=e.fovy?.5*e.fovy*OT:Math.atan(.5/e.altitude),O=(90-e.pitch)*OT;return M>O-.01?(b=DT(e,0,n),C=DT(e,i,n)):(b=p([0,0],m),C=p([i,0],m)),[s,_,C,b]}function DT(e,n,i){const{pixelUnprojectionMatrix:a}=e,p=wp(a,[n,0,1,1]),m=wp(a,[n,e.height,1,1]),_=(i*e.distanceScales.unitsPerMeter[2]-p[2])/(m[2]-p[2]),b=kT([],p,m,_),C=zu(b);return C[2]=i,C}class No{constructor({width:n,height:i,latitude:a=0,longitude:p=0,zoom:m=0,pitch:s=0,bearing:_=0,altitude:b=null,fovy:C=null,position:M=null,nearZMultiplier:O=.02,farZMultiplier:R=1.01}={width:1,height:1}){n=n||1,i=i||1,C===null&&b===null?(b=zT,C=ag(b)):C===null?C=ag(b):b===null&&(b=RT(C));const Y=dx(m);b=Math.max(.75,b);const ee=dF({longitude:p,latitude:a}),J=Ep([p,a]);J[2]=0,M&&uF(J,J,hF([],M,ee.unitsPerMeter)),this.projectionMatrix=gF({width:n,height:i,pitch:s,fovy:C,nearZMultiplier:O,farZMultiplier:R}),this.viewMatrix=mF({height:i,scale:Y,center:J,pitch:s,bearing:_,altitude:b}),this.width=n,this.height=i,this.scale=Y,this.latitude=a,this.longitude=p,this.zoom=m,this.pitch=s,this.bearing=_,this.altitude=b,this.fovy=C,this.center=J,this.meterOffset=M||[0,0,0],this.distanceScales=ee,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}_initMatrices(){const{width:n,height:i,projectionMatrix:a,viewMatrix:p}=this,m=og();cx(m,m,a),cx(m,m,p),this.viewProjectionMatrix=m;const s=og();PT(s,s,[n/2,-i/2,1]),px(s,s,[1,-1,0]),cx(s,s,m);const _=J4(og(),s);if(!_)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=s,this.pixelUnprojectionMatrix=_}equals(n){return n instanceof No?n.width===this.width&&n.height===this.height&&IT(n.projectionMatrix,this.projectionMatrix)&&IT(n.viewMatrix,this.viewMatrix):!1}project(n,{topLeft:i=!0}={}){const a=this.projectPosition(n),p=vF(a,this.pixelProjectionMatrix),[m,s]=p,_=i?s:this.height-s;return n.length===2?[m,_]:[m,_,p[2]]}unproject(n,{topLeft:i=!0,targetZ:a=void 0}={}){const[p,m,s]=n,_=i?m:this.height-m,b=a&&a*this.distanceScales.unitsPerMeter[2],C=LT([p,_,s],this.pixelUnprojectionMatrix,b),[M,O,R]=this.unprojectPosition(C);return Number.isFinite(s)?[M,O,R]:Number.isFinite(a)?[M,O,a]:[M,O]}projectPosition(n){const[i,a]=Ep(n),p=(n[2]||0)*this.distanceScales.unitsPerMeter[2];return[i,a,p]}unprojectPosition(n){const[i,a]=zu(n),p=(n[2]||0)*this.distanceScales.metersPerUnit[2];return[i,a,p]}projectFlat(n){return Ep(n)}unprojectFlat(n){return zu(n)}getMapCenterByLngLatPosition({lngLat:n,pos:i}){const a=LT(i,this.pixelUnprojectionMatrix),p=Ep(n),m=hx([],p,aF([],a)),s=hx([],this.center,m);return zu(s)}getLocationAtPoint({lngLat:n,pos:i}){return this.getMapCenterByLngLatPosition({lngLat:n,pos:i})}fitBounds(n,i={}){const{width:a,height:p}=this,{longitude:m,latitude:s,zoom:_}=_F(Object.assign({width:a,height:p,bounds:n},i));return new No({width:a,height:p,longitude:m,latitude:s,zoom:_})}getBounds(n){const i=this.getBoundingRegion(n),a=Math.min(...i.map(_=>_[0])),p=Math.max(...i.map(_=>_[0])),m=Math.min(...i.map(_=>_[1])),s=Math.max(...i.map(_=>_[1]));return[[a,m],[p,s]]}getBoundingRegion(n={}){return xF(this,n.z||0)}}const FT=512;function bF({width:e,height:n,longitude:i,latitude:a,zoom:p,pitch:m=0,bearing:s=0}){(i<-180||i>180)&&(i=CT(i+180,360)-180),(s<-180||s>180)&&(s=CT(s+180,360)-180);const _=ux(n/FT);if(p<=_)p=_,a=0;else{const b=n/2/Math.pow(2,p),C=zu([0,b])[1];if(a<C)a=C;else{const M=zu([0,FT-b])[1];a>M&&(a=M)}}return{width:e,height:n,longitude:i,latitude:a,zoom:p,pitch:m,bearing:s}}const BT=.01,wF=["longitude","latitude","zoom"],NT={curve:1.414,speed:1.2};function EF(e,n,i,a={}){const p={},{startZoom:m,startCenterXY:s,uDelta:_,w0:b,u1:C,S:M,rho:O,rho2:R,r0:Y}=UT(e,n,a);if(C<BT){for(const ye of wF){const me=e[ye],xe=n[ye];p[ye]=K4(me,xe,i)}return p}const ee=i*M,J=Math.cosh(Y)/Math.cosh(Y+O*ee),q=b*((Math.cosh(Y)*Math.tanh(Y+O*ee)-Math.sinh(Y))/R)/C,B=1/J,$=m+fF(B),Q=iF([],_,q);hx(Q,Q,s);const H=zu(Q);return p.longitude=H[0],p.latitude=H[1],p.zoom=$,p}function SF(e,n,i={}){i=Object.assign({},NT,i);const{screenSpeed:a,speed:p,maxDuration:m}=i,{S:s,rho:_}=UT(e,n,i),b=1e3*s;let C;return Number.isFinite(a)?C=b/(a/_):C=b/p,Number.isFinite(m)&&C>m?0:C}function UT(e,n,i){i=Object.assign({},NT,i);const a=i.curve,p=e.zoom,m=[e.longitude,e.latitude],s=dx(p),_=n.zoom,b=[n.longitude,n.latitude],C=dx(_-p),M=Ep(m),O=Ep(b),R=sF([],O,M),Y=Math.max(e.width,e.height),ee=Y/C,J=oF(R)*s,q=Math.max(J,BT),B=a*a,$=(ee*ee-Y*Y+B*B*q*q)/(2*Y*B*q),Q=(ee*ee-Y*Y-B*B*q*q)/(2*ee*B*q),H=Math.log(Math.sqrt($*$+1)-$),ye=Math.log(Math.sqrt(Q*Q+1)-Q),me=(ye-H)/a;return{startZoom:p,startCenterXY:M,uDelta:R,w0:Y,u1:J,S:me,rho:a,rho2:B,r0:H,r1:ye}}var TF=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},CF=function(){function e(n,i){for(var a=0;a<i.length;a++){var p=i[a];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}return function(n,i,a){return i&&e(n.prototype,i),a&&e(n,a),n}}(),PF=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},IF=function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},VT=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e},kF=function(){function e(n,i){var a=[],p=!0,m=!1,s=void 0;try{for(var _=n[Symbol.iterator](),b;!(p=(b=_.next()).done)&&(a.push(b.value),!(i&&a.length===i));p=!0);}catch(C){m=!0,s=C}finally{try{!p&&_.return&&_.return()}finally{if(m)throw s}}return a}return function(n,i){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ra=void 0;typeof window!="undefined"?ra=window:typeof self!="undefined"?ra=self:ra=global;var mx=null,yx=null,jT=20,gx=ra.clearTimeout,$T=ra.setTimeout,vx=ra.cancelAnimationFrame||ra.mozCancelAnimationFrame||ra.webkitCancelAnimationFrame,qT=ra.requestAnimationFrame||ra.mozRequestAnimationFrame||ra.webkitRequestAnimationFrame;vx==null||qT==null?(mx=gx,yx=function(n){return $T(n,jT)}):(mx=function(n){var i=kF(n,2),a=i[0],p=i[1];vx(a),gx(p)},yx=function(n){var i=qT(function(){gx(a),n()}),a=$T(function(){vx(i),n()},jT);return[i,a]});function MF(e){var n=void 0,i=void 0,a=void 0,p=void 0,m=void 0,s=void 0,_=void 0,b=typeof document!="undefined"&&document.attachEvent;if(!b){s=function(H){var ye=H.__resizeTriggers__,me=ye.firstElementChild,xe=ye.lastElementChild,Te=me.firstElementChild;xe.scrollLeft=xe.scrollWidth,xe.scrollTop=xe.scrollHeight,Te.style.width=me.offsetWidth+1+"px",Te.style.height=me.offsetHeight+1+"px",me.scrollLeft=me.scrollWidth,me.scrollTop=me.scrollHeight},m=function(H){return H.offsetWidth!==H.__resizeLast__.width||H.offsetHeight!==H.__resizeLast__.height},_=function(H){if(!(H.target.className&&typeof H.target.className.indexOf=="function"&&H.target.className.indexOf("contract-trigger")<0&&H.target.className.indexOf("expand-trigger")<0)){var ye=this;s(this),this.__resizeRAF__&&mx(this.__resizeRAF__),this.__resizeRAF__=yx(function(){m(ye)&&(ye.__resizeLast__.width=ye.offsetWidth,ye.__resizeLast__.height=ye.offsetHeight,ye.__resizeListeners__.forEach(function(Te){Te.call(ye,H)}))})}};var C=!1,M="";a="animationstart";var O="Webkit Moz O ms".split(" "),R="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),Y="";{var ee=document.createElement("fakeelement");if(ee.style.animationName!==void 0&&(C=!0),C===!1){for(var J=0;J<O.length;J++)if(ee.style[O[J]+"AnimationName"]!==void 0){Y=O[J],M="-"+Y.toLowerCase()+"-",a=R[J],C=!0;break}}}i="resizeanim",n="@"+M+"keyframes "+i+" { from { opacity: 0; } to { opacity: 0; } } ",p=M+"animation: 1ms "+i+"; "}var q=function(H){if(!H.getElementById("detectElementResize")){var ye=(n||"")+".resize-triggers { "+(p||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',me=H.head||H.getElementsByTagName("head")[0],xe=H.createElement("style");xe.id="detectElementResize",xe.type="text/css",e!=null&&xe.setAttribute("nonce",e),xe.styleSheet?xe.styleSheet.cssText=ye:xe.appendChild(H.createTextNode(ye)),me.appendChild(xe)}},B=function(H,ye){if(b)H.attachEvent("onresize",ye);else{if(!H.__resizeTriggers__){var me=H.ownerDocument,xe=ra.getComputedStyle(H);xe&&xe.position==="static"&&(H.style.position="relative"),q(me),H.__resizeLast__={},H.__resizeListeners__=[],(H.__resizeTriggers__=me.createElement("div")).className="resize-triggers";var Te=me.createElement("div");Te.className="expand-trigger",Te.appendChild(me.createElement("div"));var Se=me.createElement("div");Se.className="contract-trigger",H.__resizeTriggers__.appendChild(Te),H.__resizeTriggers__.appendChild(Se),H.appendChild(H.__resizeTriggers__),s(H),H.addEventListener("scroll",_,!0),a&&(H.__resizeTriggers__.__animationListener__=function(He){He.animationName===i&&s(H)},H.__resizeTriggers__.addEventListener(a,H.__resizeTriggers__.__animationListener__))}H.__resizeListeners__.push(ye)}},$=function(H,ye){if(b)H.detachEvent("onresize",ye);else if(H.__resizeListeners__.splice(H.__resizeListeners__.indexOf(ye),1),!H.__resizeListeners__.length){H.removeEventListener("scroll",_,!0),H.__resizeTriggers__.__animationListener__&&(H.__resizeTriggers__.removeEventListener(a,H.__resizeTriggers__.__animationListener__),H.__resizeTriggers__.__animationListener__=null);try{H.__resizeTriggers__=!H.removeChild(H.__resizeTriggers__)}catch{}}};return{addResizeListener:B,removeResizeListener:$}}var WT=function(e){IF(n,e);function n(){var i,a,p,m;TF(this,n);for(var s=arguments.length,_=Array(s),b=0;b<s;b++)_[b]=arguments[b];return m=(a=(p=VT(this,(i=n.__proto__||Object.getPrototypeOf(n)).call.apply(i,[this].concat(_))),p),p.state={height:p.props.defaultHeight||0,width:p.props.defaultWidth||0},p._onResize=function(){var C=p.props,M=C.disableHeight,O=C.disableWidth,R=C.onResize;if(p._parentNode){var Y=p._parentNode.offsetHeight||0,ee=p._parentNode.offsetWidth||0,J=window.getComputedStyle(p._parentNode)||{},q=parseInt(J.paddingLeft,10)||0,B=parseInt(J.paddingRight,10)||0,$=parseInt(J.paddingTop,10)||0,Q=parseInt(J.paddingBottom,10)||0,H=Y-$-Q,ye=ee-q-B;(!M&&p.state.height!==H||!O&&p.state.width!==ye)&&(p.setState({height:Y-$-Q,width:ee-q-B}),R({height:Y,width:ee}))}},p._setRef=function(C){p._autoSizer=C},a),VT(p,m)}return CF(n,[{key:"componentDidMount",value:function(){var a=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=MF(a),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var a=this.props,p=a.children,m=a.className,s=a.disableHeight,_=a.disableWidth,b=a.style,C=this.state,M=C.height,O=C.width,R={overflow:"visible"},Y={},ee=!1;return s||(M===0&&(ee=!0),R.height=0,Y.height=M),_||(O===0&&(ee=!0),R.width=0,Y.width=O),le.exports.createElement("div",{className:m,ref:this._setRef,style:PF({},R,b)},!ee&&p(Y))}}]),n}(le.exports.PureComponent);WT.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var ZT=typeof window!="undefined"?window:global,Rl=typeof document!="undefined"?document:{};function AF(){}function zF(e){e&&console.error(e.error)}var GT={container:De.object,gl:De.object,mapboxApiAccessToken:De.string,mapboxApiUrl:De.string,attributionControl:De.bool,preserveDrawingBuffer:De.bool,reuseMaps:De.bool,transformRequest:De.func,mapOptions:De.object,mapStyle:De.oneOfType([De.string,De.object]),visible:De.bool,asyncRender:De.bool,onLoad:De.func,onError:De.func,width:De.number,height:De.number,viewState:De.object,longitude:De.number,latitude:De.number,zoom:De.number,bearing:De.number,pitch:De.number,altitude:De.number},sg={container:Rl.body,mapboxApiAccessToken:RF(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:AF,onError:zF,width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function RF(){var e=null;if(typeof window!="undefined"&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);e=n&&n[1]}return!e&&typeof process!="undefined"&&(e=e||{}.MapboxAccessToken||{}.REACT_APP_MAPBOX_ACCESS_TOKEN),e||"no-token"}function HT(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"component";e.debug&&De.checkPropTypes(GT,e,"prop",n)}var Ru=function(){function e(n){var i=this;if(Jr(this,e),Oe(this,"mapboxgl",void 0),Oe(this,"props",sg),Oe(this,"_map",null),Oe(this,"width",0),Oe(this,"height",0),Oe(this,"_fireLoadEvent",function(){i.props.onLoad({type:"load",target:i._map})}),!n.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=n.mapboxgl,e.initialized||(e.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(n)}return jr(e,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(i){return this._update(this.props,i),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var i=this._map;i.style&&(i._frame&&(i._frame.cancel(),i._frame=null),i._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(i){this._map=e.savedMap;var a=this._map.getContainer(),p=i.container;for(p.classList.add("mapboxgl-map");a.childNodes.length>0;)p.appendChild(a.childNodes[0]);this._map._container=p,e.savedMap=null,i.mapStyle&&this._map.setStyle(i.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(i){if(i.reuseMaps&&e.savedMap)this._reuse(i);else{if(i.gl){var a=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=a,i.gl}}var p={container:i.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:i.mapStyle,interactive:!1,trackResize:!1,attributionControl:i.attributionControl,preserveDrawingBuffer:i.preserveDrawingBuffer};i.transformRequest&&(p.transformRequest=i.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},p,i.mapOptions)),this._map.once("load",i.onLoad),this._map.on("error",i.onError)}return this}},{key:"_destroy",value:function(){!this._map||(e.savedMap?this._map.remove():(e.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(i){var a=this;i=Object.assign({},sg,i),HT(i,"Mapbox"),this.mapboxgl.accessToken=i.mapboxApiAccessToken||sg.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=i.mapboxApiUrl,this._create(i);var p=i,m=p.container;Object.defineProperty(m,"offsetWidth",{get:function(){return a.width}}),Object.defineProperty(m,"clientWidth",{get:function(){return a.width}}),Object.defineProperty(m,"offsetHeight",{get:function(){return a.height}}),Object.defineProperty(m,"clientHeight",{get:function(){return a.height}});var s=this._map.getCanvas();s&&(s.style.outline="none"),this._updateMapViewport({},i),this._updateMapSize({},i),this.props=i}},{key:"_update",value:function(i,a){if(!!this._map){a=Object.assign({},this.props,a),HT(a,"Mapbox");var p=this._updateMapViewport(i,a),m=this._updateMapSize(i,a);!a.asyncRender&&(p||m)&&this.redraw(),this.props=a}}},{key:"_updateMapSize",value:function(i,a){var p=i.width!==a.width||i.height!==a.height;return p&&(this.width=a.width,this.height=a.height,this.resize()),p}},{key:"_updateMapViewport",value:function(i,a){var p=this._getViewState(i),m=this._getViewState(a),s=m.latitude!==p.latitude||m.longitude!==p.longitude||m.zoom!==p.zoom||m.pitch!==p.pitch||m.bearing!==p.bearing||m.altitude!==p.altitude;return s&&(this._map.jumpTo(this._viewStateToMapboxProps(m)),m.altitude!==p.altitude&&(this._map.transform.altitude=m.altitude)),s}},{key:"_getViewState",value:function(i){var a=i.viewState||i,p=a.longitude,m=a.latitude,s=a.zoom,_=a.pitch,b=_===void 0?0:_,C=a.bearing,M=C===void 0?0:C,O=a.altitude,R=O===void 0?1.5:O;return{longitude:p,latitude:m,zoom:s,pitch:b,bearing:M,altitude:R}}},{key:"_checkStyleSheet",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"0.47.0";if(typeof Rl!="undefined")try{var a=Rl.createElement("div");a.className="mapboxgl-map",a.style.display="none",Rl.body.append(a);var p=window.getComputedStyle(a).position!=="static";if(!p){var m=Rl.createElement("link");m.setAttribute("rel","stylesheet"),m.setAttribute("type","text/css"),m.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(i,"/mapbox-gl.css")),Rl.head.append(m)}}catch{}}},{key:"_viewStateToMapboxProps",value:function(i){return{center:[i.longitude,i.latitude],zoom:i.zoom,bearing:i.bearing,pitch:i.pitch}}}]),e}();Oe(Ru,"initialized",!1);Oe(Ru,"propTypes",GT);Oe(Ru,"defaultProps",sg);Oe(Ru,"savedMap",null);var XT={exports:{}};(function(e,n){(function(i,a){e.exports=a()})(CI,function(){var i,a,p;function m(s,_){if(!i)i=_;else if(!a)a=_;else{var b="var sharedChunk = {}; ("+i+")(sharedChunk); ("+a+")(sharedChunk);",C={};i(C),p=_(C),typeof window!="undefined"&&(p.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}}return m(["exports"],function(s){function _(t,r){return t(r={exports:{}},r.exports),r.exports}var b=C;function C(t,r,o,h){this.cx=3*t,this.bx=3*(o-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(h-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=h,this.p2x=o,this.p2y=h}C.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},C.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},C.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},C.prototype.solveCurveX=function(t,r){var o,h,d,y,v;for(r===void 0&&(r=1e-6),d=t,v=0;v<8;v++){if(y=this.sampleCurveX(d)-t,Math.abs(y)<r)return d;var E=this.sampleCurveDerivativeX(d);if(Math.abs(E)<1e-6)break;d-=y/E}if((d=t)<(o=0))return o;if(d>(h=1))return h;for(;o<h;){if(y=this.sampleCurveX(d),Math.abs(y-t)<r)return d;t>y?o=d:h=d,d=.5*(h-o)+o}return d},C.prototype.solve=function(t,r){return this.sampleCurveY(this.solveCurveX(t,r))};var M=O;function O(t,r){this.x=t,this.y=r}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,o=t.y-this.y;return r*r+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var r=Math.cos(t),o=Math.sin(t),h=o*this.x+r*this.y;return this.x=r*this.x-o*this.y,this.y=h,this},_rotateAround:function(t,r){var o=Math.cos(t),h=Math.sin(t),d=r.y+h*(this.x-r.x)+o*(this.y-r.y);return this.x=r.x+o*(this.x-r.x)-h*(this.y-r.y),this.y=d,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},O.convert=function(t){return t instanceof O?t:Array.isArray(t)?new O(t[0],t[1]):t};var R=typeof self!="undefined"?self:{},Y=Math.pow(2,53)-1;function ee(t,r,o,h){var d=new b(t,r,o,h);return function(y){return d.solve(y)}}var J=ee(.25,.1,.25,1);function q(t,r,o){return Math.min(o,Math.max(r,t))}function B(t,r,o){var h=o-r,d=((t-r)%h+h)%h+r;return d===r?o:d}function $(t){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];for(var h=0,d=r;h<d.length;h+=1){var y=d[h];for(var v in y)t[v]=y[v]}return t}var Q=1;function H(){return Q++}function ye(){return function t(r){return r?(r^16*Math.random()>>r/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function me(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function xe(t,r){t.forEach(function(o){r[o]&&(r[o]=r[o].bind(r))})}function Te(t,r){return t.indexOf(r,t.length-r.length)!==-1}function Se(t,r,o){var h={};for(var d in t)h[d]=r.call(o||this,t[d],d,t);return h}function Ne(t,r,o){var h={};for(var d in t)r.call(o||this,t[d],d,t)&&(h[d]=t[d]);return h}function He(t){return Array.isArray(t)?t.map(He):typeof t=="object"&&t?Se(t,He):t}var yt={};function Qe(t){yt[t]||(typeof console!="undefined"&&console.warn(t),yt[t]=!0)}function Ke(t,r,o){return(o.y-t.y)*(r.x-t.x)>(r.y-t.y)*(o.x-t.x)}function ft(t){for(var r=0,o=0,h=t.length,d=h-1,y=void 0,v=void 0;o<h;d=o++)r+=((v=t[d]).x-(y=t[o]).x)*(y.y+v.y);return r}function st(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function gt(t){var r={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(h,d,y,v){var E=y||v;return r[d]=!E||E.toLowerCase(),""}),r["max-age"]){var o=parseInt(r["max-age"],10);isNaN(o)?delete r["max-age"]:r["max-age"]=o}return r}var Ft=null;function Gt(t){if(Ft==null){var r=t.navigator?t.navigator.userAgent:null;Ft=!!t.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return Ft}function vn(t){try{var r=R[t];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch{return!1}}var $e,rt,It,$t,cn=R.performance&&R.performance.now?R.performance.now.bind(R.performance):Date.now.bind(Date),sr=R.requestAnimationFrame||R.mozRequestAnimationFrame||R.webkitRequestAnimationFrame||R.msRequestAnimationFrame,jt=R.cancelAnimationFrame||R.mozCancelAnimationFrame||R.webkitCancelAnimationFrame||R.msCancelAnimationFrame,Yt={now:cn,frame:function(t){var r=sr(t);return{cancel:function(){return jt(r)}}},getImageData:function(t,r){r===void 0&&(r=0);var o=R.document.createElement("canvas"),h=o.getContext("2d");if(!h)throw new Error("failed to create canvas 2d context");return o.width=t.width,o.height=t.height,h.drawImage(t,0,0,t.width,t.height),h.getImageData(-r,-r,t.width+2*r,t.height+2*r)},resolveURL:function(t){return $e||($e=R.document.createElement("a")),$e.href=t,$e.href},hardwareConcurrency:R.navigator&&R.navigator.hardwareConcurrency||4,get devicePixelRatio(){return R.devicePixelRatio},get prefersReducedMotion(){return!!R.matchMedia&&(rt==null&&(rt=R.matchMedia("(prefers-reduced-motion: reduce)")),rt.matches)}},St={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Ht={supported:!1,testSupport:function(t){!zn&&$t&&(Gn?Nt(t):It=t)}},zn=!1,Gn=!1;function Nt(t){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,$t),t.isContextLost())return;Ht.supported=!0}catch{}t.deleteTexture(r),zn=!0}R.document&&(($t=R.document.createElement("img")).onload=function(){It&&Nt(It),It=null,Gn=!0},$t.onerror=function(){zn=!0,It=null},$t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Bn="01",Tn=function(t,r){this._transformRequestFn=t,this._customAccessToken=r,this._createSkuToken()};function Cn(t){return t.indexOf("mapbox:")===0}Tn.prototype._createSkuToken=function(){var t=function(){for(var r="",o=0;o<10;o++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Bn,r].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},Tn.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Tn.prototype.transformRequest=function(t,r){return this._transformRequestFn&&this._transformRequestFn(t,r)||{url:t}},Tn.prototype.normalizeStyleURL=function(t,r){if(!Cn(t))return t;var o=_n(t);return o.path="/styles/v1"+o.path,this._makeAPIURL(o,this._customAccessToken||r)},Tn.prototype.normalizeGlyphsURL=function(t,r){if(!Cn(t))return t;var o=_n(t);return o.path="/fonts/v1"+o.path,this._makeAPIURL(o,this._customAccessToken||r)},Tn.prototype.normalizeSourceURL=function(t,r){if(!Cn(t))return t;var o=_n(t);return o.path="/v4/"+o.authority+".json",o.params.push("secure"),this._makeAPIURL(o,this._customAccessToken||r)},Tn.prototype.normalizeSpriteURL=function(t,r,o,h){var d=_n(t);return Cn(t)?(d.path="/styles/v1"+d.path+"/sprite"+r+o,this._makeAPIURL(d,this._customAccessToken||h)):(d.path+=""+r+o,tr(d))},Tn.prototype.normalizeTileURL=function(t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!Cn(t))return t;var o=_n(t);o.path=o.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Yt.devicePixelRatio>=2||r===512?"@2x":"")+(Ht.supported?".webp":"$1")),o.path=o.path.replace(/^.+\/v4\//,"/"),o.path="/v4"+o.path;var h=this._customAccessToken||function(d){for(var y=0,v=d;y<v.length;y+=1){var E=v[y].match(/^access_token=(.*)$/);if(E)return E[1]}return null}(o.params)||St.ACCESS_TOKEN;return St.REQUIRE_ACCESS_TOKEN&&h&&this._skuToken&&o.params.push("sku="+this._skuToken),this._makeAPIURL(o,h)},Tn.prototype.canonicalizeTileURL=function(t,r){var o=_n(t);if(!o.path.match(/(^\/v4\/)/)||!o.path.match(/\.[\w]+$/))return t;var h="mapbox://tiles/";h+=o.path.replace("/v4/","");var d=o.params;return r&&(d=d.filter(function(y){return!y.match(/^access_token=/)})),d.length&&(h+="?"+d.join("&")),h},Tn.prototype.canonicalizeTileset=function(t,r){for(var o=!!r&&Cn(r),h=[],d=0,y=t.tiles||[];d<y.length;d+=1){var v=y[d];Or(v)?h.push(this.canonicalizeTileURL(v,o)):h.push(v)}return h},Tn.prototype._makeAPIURL=function(t,r){var o="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",h=_n(St.API_URL);if(t.protocol=h.protocol,t.authority=h.authority,t.protocol==="http"){var d=t.params.indexOf("secure");d>=0&&t.params.splice(d,1)}if(h.path!=="/"&&(t.path=""+h.path+t.path),!St.REQUIRE_ACCESS_TOKEN)return tr(t);if(!(r=r||St.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+o);if(r[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+o);return t.params=t.params.filter(function(y){return y.indexOf("access_token")===-1}),t.params.push("access_token="+r),tr(t)};var bn=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Or(t){return bn.test(t)}var Tr=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function _n(t){var r=t.match(Tr);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function tr(t){var r=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+r}function si(t){if(!t)return null;var r=t.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(decodeURIComponent(R.atob(r[1]).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var yr=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};yr.prototype.getStorageKey=function(t){var r,o=si(St.ACCESS_TOKEN);return r=o&&o.u?R.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,function(h,d){return String.fromCharCode(Number("0x"+d))})):St.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+r:"mapbox.eventData:"+r},yr.prototype.fetchEventData=function(){var t=vn("localStorage"),r=this.getStorageKey(),o=this.getStorageKey("uuid");if(t)try{var h=R.localStorage.getItem(r);h&&(this.eventData=JSON.parse(h));var d=R.localStorage.getItem(o);d&&(this.anonId=d)}catch{Qe("Unable to read from LocalStorage")}},yr.prototype.saveEventData=function(){var t=vn("localStorage"),r=this.getStorageKey(),o=this.getStorageKey("uuid");if(t)try{R.localStorage.setItem(o,this.anonId),Object.keys(this.eventData).length>=1&&R.localStorage.setItem(r,JSON.stringify(this.eventData))}catch{Qe("Unable to write to LocalStorage")}},yr.prototype.processRequests=function(t){},yr.prototype.postEvent=function(t,r,o,h){var d=this;if(St.EVENTS_URL){var y=_n(St.EVENTS_URL);y.params.push("access_token="+(h||St.ACCESS_TOKEN||""));var v={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:Bn,userId:this.anonId},E=r?$(v,r):v,T={url:tr(y),headers:{"Content-Type":"text/plain"},body:JSON.stringify([E])};this.pendingRequest=rr(T,function(P){d.pendingRequest=null,o(P),d.saveEventData(),d.processRequests(h)})}},yr.prototype.queueRequest=function(t,r){this.queue.push(t),this.processRequests(r)};var Cr,$r,gr=function(t){function r(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.postMapLoadEvent=function(o,h,d,y){this.skuToken=d,(St.EVENTS_URL&&y||St.ACCESS_TOKEN&&Array.isArray(o)&&o.some(function(v){return Cn(v)||Or(v)}))&&this.queueRequest({id:h,timestamp:Date.now()},y)},r.prototype.processRequests=function(o){var h=this;if(!this.pendingRequest&&this.queue.length!==0){var d=this.queue.shift(),y=d.id,v=d.timestamp;y&&this.success[y]||(this.anonId||this.fetchEventData(),me(this.anonId)||(this.anonId=ye()),this.postEvent(v,{skuToken:this.skuToken},function(E){E||y&&(h.success[y]=!0)},o))}},r}(yr),dt=new(function(t){function r(o){t.call(this,"appUserTurnstile"),this._customAccessToken=o}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.postTurnstileEvent=function(o,h){St.EVENTS_URL&&St.ACCESS_TOKEN&&Array.isArray(o)&&o.some(function(d){return Cn(d)||Or(d)})&&this.queueRequest(Date.now(),h)},r.prototype.processRequests=function(o){var h=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var d=si(St.ACCESS_TOKEN),y=d?d.u:St.ACCESS_TOKEN,v=y!==this.eventData.tokenU;me(this.anonId)||(this.anonId=ye(),v=!0);var E=this.queue.shift();if(this.eventData.lastSuccess){var T=new Date(this.eventData.lastSuccess),P=new Date(E),k=(E-this.eventData.lastSuccess)/864e5;v=v||k>=1||k<-1||T.getDate()!==P.getDate()}else v=!0;if(!v)return this.processRequests();this.postEvent(E,{"enabled.telemetry":!1},function(A){A||(h.eventData.lastSuccess=E,h.eventData.tokenU=y)},o)}},r}(yr)),xt=dt.postTurnstileEvent.bind(dt),In=new gr,Qr=In.postMapLoadEvent.bind(In),di=500,ia=50;function Ea(){R.caches&&!Cr&&(Cr=R.caches.open("mapbox-tiles"))}function os(t){var r=t.indexOf("?");return r<0?t:t.slice(0,r)}var oa,as=1/0;function ss(){return oa==null&&(oa=R.OffscreenCanvas&&new R.OffscreenCanvas(1,1).getContext("2d")&&typeof R.createImageBitmap=="function"),oa}var aa={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(aa);var $s=function(t){function r(o,h,d){h===401&&Or(d)&&(o+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,o),this.status=h,this.url=d,this.name=this.constructor.name,this.message=o}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},r}(Error),sa=st()?function(){return self.worker&&self.worker.referrer}:function(){return(R.location.protocol==="blob:"?R.parent:R).location.href},co,po,Vo=function(t,r){if(!(/^file:/.test(o=t.url)||/^file:/.test(sa())&&!/^\w+:/.test(o))){if(R.fetch&&R.Request&&R.AbortController&&R.Request.prototype.hasOwnProperty("signal"))return function(h,d){var y,v=new R.AbortController,E=new R.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:sa(),signal:v.signal}),T=!1,P=!1,k=(y=E.url).indexOf("sku=")>0&&Or(y);h.type==="json"&&E.headers.set("Accept","application/json");var A=function(U,ne,re){if(!P){if(U&&U.message!=="SecurityError"&&Qe(U),ne&&re)return F(ne);var he=Date.now();R.fetch(E).then(function(ue){if(ue.ok){var _e=k?ue.clone():null;return F(ue,_e,he)}return d(new $s(ue.statusText,ue.status,h.url))}).catch(function(ue){ue.code!==20&&d(new Error(ue.message))})}},F=function(U,ne,re){(h.type==="arrayBuffer"?U.arrayBuffer():h.type==="json"?U.json():U.text()).then(function(he){P||(ne&&re&&function(ue,_e,Ee){if(Ea(),Cr){var Ie={status:_e.status,statusText:_e.statusText,headers:new R.Headers};_e.headers.forEach(function(Fe,qe){return Ie.headers.set(qe,Fe)});var Me=gt(_e.headers.get("Cache-Control")||"");Me["no-store"]||(Me["max-age"]&&Ie.headers.set("Expires",new Date(Ee+1e3*Me["max-age"]).toUTCString()),new Date(Ie.headers.get("Expires")).getTime()-Ee<42e4||function(Fe,qe){if($r===void 0)try{new Response(new ReadableStream),$r=!0}catch{$r=!1}$r?qe(Fe.body):Fe.blob().then(qe)}(_e,function(Fe){var qe=new R.Response(Fe,Ie);Ea(),Cr&&Cr.then(function(Je){return Je.put(os(ue.url),qe)}).catch(function(Je){return Qe(Je.message)})}))}}(E,ne,re),T=!0,d(null,he,U.headers.get("Cache-Control"),U.headers.get("Expires")))}).catch(function(he){P||d(new Error(he.message))})};return k?function(U,ne){if(Ea(),!Cr)return ne(null);var re=os(U.url);Cr.then(function(he){he.match(re).then(function(ue){var _e=function(Ee){if(!Ee)return!1;var Ie=new Date(Ee.headers.get("Expires")||0),Me=gt(Ee.headers.get("Cache-Control")||"");return Ie>Date.now()&&!Me["no-cache"]}(ue);he.delete(re),_e&&he.put(re,ue.clone()),ne(null,ue,_e)}).catch(ne)}).catch(ne)}(E,A):A(null,null),{cancel:function(){P=!0,T||v.abort()}}}(t,r);if(st()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,r,void 0,!0)}var o;return function(h,d){var y=new R.XMLHttpRequest;for(var v in y.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(y.responseType="arraybuffer"),h.headers)y.setRequestHeader(v,h.headers[v]);return h.type==="json"&&(y.responseType="text",y.setRequestHeader("Accept","application/json")),y.withCredentials=h.credentials==="include",y.onerror=function(){d(new Error(y.statusText))},y.onload=function(){if((y.status>=200&&y.status<300||y.status===0)&&y.response!==null){var E=y.response;if(h.type==="json")try{E=JSON.parse(y.response)}catch(T){return d(T)}d(null,E,y.getResponseHeader("Cache-Control"),y.getResponseHeader("Expires"))}else d(new $s(y.statusText,y.status,h.url))},y.send(h.body),{cancel:function(){return y.abort()}}}(t,r)},ls=function(t,r){return Vo($(t,{type:"arrayBuffer"}),r)},rr=function(t,r){return Vo($(t,{method:"POST"}),r)},z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";co=[],po=0;var D=function(t,r){if(Ht.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),po>=St.MAX_PARALLEL_IMAGE_REQUESTS){var o={requestParameters:t,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return co.push(o),o}po++;var h=!1,d=function(){if(!h)for(h=!0,po--;co.length&&po<St.MAX_PARALLEL_IMAGE_REQUESTS;){var v=co.shift();v.cancelled||(v.cancel=D(v.requestParameters,v.callback).cancel)}},y=ls(t,function(v,E,T,P){d(),v?r(v):E&&(ss()?function(k,A){var F=new R.Blob([new Uint8Array(k)],{type:"image/png"});R.createImageBitmap(F).then(function(U){A(null,U)}).catch(function(U){A(new Error("Could not load image because of "+U.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(E,r):function(k,A,F,U){var ne=new R.Image,re=R.URL;ne.onload=function(){A(null,ne),re.revokeObjectURL(ne.src),ne.onload=null,R.requestAnimationFrame(function(){ne.src=z})},ne.onerror=function(){return A(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var he=new R.Blob([new Uint8Array(k)],{type:"image/png"});ne.cacheControl=F,ne.expires=U,ne.src=k.byteLength?re.createObjectURL(he):z}(E,r,T,P))});return{cancel:function(){y.cancel(),d()}}};function N(t,r,o){o[t]&&o[t].indexOf(r)!==-1||(o[t]=o[t]||[],o[t].push(r))}function X(t,r,o){if(o&&o[t]){var h=o[t].indexOf(r);h!==-1&&o[t].splice(h,1)}}var oe=function(t,r){r===void 0&&(r={}),$(this,r),this.type=t},de=function(t){function r(o,h){h===void 0&&(h={}),t.call(this,"error",$({error:o},h))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(oe),ve=function(){};ve.prototype.on=function(t,r){return this._listeners=this._listeners||{},N(t,r,this._listeners),this},ve.prototype.off=function(t,r){return X(t,r,this._listeners),X(t,r,this._oneTimeListeners),this},ve.prototype.once=function(t,r){return this._oneTimeListeners=this._oneTimeListeners||{},N(t,r,this._oneTimeListeners),this},ve.prototype.fire=function(t,r){typeof t=="string"&&(t=new oe(t,r||{}));var o=t.type;if(this.listens(o)){t.target=this;for(var h=0,d=this._listeners&&this._listeners[o]?this._listeners[o].slice():[];h<d.length;h+=1)d[h].call(this,t);for(var y=0,v=this._oneTimeListeners&&this._oneTimeListeners[o]?this._oneTimeListeners[o].slice():[];y<v.length;y+=1){var E=v[y];X(o,E,this._oneTimeListeners),E.call(this,t)}var T=this._eventedParent;T&&($(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(t))}else t instanceof de&&console.error(t.error);return this},ve.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},ve.prototype.setEventedParent=function(t,r){return this._eventedParent=t,this._eventedParentData=r,this};var Z={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},se=function(t,r,o,h){this.message=(t?t+": ":"")+o,h&&(this.identifier=h),r!=null&&r.__line__&&(this.line=r.__line__)};function be(t){var r=t.value;return r?[new se(t.key,r,"constants have been deprecated as of v8")]:[]}function Ue(t){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];for(var h=0,d=r;h<d.length;h+=1){var y=d[h];for(var v in y)t[v]=y[v]}return t}function je(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function ze(t){if(Array.isArray(t))return t.map(ze);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var r={};for(var o in t)r[o]=ze(t[o]);return r}return je(t)}var Ve=function(t){function r(o,h){t.call(this,h),this.message=h,this.key=o}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(Error),mt=function(t,r){r===void 0&&(r=[]),this.parent=t,this.bindings={};for(var o=0,h=r;o<h.length;o+=1){var d=h[o];this.bindings[d[0]]=d[1]}};mt.prototype.concat=function(t){return new mt(this,t)},mt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},mt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var ct={kind:"null"},Le={kind:"number"},nt={kind:"string"},Xe={kind:"boolean"},Ye={kind:"color"},qt={kind:"object"},tt={kind:"value"},nn={kind:"collator"},kn={kind:"formatted"},en={kind:"resolvedImage"};function pn(t,r){return{kind:"array",itemType:t,N:r}}function Wt(t){if(t.kind==="array"){var r=Wt(t.itemType);return typeof t.N=="number"?"array<"+r+", "+t.N+">":t.itemType.kind==="value"?"array":"array<"+r+">"}return t.kind}var vr=[ct,Le,nt,Xe,Ye,kn,qt,pn(tt),en];function ln(t,r){if(r.kind==="error")return null;if(t.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!ln(t.itemType,r.itemType))&&(typeof t.N!="number"||t.N===r.N))return null}else{if(t.kind===r.kind)return null;if(t.kind==="value"){for(var o=0,h=vr;o<h.length;o+=1)if(!ln(h[o],r))return null}}return"Expected "+Wt(t)+" but found "+Wt(r)+" instead."}function Mn(t,r){return r.some(function(o){return o.kind===t.kind})}function xn(t,r){return r.some(function(o){return o==="null"?t===null:o==="array"?Array.isArray(t):o==="object"?t&&!Array.isArray(t)&&typeof t=="object":o===typeof t})}var Zt=_(function(t,r){var o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function h(E){return(E=Math.round(E))<0?0:E>255?255:E}function d(E){return h(E[E.length-1]==="%"?parseFloat(E)/100*255:parseInt(E))}function y(E){return(T=E[E.length-1]==="%"?parseFloat(E)/100:parseFloat(E))<0?0:T>1?1:T;var T}function v(E,T,P){return P<0?P+=1:P>1&&(P-=1),6*P<1?E+(T-E)*P*6:2*P<1?T:3*P<2?E+(T-E)*(2/3-P)*6:E}try{r.parseCSSColor=function(E){var T,P=E.replace(/ /g,"").toLowerCase();if(P in o)return o[P].slice();if(P[0]==="#")return P.length===4?(T=parseInt(P.substr(1),16))>=0&&T<=4095?[(3840&T)>>4|(3840&T)>>8,240&T|(240&T)>>4,15&T|(15&T)<<4,1]:null:P.length===7&&(T=parseInt(P.substr(1),16))>=0&&T<=16777215?[(16711680&T)>>16,(65280&T)>>8,255&T,1]:null;var k=P.indexOf("("),A=P.indexOf(")");if(k!==-1&&A+1===P.length){var F=P.substr(0,k),U=P.substr(k+1,A-(k+1)).split(","),ne=1;switch(F){case"rgba":if(U.length!==4)return null;ne=y(U.pop());case"rgb":return U.length!==3?null:[d(U[0]),d(U[1]),d(U[2]),ne];case"hsla":if(U.length!==4)return null;ne=y(U.pop());case"hsl":if(U.length!==3)return null;var re=(parseFloat(U[0])%360+360)%360/360,he=y(U[1]),ue=y(U[2]),_e=ue<=.5?ue*(he+1):ue+he-ue*he,Ee=2*ue-_e;return[h(255*v(Ee,_e,re+1/3)),h(255*v(Ee,_e,re)),h(255*v(Ee,_e,re-1/3)),ne];default:return null}}return null}}catch{}}).parseCSSColor,tn=function(t,r,o,h){h===void 0&&(h=1),this.r=t,this.g=r,this.b=o,this.a=h};tn.parse=function(t){if(t){if(t instanceof tn)return t;if(typeof t=="string"){var r=Zt(t);if(r)return new tn(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3])}}},tn.prototype.toString=function(){var t=this.toArray(),r=t[1],o=t[2],h=t[3];return"rgba("+Math.round(t[0])+","+Math.round(r)+","+Math.round(o)+","+h+")"},tn.prototype.toArray=function(){var t=this.a;return t===0?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},tn.black=new tn(0,0,0,1),tn.white=new tn(1,1,1,1),tn.transparent=new tn(0,0,0,0),tn.red=new tn(1,0,0,1);var li=function(t,r,o){this.sensitivity=t?r?"variant":"case":r?"accent":"base",this.locale=o,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};li.prototype.compare=function(t,r){return this.collator.compare(t,r)},li.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Sa=function(t,r,o,h,d){this.text=t,this.image=r,this.scale=o,this.fontStack=h,this.textColor=d},lr=function(t){this.sections=t};lr.fromString=function(t){return new lr([new Sa(t,null,null,null,null)])},lr.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(t){return t.text.length!==0||t.image&&t.image.name.length!==0})},lr.factory=function(t){return t instanceof lr?t:lr.fromString(t)},lr.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(t){return t.text}).join("")},lr.prototype.serialize=function(){for(var t=["format"],r=0,o=this.sections;r<o.length;r+=1){var h=o[r];if(h.image)t.push(["image",h.image.name]);else{t.push(h.text);var d={};h.fontStack&&(d["text-font"]=["literal",h.fontStack.split(",")]),h.scale&&(d["font-scale"]=h.scale),h.textColor&&(d["text-color"]=["rgba"].concat(h.textColor.toArray())),t.push(d)}}return t};var Hn=function(t){this.name=t.name,this.available=t.available};function Ta(t,r,o,h){return typeof t=="number"&&t>=0&&t<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof o=="number"&&o>=0&&o<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:"Invalid rgba value ["+[t,r,o,h].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof h=="number"?[t,r,o,h]:[t,r,o]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function la(t){if(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||t instanceof tn||t instanceof li||t instanceof lr||t instanceof Hn)return!0;if(Array.isArray(t)){for(var r=0,o=t;r<o.length;r+=1)if(!la(o[r]))return!1;return!0}if(typeof t=="object"){for(var h in t)if(!la(t[h]))return!1;return!0}return!1}function Xn(t){if(t===null)return ct;if(typeof t=="string")return nt;if(typeof t=="boolean")return Xe;if(typeof t=="number")return Le;if(t instanceof tn)return Ye;if(t instanceof li)return nn;if(t instanceof lr)return kn;if(t instanceof Hn)return en;if(Array.isArray(t)){for(var r,o=t.length,h=0,d=t;h<d.length;h+=1){var y=Xn(d[h]);if(r){if(r===y)continue;r=tt;break}r=y}return pn(r||tt,o)}return qt}function ua(t){var r=typeof t;return t===null?"":r==="string"||r==="number"||r==="boolean"?String(t):t instanceof tn||t instanceof lr||t instanceof Hn?t.toString():JSON.stringify(t)}Hn.prototype.toString=function(){return this.name},Hn.fromString=function(t){return t?new Hn({name:t,available:!1}):null},Hn.prototype.serialize=function(){return["image",this.name]};var qr=function(t,r){this.type=t,this.value=r};qr.parse=function(t,r){if(t.length!==2)return r.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!la(t[1]))return r.error("invalid value");var o=t[1],h=Xn(o),d=r.expectedType;return h.kind!=="array"||h.N!==0||!d||d.kind!=="array"||typeof d.N=="number"&&d.N!==0||(h=d),new qr(h,o)},qr.prototype.evaluate=function(){return this.value},qr.prototype.eachChild=function(){},qr.prototype.outputDefined=function(){return!0},qr.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof tn?["rgba"].concat(this.value.toArray()):this.value instanceof lr?this.value.serialize():this.value};var ur=function(t){this.name="ExpressionEvaluationError",this.message=t};ur.prototype.toJSON=function(){return this.message};var Pr={string:nt,number:Le,boolean:Xe,object:qt},Nn=function(t,r){this.type=t,this.args=r};Nn.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var o,h=1,d=t[0];if(d==="array"){var y,v;if(t.length>2){var E=t[1];if(typeof E!="string"||!(E in Pr)||E==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);y=Pr[E],h++}else y=tt;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return r.error('The length argument to "array" must be a positive integer literal',2);v=t[2],h++}o=pn(y,v)}else o=Pr[d];for(var T=[];h<t.length;h++){var P=r.parse(t[h],h,tt);if(!P)return null;T.push(P)}return new Nn(o,T)},Nn.prototype.evaluate=function(t){for(var r=0;r<this.args.length;r++){var o=this.args[r].evaluate(t);if(!ln(this.type,Xn(o)))return o;if(r===this.args.length-1)throw new ur("Expected value to be of type "+Wt(this.type)+", but found "+Wt(Xn(o))+" instead.")}return null},Nn.prototype.eachChild=function(t){this.args.forEach(t)},Nn.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},Nn.prototype.serialize=function(){var t=this.type,r=[t.kind];if(t.kind==="array"){var o=t.itemType;if(o.kind==="string"||o.kind==="number"||o.kind==="boolean"){r.push(o.kind);var h=t.N;(typeof h=="number"||this.args.length>1)&&r.push(h)}}return r.concat(this.args.map(function(d){return d.serialize()}))};var Ui=function(t){this.type=kn,this.sections=t};Ui.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var o=t[1];if(!Array.isArray(o)&&typeof o=="object")return r.error("First argument must be an image or text section.");for(var h=[],d=!1,y=1;y<=t.length-1;++y){var v=t[y];if(d&&typeof v=="object"&&!Array.isArray(v)){d=!1;var E=null;if(v["font-scale"]&&!(E=r.parse(v["font-scale"],1,Le)))return null;var T=null;if(v["text-font"]&&!(T=r.parse(v["text-font"],1,pn(nt))))return null;var P=null;if(v["text-color"]&&!(P=r.parse(v["text-color"],1,Ye)))return null;var k=h[h.length-1];k.scale=E,k.font=T,k.textColor=P}else{var A=r.parse(t[y],1,tt);if(!A)return null;var F=A.type.kind;if(F!=="string"&&F!=="value"&&F!=="null"&&F!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");d=!0,h.push({content:A,scale:null,font:null,textColor:null})}}return new Ui(h)},Ui.prototype.evaluate=function(t){return new lr(this.sections.map(function(r){var o=r.content.evaluate(t);return Xn(o)===en?new Sa("",o,null,null,null):new Sa(ua(o),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)}))},Ui.prototype.eachChild=function(t){for(var r=0,o=this.sections;r<o.length;r+=1){var h=o[r];t(h.content),h.scale&&t(h.scale),h.font&&t(h.font),h.textColor&&t(h.textColor)}},Ui.prototype.outputDefined=function(){return!1},Ui.prototype.serialize=function(){for(var t=["format"],r=0,o=this.sections;r<o.length;r+=1){var h=o[r];t.push(h.content.serialize());var d={};h.scale&&(d["font-scale"]=h.scale.serialize()),h.font&&(d["text-font"]=h.font.serialize()),h.textColor&&(d["text-color"]=h.textColor.serialize()),t.push(d)}return t};var mi=function(t){this.type=en,this.input=t};mi.parse=function(t,r){if(t.length!==2)return r.error("Expected two arguments.");var o=r.parse(t[1],1,nt);return o?new mi(o):r.error("No image name provided.")},mi.prototype.evaluate=function(t){var r=this.input.evaluate(t),o=Hn.fromString(r);return o&&t.availableImages&&(o.available=t.availableImages.indexOf(r)>-1),o},mi.prototype.eachChild=function(t){t(this.input)},mi.prototype.outputDefined=function(){return!1},mi.prototype.serialize=function(){return["image",this.input.serialize()]};var Ol={"to-boolean":Xe,"to-color":Ye,"to-number":Le,"to-string":nt},Vi=function(t,r){this.type=t,this.args=r};Vi.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var o=t[0];if((o==="to-boolean"||o==="to-string")&&t.length!==2)return r.error("Expected one argument.");for(var h=Ol[o],d=[],y=1;y<t.length;y++){var v=r.parse(t[y],y,tt);if(!v)return null;d.push(v)}return new Vi(h,d)},Vi.prototype.evaluate=function(t){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(t));if(this.type.kind==="color"){for(var r,o,h=0,d=this.args;h<d.length;h+=1){if(o=null,(r=d[h].evaluate(t))instanceof tn)return r;if(typeof r=="string"){var y=t.parseColor(r);if(y)return y}else if(Array.isArray(r)&&!(o=r.length<3||r.length>4?"Invalid rbga value "+JSON.stringify(r)+": expected an array containing either three or four numeric values.":Ta(r[0],r[1],r[2],r[3])))return new tn(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new ur(o||"Could not parse color from value '"+(typeof r=="string"?r:String(JSON.stringify(r)))+"'")}if(this.type.kind==="number"){for(var v=null,E=0,T=this.args;E<T.length;E+=1){if((v=T[E].evaluate(t))===null)return 0;var P=Number(v);if(!isNaN(P))return P}throw new ur("Could not convert "+JSON.stringify(v)+" to number.")}return this.type.kind==="formatted"?lr.fromString(ua(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?Hn.fromString(ua(this.args[0].evaluate(t))):ua(this.args[0].evaluate(t))},Vi.prototype.eachChild=function(t){this.args.forEach(t)},Vi.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},Vi.prototype.serialize=function(){if(this.type.kind==="formatted")return new Ui([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new mi(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(r){t.push(r.serialize())}),t};var Ap=["Unknown","Point","LineString","Polygon"],V=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};V.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},V.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ap[this.feature.type]:this.feature.type:null},V.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},V.prototype.canonicalID=function(){return this.canonical},V.prototype.properties=function(){return this.feature&&this.feature.properties||{}},V.prototype.parseColor=function(t){var r=this._parseColorCache[t];return r||(r=this._parseColorCache[t]=tn.parse(t)),r};var K=function(t,r,o,h){this.name=t,this.type=r,this._evaluate=o,this.args=h};K.prototype.evaluate=function(t){return this._evaluate(t,this.args)},K.prototype.eachChild=function(t){this.args.forEach(t)},K.prototype.outputDefined=function(){return!1},K.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},K.parse=function(t,r){var o,h=t[0],d=K.definitions[h];if(!d)return r.error('Unknown expression "'+h+'". If you wanted a literal array, use ["literal", [...]].',0);for(var y=Array.isArray(d)?d[0]:d.type,v=Array.isArray(d)?[[d[1],d[2]]]:d.overloads,E=v.filter(function(Pt){var ot=Pt[0];return!Array.isArray(ot)||ot.length===t.length-1}),T=null,P=0,k=E;P<k.length;P+=1){var A=k[P],F=A[0],U=A[1];T=new ka(r.registry,r.path,null,r.scope);for(var ne=[],re=!1,he=1;he<t.length;he++){var ue=t[he],_e=Array.isArray(F)?F[he-1]:F.type,Ee=T.parse(ue,1+ne.length,_e);if(!Ee){re=!0;break}ne.push(Ee)}if(!re)if(Array.isArray(F)&&F.length!==ne.length)T.error("Expected "+F.length+" arguments, but found "+ne.length+" instead.");else{for(var Ie=0;Ie<ne.length;Ie++){var Me=Array.isArray(F)?F[Ie]:F.type,Fe=ne[Ie];T.concat(Ie+1).checkSubtype(Me,Fe.type)}if(T.errors.length===0)return new K(h,y,U,ne)}}if(E.length===1)(o=r.errors).push.apply(o,T.errors);else{for(var qe=(E.length?E:v).map(function(Pt){var ot;return ot=Pt[0],Array.isArray(ot)?"("+ot.map(Wt).join(", ")+")":"("+Wt(ot.type)+"...)"}).join(" | "),Je=[],bt=1;bt<t.length;bt++){var it=r.parse(t[bt],1+Je.length);if(!it)return null;Je.push(Wt(it.type))}r.error("Expected arguments of type "+qe+", but found ("+Je.join(", ")+") instead.")}return null},K.register=function(t,r){for(var o in K.definitions=r,r)t[o]=K};var fe=function(t,r,o){this.type=nn,this.locale=o,this.caseSensitive=t,this.diacriticSensitive=r};function Ce(t,r){t[0]=Math.min(t[0],r[0]),t[1]=Math.min(t[1],r[1]),t[2]=Math.max(t[2],r[0]),t[3]=Math.max(t[3],r[1])}function We(t,r){return!(t[0]<=r[0]||t[2]>=r[2]||t[1]<=r[1]||t[3]>=r[3])}function wt(t,r){var o=(180+t[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,d=Math.pow(2,r.z);return[Math.round(o*d*8192),Math.round(h*d*8192)]}function mn(t,r,o){return r[1]>t[1]!=o[1]>t[1]&&t[0]<(o[0]-r[0])*(t[1]-r[1])/(o[1]-r[1])+r[0]}function Ir(t,r){for(var o,h,d,y,v,E,T,P=!1,k=0,A=r.length;k<A;k++)for(var F=r[k],U=0,ne=F.length;U<ne-1;U++){if((y=(o=t)[0]-(h=F[U])[0])*(T=o[1]-(d=F[U+1])[1])-(E=o[0]-d[0])*(v=o[1]-h[1])==0&&y*E<=0&&v*T<=0)return!1;mn(t,F[U],F[U+1])&&(P=!P)}return P}function ei(t,r){for(var o=0;o<r.length;o++)if(Ir(t,r[o]))return!0;return!1}function ui(t,r,o,h){var d=h[0]-o[0],y=h[1]-o[1],v=(t[0]-o[0])*y-d*(t[1]-o[1]),E=(r[0]-o[0])*y-d*(r[1]-o[1]);return v>0&&E<0||v<0&&E>0}function ho(t,r,o){for(var h=0,d=o;h<d.length;h+=1)for(var y=d[h],v=0;v<y.length-1;++v)if((A=[(k=y[v+1])[0]-(P=y[v])[0],k[1]-P[1]])[0]*(F=[(T=r)[0]-(E=t)[0],T[1]-E[1]])[1]-A[1]*F[0]!=0&&ui(E,T,P,k)&&ui(P,k,E,T))return!0;var E,T,P,k,A,F;return!1}function ad(t,r){for(var o=0;o<t.length;++o)if(!Ir(t[o],r))return!1;for(var h=0;h<t.length-1;++h)if(ho(t[h],t[h+1],r))return!1;return!0}function sd(t,r){for(var o=0;o<r.length;o++)if(ad(t,r[o]))return!0;return!1}function qs(t,r,o){for(var h=[],d=0;d<t.length;d++){for(var y=[],v=0;v<t[d].length;v++){var E=wt(t[d][v],o);Ce(r,E),y.push(E)}h.push(y)}return h}function zp(t,r,o){for(var h=[],d=0;d<t.length;d++){var y=qs(t[d],r,o);h.push(y)}return h}function Dl(t,r,o,h){if(t[0]<o[0]||t[0]>o[2]){var d=.5*h,y=t[0]-o[0]>d?-h:o[0]-t[0]>d?h:0;y===0&&(y=t[0]-o[2]>d?-h:o[2]-t[0]>d?h:0),t[0]+=y}Ce(r,t)}function ld(t,r,o,h){for(var d=8192*Math.pow(2,h.z),y=[8192*h.x,8192*h.y],v=[],E=0,T=t;E<T.length;E+=1)for(var P=0,k=T[E];P<k.length;P+=1){var A=k[P],F=[A.x+y[0],A.y+y[1]];Dl(F,r,o,d),v.push(F)}return v}function Du(t,r,o,h){for(var d,y=8192*Math.pow(2,h.z),v=[8192*h.x,8192*h.y],E=[],T=0,P=t;T<P.length;T+=1){for(var k=[],A=0,F=P[T];A<F.length;A+=1){var U=F[A],ne=[U.x+v[0],U.y+v[1]];Ce(r,ne),k.push(ne)}E.push(k)}if(r[2]-r[0]<=y/2){(d=r)[0]=d[1]=1/0,d[2]=d[3]=-1/0;for(var re=0,he=E;re<he.length;re+=1)for(var ue=0,_e=he[re];ue<_e.length;ue+=1)Dl(_e[ue],r,o,y)}return E}fe.parse=function(t,r){if(t.length!==2)return r.error("Expected one argument.");var o=t[1];if(typeof o!="object"||Array.isArray(o))return r.error("Collator options argument must be an object.");var h=r.parse(o["case-sensitive"]!==void 0&&o["case-sensitive"],1,Xe);if(!h)return null;var d=r.parse(o["diacritic-sensitive"]!==void 0&&o["diacritic-sensitive"],1,Xe);if(!d)return null;var y=null;return o.locale&&!(y=r.parse(o.locale,1,nt))?null:new fe(h,d,y)},fe.prototype.evaluate=function(t){return new li(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},fe.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},fe.prototype.outputDefined=function(){return!1},fe.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var fo=function(t,r){this.type=Xe,this.geojson=t,this.geometries=r};function Ca(t){if(t instanceof K&&(t.name==="get"&&t.args.length===1||t.name==="feature-state"||t.name==="has"&&t.args.length===1||t.name==="properties"||t.name==="geometry-type"||t.name==="id"||/^filter-/.test(t.name))||t instanceof fo)return!1;var r=!0;return t.eachChild(function(o){r&&!Ca(o)&&(r=!1)}),r}function Pa(t){if(t instanceof K&&t.name==="feature-state")return!1;var r=!0;return t.eachChild(function(o){r&&!Pa(o)&&(r=!1)}),r}function us(t,r){if(t instanceof K&&r.indexOf(t.name)>=0)return!1;var o=!0;return t.eachChild(function(h){o&&!us(h,r)&&(o=!1)}),o}fo.parse=function(t,r){if(t.length!==2)return r.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(la(t[1])){var o=t[1];if(o.type==="FeatureCollection")for(var h=0;h<o.features.length;++h){var d=o.features[h].geometry.type;if(d==="Polygon"||d==="MultiPolygon")return new fo(o,o.features[h].geometry)}else if(o.type==="Feature"){var y=o.geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new fo(o,o.geometry)}else if(o.type==="Polygon"||o.type==="MultiPolygon")return new fo(o,o)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")},fo.prototype.evaluate=function(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(r,o){var h=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],y=r.canonicalID();if(o.type==="Polygon"){var v=qs(o.coordinates,d,y),E=ld(r.geometry(),h,d,y);if(!We(h,d))return!1;for(var T=0,P=E;T<P.length;T+=1)if(!Ir(P[T],v))return!1}if(o.type==="MultiPolygon"){var k=zp(o.coordinates,d,y),A=ld(r.geometry(),h,d,y);if(!We(h,d))return!1;for(var F=0,U=A;F<U.length;F+=1)if(!ei(U[F],k))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(r,o){var h=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],y=r.canonicalID();if(o.type==="Polygon"){var v=qs(o.coordinates,d,y),E=Du(r.geometry(),h,d,y);if(!We(h,d))return!1;for(var T=0,P=E;T<P.length;T+=1)if(!ad(P[T],v))return!1}if(o.type==="MultiPolygon"){var k=zp(o.coordinates,d,y),A=Du(r.geometry(),h,d,y);if(!We(h,d))return!1;for(var F=0,U=A;F<U.length;F+=1)if(!sd(U[F],k))return!1}return!0}(t,this.geometries)}return!1},fo.prototype.eachChild=function(){},fo.prototype.outputDefined=function(){return!0},fo.prototype.serialize=function(){return["within",this.geojson]};var Ia=function(t,r){this.type=r.type,this.name=t,this.boundExpression=r};Ia.parse=function(t,r){if(t.length!==2||typeof t[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");var o=t[1];return r.scope.has(o)?new Ia(o,r.scope.get(o)):r.error('Unknown variable "'+o+'". Make sure "'+o+'" has been bound in an enclosing "let" expression before using it.',1)},Ia.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Ia.prototype.eachChild=function(){},Ia.prototype.outputDefined=function(){return!1},Ia.prototype.serialize=function(){return["var",this.name]};var ka=function(t,r,o,h,d){r===void 0&&(r=[]),h===void 0&&(h=new mt),d===void 0&&(d=[]),this.registry=t,this.path=r,this.key=r.map(function(y){return"["+y+"]"}).join(""),this.scope=h,this.errors=d,this.expectedType=o};function Fu(t,r){for(var o,h=t.length-1,d=0,y=h,v=0;d<=y;)if((o=t[v=Math.floor((d+y)/2)])<=r){if(v===h||r<t[v+1])return v;d=v+1}else{if(!(o>r))throw new ur("Input is not a number.");y=v-1}return 0}ka.prototype.parse=function(t,r,o,h,d){return d===void 0&&(d={}),r?this.concat(r,o,h)._parse(t,d):this._parse(t,d)},ka.prototype._parse=function(t,r){function o(P,k,A){return A==="assert"?new Nn(k,[P]):A==="coerce"?new Vi(k,[P]):P}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var h=t[0];if(typeof h!="string")return this.error("Expression name must be a string, but found "+typeof h+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var d=this.registry[h];if(d){var y=d.parse(t,this);if(!y)return null;if(this.expectedType){var v=this.expectedType,E=y.type;if(v.kind!=="string"&&v.kind!=="number"&&v.kind!=="boolean"&&v.kind!=="object"&&v.kind!=="array"||E.kind!=="value")if(v.kind!=="color"&&v.kind!=="formatted"&&v.kind!=="resolvedImage"||E.kind!=="value"&&E.kind!=="string"){if(this.checkSubtype(v,E))return null}else y=o(y,v,r.typeAnnotation||"coerce");else y=o(y,v,r.typeAnnotation||"assert")}if(!(y instanceof qr)&&y.type.kind!=="resolvedImage"&&function P(k){if(k instanceof Ia)return P(k.boundExpression);if(k instanceof K&&k.name==="error"||k instanceof fe||k instanceof fo)return!1;var A=k instanceof Vi||k instanceof Nn,F=!0;return k.eachChild(function(U){F=A?F&&P(U):F&&U instanceof qr}),!!F&&Ca(k)&&us(k,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(y)){var T=new V;try{y=new qr(y.type,y.evaluate(T))}catch(P){return this.error(P.message),null}}return y}return this.error('Unknown expression "'+h+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},ka.prototype.concat=function(t,r,o){var h=typeof t=="number"?this.path.concat(t):this.path,d=o?this.scope.concat(o):this.scope;return new ka(this.registry,h,r||null,d,this.errors)},ka.prototype.error=function(t){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];var h=""+this.key+r.map(function(d){return"["+d+"]"}).join("");this.errors.push(new Ve(h,t))},ka.prototype.checkSubtype=function(t,r){var o=ln(t,r);return o&&this.error(o),o};var ji=function(t,r,o){this.type=t,this.input=r,this.labels=[],this.outputs=[];for(var h=0,d=o;h<d.length;h+=1){var y=d[h],v=y[1];this.labels.push(y[0]),this.outputs.push(v)}};function kr(t,r,o){return t*(1-o)+r*o}ji.parse=function(t,r){if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");var o=r.parse(t[1],1,Le);if(!o)return null;var h=[],d=null;r.expectedType&&r.expectedType.kind!=="value"&&(d=r.expectedType);for(var y=1;y<t.length;y+=2){var v=y===1?-1/0:t[y],E=t[y+1],T=y,P=y+1;if(typeof v!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',T);if(h.length&&h[h.length-1][0]>=v)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',T);var k=r.parse(E,P,d);if(!k)return null;d=d||k.type,h.push([v,k])}return new ji(d,o,h)},ji.prototype.evaluate=function(t){var r=this.labels,o=this.outputs;if(r.length===1)return o[0].evaluate(t);var h=this.input.evaluate(t);if(h<=r[0])return o[0].evaluate(t);var d=r.length;return h>=r[d-1]?o[d-1].evaluate(t):o[Fu(r,h)].evaluate(t)},ji.prototype.eachChild=function(t){t(this.input);for(var r=0,o=this.outputs;r<o.length;r+=1)t(o[r])},ji.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},ji.prototype.serialize=function(){for(var t=["step",this.input.serialize()],r=0;r<this.labels.length;r++)r>0&&t.push(this.labels[r]),t.push(this.outputs[r].serialize());return t};var Ws=Object.freeze({__proto__:null,number:kr,color:function(t,r,o){return new tn(kr(t.r,r.r,o),kr(t.g,r.g,o),kr(t.b,r.b,o),kr(t.a,r.a,o))},array:function(t,r,o){return t.map(function(h,d){return kr(h,r[d],o)})}}),ud=6/29*3*(6/29),mg=Math.PI/180,yg=180/Math.PI;function Rp(t){return t>.008856451679035631?Math.pow(t,1/3):t/ud+4/29}function Lp(t){return t>6/29?t*t*t:ud*(t-4/29)}function Op(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Dp(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function cd(t){var r=Dp(t.r),o=Dp(t.g),h=Dp(t.b),d=Rp((.4124564*r+.3575761*o+.1804375*h)/.95047),y=Rp((.2126729*r+.7151522*o+.072175*h)/1);return{l:116*y-16,a:500*(d-y),b:200*(y-Rp((.0193339*r+.119192*o+.9503041*h)/1.08883)),alpha:t.a}}function pd(t){var r=(t.l+16)/116,o=isNaN(t.a)?r:r+t.a/500,h=isNaN(t.b)?r:r-t.b/200;return r=1*Lp(r),o=.95047*Lp(o),h=1.08883*Lp(h),new tn(Op(3.2404542*o-1.5371385*r-.4985314*h),Op(-.969266*o+1.8760108*r+.041556*h),Op(.0556434*o-.2040259*r+1.0572252*h),t.alpha)}function gg(t,r,o){var h=r-t;return t+o*(h>180||h<-180?h-360*Math.round(h/360):h)}var Fl={forward:cd,reverse:pd,interpolate:function(t,r,o){return{l:kr(t.l,r.l,o),a:kr(t.a,r.a,o),b:kr(t.b,r.b,o),alpha:kr(t.alpha,r.alpha,o)}}},Bl={forward:function(t){var r=cd(t),o=r.l,h=r.a,d=r.b,y=Math.atan2(d,h)*yg;return{h:y<0?y+360:y,c:Math.sqrt(h*h+d*d),l:o,alpha:t.a}},reverse:function(t){var r=t.h*mg,o=t.c;return pd({l:t.l,a:Math.cos(r)*o,b:Math.sin(r)*o,alpha:t.alpha})},interpolate:function(t,r,o){return{h:gg(t.h,r.h,o),c:kr(t.c,r.c,o),l:kr(t.l,r.l,o),alpha:kr(t.alpha,r.alpha,o)}}},hd=Object.freeze({__proto__:null,lab:Fl,hcl:Bl}),ci=function(t,r,o,h,d){this.type=t,this.operator=r,this.interpolation=o,this.input=h,this.labels=[],this.outputs=[];for(var y=0,v=d;y<v.length;y+=1){var E=v[y],T=E[1];this.labels.push(E[0]),this.outputs.push(T)}};function Fp(t,r,o,h){var d=h-o,y=t-o;return d===0?0:r===1?y/d:(Math.pow(r,y)-1)/(Math.pow(r,d)-1)}ci.interpolationFactor=function(t,r,o,h){var d=0;if(t.name==="exponential")d=Fp(r,t.base,o,h);else if(t.name==="linear")d=Fp(r,1,o,h);else if(t.name==="cubic-bezier"){var y=t.controlPoints;d=new b(y[0],y[1],y[2],y[3]).solve(Fp(r,1,o,h))}return d},ci.parse=function(t,r){var o=t[0],h=t[1],d=t[2],y=t.slice(3);if(!Array.isArray(h)||h.length===0)return r.error("Expected an interpolation type expression.",1);if(h[0]==="linear")h={name:"linear"};else if(h[0]==="exponential"){var v=h[1];if(typeof v!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);h={name:"exponential",base:v}}else{if(h[0]!=="cubic-bezier")return r.error("Unknown interpolation type "+String(h[0]),1,0);var E=h.slice(1);if(E.length!==4||E.some(function(he){return typeof he!="number"||he<0||he>1}))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);h={name:"cubic-bezier",controlPoints:E}}if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(!(d=r.parse(d,2,Le)))return null;var T=[],P=null;o==="interpolate-hcl"||o==="interpolate-lab"?P=Ye:r.expectedType&&r.expectedType.kind!=="value"&&(P=r.expectedType);for(var k=0;k<y.length;k+=2){var A=y[k],F=y[k+1],U=k+3,ne=k+4;if(typeof A!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(T.length&&T[T.length-1][0]>=A)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',U);var re=r.parse(F,ne,P);if(!re)return null;P=P||re.type,T.push([A,re])}return P.kind==="number"||P.kind==="color"||P.kind==="array"&&P.itemType.kind==="number"&&typeof P.N=="number"?new ci(P,o,h,d,T):r.error("Type "+Wt(P)+" is not interpolatable.")},ci.prototype.evaluate=function(t){var r=this.labels,o=this.outputs;if(r.length===1)return o[0].evaluate(t);var h=this.input.evaluate(t);if(h<=r[0])return o[0].evaluate(t);var d=r.length;if(h>=r[d-1])return o[d-1].evaluate(t);var y=Fu(r,h),v=ci.interpolationFactor(this.interpolation,h,r[y],r[y+1]),E=o[y].evaluate(t),T=o[y+1].evaluate(t);return this.operator==="interpolate"?Ws[this.type.kind.toLowerCase()](E,T,v):this.operator==="interpolate-hcl"?Bl.reverse(Bl.interpolate(Bl.forward(E),Bl.forward(T),v)):Fl.reverse(Fl.interpolate(Fl.forward(E),Fl.forward(T),v))},ci.prototype.eachChild=function(t){t(this.input);for(var r=0,o=this.outputs;r<o.length;r+=1)t(o[r])},ci.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},ci.prototype.serialize=function(){var t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var r=[this.operator,t,this.input.serialize()],o=0;o<this.labels.length;o++)r.push(this.labels[o],this.outputs[o].serialize());return r};var Ma=function(t,r){this.type=t,this.args=r};Ma.parse=function(t,r){if(t.length<2)return r.error("Expectected at least one argument.");var o=null,h=r.expectedType;h&&h.kind!=="value"&&(o=h);for(var d=[],y=0,v=t.slice(1);y<v.length;y+=1){var E=r.parse(v[y],1+d.length,o,void 0,{typeAnnotation:"omit"});if(!E)return null;o=o||E.type,d.push(E)}var T=h&&d.some(function(P){return ln(h,P.type)});return new Ma(T?tt:o,d)},Ma.prototype.evaluate=function(t){for(var r,o=null,h=0,d=0,y=this.args;d<y.length&&(h++,(o=y[d].evaluate(t))&&o instanceof Hn&&!o.available&&(r||(r=o.name),o=null,h===this.args.length&&(o=r)),o===null);d+=1);return o},Ma.prototype.eachChild=function(t){this.args.forEach(t)},Ma.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},Ma.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(r){t.push(r.serialize())}),t};var Aa=function(t,r){this.type=r.type,this.bindings=[].concat(t),this.result=r};Aa.prototype.evaluate=function(t){return this.result.evaluate(t)},Aa.prototype.eachChild=function(t){for(var r=0,o=this.bindings;r<o.length;r+=1)t(o[r][1]);t(this.result)},Aa.parse=function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var o=[],h=1;h<t.length-1;h+=2){var d=t[h];if(typeof d!="string")return r.error("Expected string, but found "+typeof d+" instead.",h);if(/[^a-zA-Z0-9_]/.test(d))return r.error("Variable names must contain only alphanumeric characters or '_'.",h);var y=r.parse(t[h+1],h+1);if(!y)return null;o.push([d,y])}var v=r.parse(t[t.length-1],t.length-1,r.expectedType,o);return v?new Aa(o,v):null},Aa.prototype.outputDefined=function(){return this.result.outputDefined()},Aa.prototype.serialize=function(){for(var t=["let"],r=0,o=this.bindings;r<o.length;r+=1){var h=o[r];t.push(h[0],h[1].serialize())}return t.push(this.result.serialize()),t};var cs=function(t,r,o){this.type=t,this.index=r,this.input=o};cs.parse=function(t,r){if(t.length!==3)return r.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var o=r.parse(t[1],1,Le),h=r.parse(t[2],2,pn(r.expectedType||tt));return o&&h?new cs(h.type.itemType,o,h):null},cs.prototype.evaluate=function(t){var r=this.index.evaluate(t),o=this.input.evaluate(t);if(r<0)throw new ur("Array index out of bounds: "+r+" < 0.");if(r>=o.length)throw new ur("Array index out of bounds: "+r+" > "+(o.length-1)+".");if(r!==Math.floor(r))throw new ur("Array index must be an integer, but found "+r+" instead.");return o[r]},cs.prototype.eachChild=function(t){t(this.index),t(this.input)},cs.prototype.outputDefined=function(){return!1},cs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ps=function(t,r){this.type=Xe,this.needle=t,this.haystack=r};ps.parse=function(t,r){if(t.length!==3)return r.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var o=r.parse(t[1],1,tt),h=r.parse(t[2],2,tt);return o&&h?Mn(o.type,[Xe,nt,Le,ct,tt])?new ps(o,h):r.error("Expected first argument to be of type boolean, string, number or null, but found "+Wt(o.type)+" instead"):null},ps.prototype.evaluate=function(t){var r=this.needle.evaluate(t),o=this.haystack.evaluate(t);if(!o)return!1;if(!xn(r,["boolean","string","number","null"]))throw new ur("Expected first argument to be of type boolean, string, number or null, but found "+Wt(Xn(r))+" instead.");if(!xn(o,["string","array"]))throw new ur("Expected second argument to be of type array or string, but found "+Wt(Xn(o))+" instead.");return o.indexOf(r)>=0},ps.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},ps.prototype.outputDefined=function(){return!0},ps.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var za=function(t,r,o){this.type=Le,this.needle=t,this.haystack=r,this.fromIndex=o};za.parse=function(t,r){if(t.length<=2||t.length>=5)return r.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var o=r.parse(t[1],1,tt),h=r.parse(t[2],2,tt);if(!o||!h)return null;if(!Mn(o.type,[Xe,nt,Le,ct,tt]))return r.error("Expected first argument to be of type boolean, string, number or null, but found "+Wt(o.type)+" instead");if(t.length===4){var d=r.parse(t[3],3,Le);return d?new za(o,h,d):null}return new za(o,h)},za.prototype.evaluate=function(t){var r=this.needle.evaluate(t),o=this.haystack.evaluate(t);if(!xn(r,["boolean","string","number","null"]))throw new ur("Expected first argument to be of type boolean, string, number or null, but found "+Wt(Xn(r))+" instead.");if(!xn(o,["string","array"]))throw new ur("Expected second argument to be of type array or string, but found "+Wt(Xn(o))+" instead.");if(this.fromIndex){var h=this.fromIndex.evaluate(t);return o.indexOf(r,h)}return o.indexOf(r)},za.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},za.prototype.outputDefined=function(){return!1},za.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var hs=function(t,r,o,h,d,y){this.inputType=t,this.type=r,this.input=o,this.cases=h,this.outputs=d,this.otherwise=y};hs.parse=function(t,r){if(t.length<5)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return r.error("Expected an even number of arguments.");var o,h;r.expectedType&&r.expectedType.kind!=="value"&&(h=r.expectedType);for(var d={},y=[],v=2;v<t.length-1;v+=2){var E=t[v],T=t[v+1];Array.isArray(E)||(E=[E]);var P=r.concat(v);if(E.length===0)return P.error("Expected at least one branch label.");for(var k=0,A=E;k<A.length;k+=1){var F=A[k];if(typeof F!="number"&&typeof F!="string")return P.error("Branch labels must be numbers or strings.");if(typeof F=="number"&&Math.abs(F)>Number.MAX_SAFE_INTEGER)return P.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof F=="number"&&Math.floor(F)!==F)return P.error("Numeric branch labels must be integer values.");if(o){if(P.checkSubtype(o,Xn(F)))return null}else o=Xn(F);if(d[String(F)]!==void 0)return P.error("Branch labels must be unique.");d[String(F)]=y.length}var U=r.parse(T,v,h);if(!U)return null;h=h||U.type,y.push(U)}var ne=r.parse(t[1],1,tt);if(!ne)return null;var re=r.parse(t[t.length-1],t.length-1,h);return re?ne.type.kind!=="value"&&r.concat(1).checkSubtype(o,ne.type)?null:new hs(o,h,ne,d,y,re):null},hs.prototype.evaluate=function(t){var r=this.input.evaluate(t);return(Xn(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(t)},hs.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},hs.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})&&this.otherwise.outputDefined()},hs.prototype.serialize=function(){for(var t=this,r=["match",this.input.serialize()],o=[],h={},d=0,y=Object.keys(this.cases).sort();d<y.length;d+=1){var v=y[d];(A=h[this.cases[v]])===void 0?(h[this.cases[v]]=o.length,o.push([this.cases[v],[v]])):o[A][1].push(v)}for(var E=function(U){return t.inputType.kind==="number"?Number(U):U},T=0,P=o;T<P.length;T+=1){var k=P[T],A=k[0],F=k[1];r.push(F.length===1?E(F[0]):F.map(E)),r.push(this.outputs[outputIndex$1].serialize())}return r.push(this.otherwise.serialize()),r};var fs=function(t,r,o){this.type=t,this.branches=r,this.otherwise=o};fs.parse=function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return r.error("Expected an odd number of arguments.");var o;r.expectedType&&r.expectedType.kind!=="value"&&(o=r.expectedType);for(var h=[],d=1;d<t.length-1;d+=2){var y=r.parse(t[d],d,Xe);if(!y)return null;var v=r.parse(t[d+1],d+1,o);if(!v)return null;h.push([y,v]),o=o||v.type}var E=r.parse(t[t.length-1],t.length-1,o);return E?new fs(o,h,E):null},fs.prototype.evaluate=function(t){for(var r=0,o=this.branches;r<o.length;r+=1){var h=o[r],d=h[1];if(h[0].evaluate(t))return d.evaluate(t)}return this.otherwise.evaluate(t)},fs.prototype.eachChild=function(t){for(var r=0,o=this.branches;r<o.length;r+=1){var h=o[r],d=h[1];t(h[0]),t(d)}t(this.otherwise)},fs.prototype.outputDefined=function(){return this.branches.every(function(t){return t[1].outputDefined()})&&this.otherwise.outputDefined()},fs.prototype.serialize=function(){var t=["case"];return this.eachChild(function(r){t.push(r.serialize())}),t};var Ra=function(t,r,o,h){this.type=t,this.input=r,this.beginIndex=o,this.endIndex=h};function fd(t,r){return t==="=="||t==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function dd(t,r,o,h){return h.compare(r,o)===0}function Ln(t,r,o){var h=t!=="=="&&t!=="!=";return function(){function d(y,v,E){this.type=Xe,this.lhs=y,this.rhs=v,this.collator=E,this.hasUntypedArgument=y.type.kind==="value"||v.type.kind==="value"}return d.parse=function(y,v){if(y.length!==3&&y.length!==4)return v.error("Expected two or three arguments.");var E=y[0],T=v.parse(y[1],1,tt);if(!T)return null;if(!fd(E,T.type))return v.concat(1).error('"'+E+`" comparisons are not supported for type '`+Wt(T.type)+"'.");var P=v.parse(y[2],2,tt);if(!P)return null;if(!fd(E,P.type))return v.concat(2).error('"'+E+`" comparisons are not supported for type '`+Wt(P.type)+"'.");if(T.type.kind!==P.type.kind&&T.type.kind!=="value"&&P.type.kind!=="value")return v.error("Cannot compare types '"+Wt(T.type)+"' and '"+Wt(P.type)+"'.");h&&(T.type.kind==="value"&&P.type.kind!=="value"?T=new Nn(P.type,[T]):T.type.kind!=="value"&&P.type.kind==="value"&&(P=new Nn(T.type,[P])));var k=null;if(y.length===4){if(T.type.kind!=="string"&&P.type.kind!=="string"&&T.type.kind!=="value"&&P.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(!(k=v.parse(y[3],3,nn)))return null}return new d(T,P,k)},d.prototype.evaluate=function(y){var v=this.lhs.evaluate(y),E=this.rhs.evaluate(y);if(h&&this.hasUntypedArgument){var T=Xn(v),P=Xn(E);if(T.kind!==P.kind||T.kind!=="string"&&T.kind!=="number")throw new ur('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+T.kind+", "+P.kind+") instead.")}if(this.collator&&!h&&this.hasUntypedArgument){var k=Xn(v),A=Xn(E);if(k.kind!=="string"||A.kind!=="string")return r(y,v,E)}return this.collator?o(y,v,E,this.collator.evaluate(y)):r(y,v,E)},d.prototype.eachChild=function(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)},d.prototype.outputDefined=function(){return!0},d.prototype.serialize=function(){var y=[t];return this.eachChild(function(v){y.push(v.serialize())}),y},d}()}Ra.parse=function(t,r){if(t.length<=2||t.length>=5)return r.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var o=r.parse(t[1],1,tt),h=r.parse(t[2],2,Le);if(!o||!h)return null;if(!Mn(o.type,[pn(tt),nt,tt]))return r.error("Expected first argument to be of type array or string, but found "+Wt(o.type)+" instead");if(t.length===4){var d=r.parse(t[3],3,Le);return d?new Ra(o.type,o,h,d):null}return new Ra(o.type,o,h)},Ra.prototype.evaluate=function(t){var r=this.input.evaluate(t),o=this.beginIndex.evaluate(t);if(!xn(r,["string","array"]))throw new ur("Expected first argument to be of type array or string, but found "+Wt(Xn(r))+" instead.");if(this.endIndex){var h=this.endIndex.evaluate(t);return r.slice(o,h)}return r.slice(o)},Ra.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},Ra.prototype.outputDefined=function(){return!1},Ra.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var vg=Ln("==",function(t,r,o){return r===o},dd),Bu=Ln("!=",function(t,r,o){return r!==o},function(t,r,o,h){return!dd(0,r,o,h)}),md=Ln("<",function(t,r,o){return r<o},function(t,r,o,h){return h.compare(r,o)<0}),yd=Ln(">",function(t,r,o){return r>o},function(t,r,o,h){return h.compare(r,o)>0}),gd=Ln("<=",function(t,r,o){return r<=o},function(t,r,o,h){return h.compare(r,o)<=0}),vd=Ln(">=",function(t,r,o){return r>=o},function(t,r,o,h){return h.compare(r,o)>=0}),ds=function(t,r,o,h,d){this.type=nt,this.number=t,this.locale=r,this.currency=o,this.minFractionDigits=h,this.maxFractionDigits=d};ds.parse=function(t,r){if(t.length!==3)return r.error("Expected two arguments.");var o=r.parse(t[1],1,Le);if(!o)return null;var h=t[2];if(typeof h!="object"||Array.isArray(h))return r.error("NumberFormat options argument must be an object.");var d=null;if(h.locale&&!(d=r.parse(h.locale,1,nt)))return null;var y=null;if(h.currency&&!(y=r.parse(h.currency,1,nt)))return null;var v=null;if(h["min-fraction-digits"]&&!(v=r.parse(h["min-fraction-digits"],1,Le)))return null;var E=null;return h["max-fraction-digits"]&&!(E=r.parse(h["max-fraction-digits"],1,Le))?null:new ds(o,d,y,v,E)},ds.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},ds.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},ds.prototype.outputDefined=function(){return!1},ds.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var La=function(t){this.type=Le,this.input=t};La.parse=function(t,r){if(t.length!==2)return r.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var o=r.parse(t[1],1);return o?o.type.kind!=="array"&&o.type.kind!=="string"&&o.type.kind!=="value"?r.error("Expected argument of type string or array, but found "+Wt(o.type)+" instead."):new La(o):null},La.prototype.evaluate=function(t){var r=this.input.evaluate(t);if(typeof r=="string"||Array.isArray(r))return r.length;throw new ur("Expected value to be of type string or array, but found "+Wt(Xn(r))+" instead.")},La.prototype.eachChild=function(t){t(this.input)},La.prototype.outputDefined=function(){return!1},La.prototype.serialize=function(){var t=["length"];return this.eachChild(function(r){t.push(r.serialize())}),t};var ms={"==":vg,"!=":Bu,">":yd,"<":md,">=":vd,"<=":gd,array:Nn,at:cs,boolean:Nn,case:fs,coalesce:Ma,collator:fe,format:Ui,image:mi,in:ps,"index-of":za,interpolate:ci,"interpolate-hcl":ci,"interpolate-lab":ci,length:La,let:Aa,literal:qr,match:hs,number:Nn,"number-format":ds,object:Nn,slice:Ra,step:ji,string:Nn,"to-boolean":Vi,"to-color":Vi,"to-number":Vi,"to-string":Vi,var:Ia,within:fo};function _d(t,r){var o=r[0],h=r[1],d=r[2],y=r[3];o=o.evaluate(t),h=h.evaluate(t),d=d.evaluate(t);var v=y?y.evaluate(t):1,E=Ta(o,h,d,v);if(E)throw new ur(E);return new tn(o/255*v,h/255*v,d/255*v,v)}function xd(t,r){return t in r}function Bp(t,r){var o=r[t];return o===void 0?null:o}function ys(t){return{type:t}}function bd(t){return{result:"success",value:t}}function gs(t){return{result:"error",value:t}}function vs(t){return t["property-type"]==="data-driven"||t["property-type"]==="cross-faded-data-driven"}function wd(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Nl(t){return!!t.expression&&t.expression.interpolated}function Un(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t}function Nu(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function _g(t){return t}function Zs(t,r,o){return t!==void 0?t:r!==void 0?r:o!==void 0?o:void 0}function Ed(t,r,o,h,d){return Zs(typeof o===d?h[o]:void 0,t.default,r.default)}function xg(t,r,o){if(Un(o)!=="number")return Zs(t.default,r.default);var h=t.stops.length;if(h===1||o<=t.stops[0][0])return t.stops[0][1];if(o>=t.stops[h-1][0])return t.stops[h-1][1];var d=Fu(t.stops.map(function(y){return y[0]}),o);return t.stops[d][1]}function Sd(t,r,o){var h=t.base!==void 0?t.base:1;if(Un(o)!=="number")return Zs(t.default,r.default);var d=t.stops.length;if(d===1||o<=t.stops[0][0])return t.stops[0][1];if(o>=t.stops[d-1][0])return t.stops[d-1][1];var y=Fu(t.stops.map(function(A){return A[0]}),o),v=function(A,F,U,ne){var re=ne-U,he=A-U;return re===0?0:F===1?he/re:(Math.pow(F,he)-1)/(Math.pow(F,re)-1)}(o,h,t.stops[y][0],t.stops[y+1][0]),E=t.stops[y][1],T=t.stops[y+1][1],P=Ws[r.type]||_g;if(t.colorSpace&&t.colorSpace!=="rgb"){var k=hd[t.colorSpace];P=function(A,F){return k.reverse(k.interpolate(k.forward(A),k.forward(F),v))}}return typeof E.evaluate=="function"?{evaluate:function(){for(var A=[],F=arguments.length;F--;)A[F]=arguments[F];var U=E.evaluate.apply(void 0,A),ne=T.evaluate.apply(void 0,A);if(U!==void 0&&ne!==void 0)return P(U,ne,v)}}:P(E,T,v)}function Uu(t,r,o){return r.type==="color"?o=tn.parse(o):r.type==="formatted"?o=lr.fromString(o.toString()):r.type==="resolvedImage"?o=Hn.fromString(o.toString()):Un(o)===r.type||r.type==="enum"&&r.values[o]||(o=void 0),Zs(o,t.default,r.default)}K.register(ms,{error:[{kind:"error"},[nt],function(t,r){throw new ur(r[0].evaluate(t))}],typeof:[nt,[tt],function(t,r){return Wt(Xn(r[0].evaluate(t)))}],"to-rgba":[pn(Le,4),[Ye],function(t,r){return r[0].evaluate(t).toArray()}],rgb:[Ye,[Le,Le,Le],_d],rgba:[Ye,[Le,Le,Le,Le],_d],has:{type:Xe,overloads:[[[nt],function(t,r){return xd(r[0].evaluate(t),t.properties())}],[[nt,qt],function(t,r){var o=r[1];return xd(r[0].evaluate(t),o.evaluate(t))}]]},get:{type:tt,overloads:[[[nt],function(t,r){return Bp(r[0].evaluate(t),t.properties())}],[[nt,qt],function(t,r){var o=r[1];return Bp(r[0].evaluate(t),o.evaluate(t))}]]},"feature-state":[tt,[nt],function(t,r){return Bp(r[0].evaluate(t),t.featureState||{})}],properties:[qt,[],function(t){return t.properties()}],"geometry-type":[nt,[],function(t){return t.geometryType()}],id:[tt,[],function(t){return t.id()}],zoom:[Le,[],function(t){return t.globals.zoom}],"heatmap-density":[Le,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Le,[],function(t){return t.globals.lineProgress||0}],accumulated:[tt,[],function(t){return t.globals.accumulated===void 0?null:t.globals.accumulated}],"+":[Le,ys(Le),function(t,r){for(var o=0,h=0,d=r;h<d.length;h+=1)o+=d[h].evaluate(t);return o}],"*":[Le,ys(Le),function(t,r){for(var o=1,h=0,d=r;h<d.length;h+=1)o*=d[h].evaluate(t);return o}],"-":{type:Le,overloads:[[[Le,Le],function(t,r){var o=r[1];return r[0].evaluate(t)-o.evaluate(t)}],[[Le],function(t,r){return-r[0].evaluate(t)}]]},"/":[Le,[Le,Le],function(t,r){var o=r[1];return r[0].evaluate(t)/o.evaluate(t)}],"%":[Le,[Le,Le],function(t,r){var o=r[1];return r[0].evaluate(t)%o.evaluate(t)}],ln2:[Le,[],function(){return Math.LN2}],pi:[Le,[],function(){return Math.PI}],e:[Le,[],function(){return Math.E}],"^":[Le,[Le,Le],function(t,r){var o=r[1];return Math.pow(r[0].evaluate(t),o.evaluate(t))}],sqrt:[Le,[Le],function(t,r){return Math.sqrt(r[0].evaluate(t))}],log10:[Le,[Le],function(t,r){return Math.log(r[0].evaluate(t))/Math.LN10}],ln:[Le,[Le],function(t,r){return Math.log(r[0].evaluate(t))}],log2:[Le,[Le],function(t,r){return Math.log(r[0].evaluate(t))/Math.LN2}],sin:[Le,[Le],function(t,r){return Math.sin(r[0].evaluate(t))}],cos:[Le,[Le],function(t,r){return Math.cos(r[0].evaluate(t))}],tan:[Le,[Le],function(t,r){return Math.tan(r[0].evaluate(t))}],asin:[Le,[Le],function(t,r){return Math.asin(r[0].evaluate(t))}],acos:[Le,[Le],function(t,r){return Math.acos(r[0].evaluate(t))}],atan:[Le,[Le],function(t,r){return Math.atan(r[0].evaluate(t))}],min:[Le,ys(Le),function(t,r){return Math.min.apply(Math,r.map(function(o){return o.evaluate(t)}))}],max:[Le,ys(Le),function(t,r){return Math.max.apply(Math,r.map(function(o){return o.evaluate(t)}))}],abs:[Le,[Le],function(t,r){return Math.abs(r[0].evaluate(t))}],round:[Le,[Le],function(t,r){var o=r[0].evaluate(t);return o<0?-Math.round(-o):Math.round(o)}],floor:[Le,[Le],function(t,r){return Math.floor(r[0].evaluate(t))}],ceil:[Le,[Le],function(t,r){return Math.ceil(r[0].evaluate(t))}],"filter-==":[Xe,[nt,tt],function(t,r){var o=r[0],h=r[1];return t.properties()[o.value]===h.value}],"filter-id-==":[Xe,[tt],function(t,r){var o=r[0];return t.id()===o.value}],"filter-type-==":[Xe,[nt],function(t,r){var o=r[0];return t.geometryType()===o.value}],"filter-<":[Xe,[nt,tt],function(t,r){var o=r[0],h=r[1],d=t.properties()[o.value],y=h.value;return typeof d==typeof y&&d<y}],"filter-id-<":[Xe,[tt],function(t,r){var o=r[0],h=t.id(),d=o.value;return typeof h==typeof d&&h<d}],"filter->":[Xe,[nt,tt],function(t,r){var o=r[0],h=r[1],d=t.properties()[o.value],y=h.value;return typeof d==typeof y&&d>y}],"filter-id->":[Xe,[tt],function(t,r){var o=r[0],h=t.id(),d=o.value;return typeof h==typeof d&&h>d}],"filter-<=":[Xe,[nt,tt],function(t,r){var o=r[0],h=r[1],d=t.properties()[o.value],y=h.value;return typeof d==typeof y&&d<=y}],"filter-id-<=":[Xe,[tt],function(t,r){var o=r[0],h=t.id(),d=o.value;return typeof h==typeof d&&h<=d}],"filter->=":[Xe,[nt,tt],function(t,r){var o=r[0],h=r[1],d=t.properties()[o.value],y=h.value;return typeof d==typeof y&&d>=y}],"filter-id->=":[Xe,[tt],function(t,r){var o=r[0],h=t.id(),d=o.value;return typeof h==typeof d&&h>=d}],"filter-has":[Xe,[tt],function(t,r){return r[0].value in t.properties()}],"filter-has-id":[Xe,[],function(t){return t.id()!==null&&t.id()!==void 0}],"filter-type-in":[Xe,[pn(nt)],function(t,r){return r[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Xe,[pn(tt)],function(t,r){return r[0].value.indexOf(t.id())>=0}],"filter-in-small":[Xe,[nt,pn(tt)],function(t,r){var o=r[0];return r[1].value.indexOf(t.properties()[o.value])>=0}],"filter-in-large":[Xe,[nt,pn(tt)],function(t,r){var o=r[0],h=r[1];return function(d,y,v,E){for(;v<=E;){var T=v+E>>1;if(y[T]===d)return!0;y[T]>d?E=T-1:v=T+1}return!1}(t.properties()[o.value],h.value,0,h.value.length-1)}],all:{type:Xe,overloads:[[[Xe,Xe],function(t,r){var o=r[1];return r[0].evaluate(t)&&o.evaluate(t)}],[ys(Xe),function(t,r){for(var o=0,h=r;o<h.length;o+=1)if(!h[o].evaluate(t))return!1;return!0}]]},any:{type:Xe,overloads:[[[Xe,Xe],function(t,r){var o=r[1];return r[0].evaluate(t)||o.evaluate(t)}],[ys(Xe),function(t,r){for(var o=0,h=r;o<h.length;o+=1)if(h[o].evaluate(t))return!0;return!1}]]},"!":[Xe,[Xe],function(t,r){return!r[0].evaluate(t)}],"is-supported-script":[Xe,[nt],function(t,r){var o=t.globals&&t.globals.isSupportedScript;return!o||o(r[0].evaluate(t))}],upcase:[nt,[nt],function(t,r){return r[0].evaluate(t).toUpperCase()}],downcase:[nt,[nt],function(t,r){return r[0].evaluate(t).toLowerCase()}],concat:[nt,ys(tt),function(t,r){return r.map(function(o){return ua(o.evaluate(t))}).join("")}],"resolved-locale":[nt,[nn],function(t,r){return r[0].evaluate(t).resolvedLocale()}]});var Gs=function(t,r){this.expression=t,this._warningHistory={},this._evaluator=new V,this._defaultValue=r?function(o){return o.type==="color"&&Nu(o.default)?new tn(0,0,0,0):o.type==="color"?tn.parse(o.default)||null:o.default===void 0?null:o.default}(r):null,this._enumValues=r&&r.type==="enum"?r.values:null};function Ul(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in ms}function Vu(t,r){var o=new ka(ms,[],r?function(d){var y={color:Ye,string:nt,number:Le,enum:nt,boolean:Xe,formatted:kn,resolvedImage:en};return d.type==="array"?pn(y[d.value]||tt,d.length):y[d.type]}(r):void 0),h=o.parse(t,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?bd(new Gs(h,r)):gs(o.errors)}Gs.prototype.evaluateWithoutErrorHandling=function(t,r,o,h,d,y){return this._evaluator.globals=t,this._evaluator.feature=r,this._evaluator.featureState=o,this._evaluator.canonical=h,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=y,this.expression.evaluate(this._evaluator)},Gs.prototype.evaluate=function(t,r,o,h,d,y){this._evaluator.globals=t,this._evaluator.feature=r||null,this._evaluator.featureState=o||null,this._evaluator.canonical=h,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=y||null;try{var v=this.expression.evaluate(this._evaluator);if(v==null||typeof v=="number"&&v!=v)return this._defaultValue;if(this._enumValues&&!(v in this._enumValues))throw new ur("Expected value to be one of "+Object.keys(this._enumValues).map(function(E){return JSON.stringify(E)}).join(", ")+", but found "+JSON.stringify(v)+" instead.");return v}catch(E){return this._warningHistory[E.message]||(this._warningHistory[E.message]=!0,typeof console!="undefined"&&console.warn(E.message)),this._defaultValue}};var Vl=function(t,r){this.kind=t,this._styleExpression=r,this.isStateDependent=t!=="constant"&&!Pa(r.expression)};Vl.prototype.evaluateWithoutErrorHandling=function(t,r,o,h,d,y){return this._styleExpression.evaluateWithoutErrorHandling(t,r,o,h,d,y)},Vl.prototype.evaluate=function(t,r,o,h,d,y){return this._styleExpression.evaluate(t,r,o,h,d,y)};var Hs=function(t,r,o,h){this.kind=t,this.zoomStops=o,this._styleExpression=r,this.isStateDependent=t!=="camera"&&!Pa(r.expression),this.interpolationType=h};function Td(t,r){if((t=Vu(t,r)).result==="error")return t;var o=t.value.expression,h=Ca(o);if(!h&&!vs(r))return gs([new Ve("","data expressions not supported")]);var d=us(o,["zoom"]);if(!d&&!wd(r))return gs([new Ve("","zoom expressions not supported")]);var y=function v(E){var T=null;if(E instanceof Aa)T=v(E.result);else if(E instanceof Ma)for(var P=0,k=E.args;P<k.length&&!(T=v(k[P]));P+=1);else(E instanceof ji||E instanceof ci)&&E.input instanceof K&&E.input.name==="zoom"&&(T=E);return T instanceof Ve||E.eachChild(function(A){var F=v(A);F instanceof Ve?T=F:!T&&F?T=new Ve("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):T&&F&&T!==F&&(T=new Ve("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),T}(o);return y||d?y instanceof Ve?gs([y]):y instanceof ci&&!Nl(r)?gs([new Ve("",'"interpolate" expressions cannot be used with this property')]):bd(y?new Hs(h?"camera":"composite",t.value,y.labels,y instanceof ci?y.interpolation:void 0):new Vl(h?"constant":"source",t.value)):gs([new Ve("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Hs.prototype.evaluateWithoutErrorHandling=function(t,r,o,h,d,y){return this._styleExpression.evaluateWithoutErrorHandling(t,r,o,h,d,y)},Hs.prototype.evaluate=function(t,r,o,h,d,y){return this._styleExpression.evaluate(t,r,o,h,d,y)},Hs.prototype.interpolationFactor=function(t,r,o){return this.interpolationType?ci.interpolationFactor(this.interpolationType,t,r,o):0};var Xs=function(t,r){this._parameters=t,this._specification=r,Ue(this,function o(h,d){var y,v,E,T=d.type==="color",P=h.stops&&typeof h.stops[0][0]=="object",k=P||!(P||h.property!==void 0),A=h.type||(Nl(d)?"exponential":"interval");if(T&&((h=Ue({},h)).stops&&(h.stops=h.stops.map(function(it){return[it[0],tn.parse(it[1])]})),h.default=tn.parse(h.default?h.default:d.default)),h.colorSpace&&h.colorSpace!=="rgb"&&!hd[h.colorSpace])throw new Error("Unknown color space: "+h.colorSpace);if(A==="exponential")y=Sd;else if(A==="interval")y=xg;else if(A==="categorical"){y=Ed,v=Object.create(null);for(var F=0,U=h.stops;F<U.length;F+=1){var ne=U[F];v[ne[0]]=ne[1]}E=typeof h.stops[0][0]}else{if(A!=="identity")throw new Error('Unknown function type "'+A+'"');y=Uu}if(P){for(var re={},he=[],ue=0;ue<h.stops.length;ue++){var _e=h.stops[ue],Ee=_e[0].zoom;re[Ee]===void 0&&(re[Ee]={zoom:Ee,type:h.type,property:h.property,default:h.default,stops:[]},he.push(Ee)),re[Ee].stops.push([_e[0].value,_e[1]])}for(var Ie=[],Me=0,Fe=he;Me<Fe.length;Me+=1){var qe=Fe[Me];Ie.push([re[qe].zoom,o(re[qe],d)])}var Je={name:"linear"};return{kind:"composite",interpolationType:Je,interpolationFactor:ci.interpolationFactor.bind(void 0,Je),zoomStops:Ie.map(function(it){return it[0]}),evaluate:function(it,Pt){var ot=it.zoom;return Sd({stops:Ie,base:h.base},d,ot).evaluate(ot,Pt)}}}if(k){var bt=A==="exponential"?{name:"exponential",base:h.base!==void 0?h.base:1}:null;return{kind:"camera",interpolationType:bt,interpolationFactor:ci.interpolationFactor.bind(void 0,bt),zoomStops:h.stops.map(function(it){return it[0]}),evaluate:function(it){return y(h,d,it.zoom,v,E)}}}return{kind:"source",evaluate:function(it,Pt){var ot=Pt&&Pt.properties?Pt.properties[h.property]:void 0;return ot===void 0?Zs(h.default,d.default):y(h,d,ot,v,E)}}}(this._parameters,this._specification))};function ko(t){var r=t.key,o=t.value,h=t.valueSpec||{},d=t.objectElementValidators||{},y=t.style,v=t.styleSpec,E=[],T=Un(o);if(T!=="object")return[new se(r,o,"object expected, "+T+" found")];for(var P in o){var k=P.split(".")[0],A=h[k]||h["*"],F=void 0;if(d[k])F=d[k];else if(h[k])F=hn;else if(d["*"])F=d["*"];else{if(!h["*"]){E.push(new se(r,o[P],'unknown property "'+P+'"'));continue}F=hn}E=E.concat(F({key:(r&&r+".")+P,value:o[P],valueSpec:A,style:y,styleSpec:v,object:o,objectKey:P},o))}for(var U in h)d[U]||h[U].required&&h[U].default===void 0&&o[U]===void 0&&E.push(new se(r,o,'missing required property "'+U+'"'));return E}function Cd(t){var r=t.value,o=t.valueSpec,h=t.style,d=t.styleSpec,y=t.key,v=t.arrayElementValidator||hn;if(Un(r)!=="array")return[new se(y,r,"array expected, "+Un(r)+" found")];if(o.length&&r.length!==o.length)return[new se(y,r,"array length "+o.length+" expected, length "+r.length+" found")];if(o["min-length"]&&r.length<o["min-length"])return[new se(y,r,"array length at least "+o["min-length"]+" expected, length "+r.length+" found")];var E={type:o.value,values:o.values};d.$version<7&&(E.function=o.function),Un(o.value)==="object"&&(E=o.value);for(var T=[],P=0;P<r.length;P++)T=T.concat(v({array:r,arrayIndex:P,value:r[P],valueSpec:E,style:h,styleSpec:d,key:y+"["+P+"]"}));return T}function Pd(t){var r=t.key,o=t.value,h=t.valueSpec,d=Un(o);return d==="number"&&o!=o&&(d="NaN"),d!=="number"?[new se(r,o,"number expected, "+d+" found")]:"minimum"in h&&o<h.minimum?[new se(r,o,o+" is less than the minimum value "+h.minimum)]:"maximum"in h&&o>h.maximum?[new se(r,o,o+" is greater than the maximum value "+h.maximum)]:[]}function Id(t){var r,o,h,d=t.valueSpec,y=je(t.value.type),v={},E=y!=="categorical"&&t.value.property===void 0,T=!E,P=Un(t.value.stops)==="array"&&Un(t.value.stops[0])==="array"&&Un(t.value.stops[0][0])==="object",k=ko({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(U){if(y==="identity")return[new se(U.key,U.value,'identity function may not have a "stops" property')];var ne=[],re=U.value;return ne=ne.concat(Cd({key:U.key,value:re,valueSpec:U.valueSpec,style:U.style,styleSpec:U.styleSpec,arrayElementValidator:A})),Un(re)==="array"&&re.length===0&&ne.push(new se(U.key,re,"array must have at least one stop")),ne},default:function(U){return hn({key:U.key,value:U.value,valueSpec:d,style:U.style,styleSpec:U.styleSpec})}}});return y==="identity"&&E&&k.push(new se(t.key,t.value,'missing required property "property"')),y==="identity"||t.value.stops||k.push(new se(t.key,t.value,'missing required property "stops"')),y==="exponential"&&t.valueSpec.expression&&!Nl(t.valueSpec)&&k.push(new se(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(T&&!vs(t.valueSpec)?k.push(new se(t.key,t.value,"property functions not supported")):E&&!wd(t.valueSpec)&&k.push(new se(t.key,t.value,"zoom functions not supported"))),y!=="categorical"&&!P||t.value.property!==void 0||k.push(new se(t.key,t.value,'"property" property is required')),k;function A(U){var ne=[],re=U.value,he=U.key;if(Un(re)!=="array")return[new se(he,re,"array expected, "+Un(re)+" found")];if(re.length!==2)return[new se(he,re,"array length 2 expected, length "+re.length+" found")];if(P){if(Un(re[0])!=="object")return[new se(he,re,"object expected, "+Un(re[0])+" found")];if(re[0].zoom===void 0)return[new se(he,re,"object stop key must have zoom")];if(re[0].value===void 0)return[new se(he,re,"object stop key must have value")];if(h&&h>je(re[0].zoom))return[new se(he,re[0].zoom,"stop zoom values must appear in ascending order")];je(re[0].zoom)!==h&&(h=je(re[0].zoom),o=void 0,v={}),ne=ne.concat(ko({key:he+"[0]",value:re[0],valueSpec:{zoom:{}},style:U.style,styleSpec:U.styleSpec,objectElementValidators:{zoom:Pd,value:F}}))}else ne=ne.concat(F({key:he+"[0]",value:re[0],valueSpec:{},style:U.style,styleSpec:U.styleSpec},re));return Ul(ze(re[1]))?ne.concat([new se(he+"[1]",re[1],"expressions are not allowed in function stops.")]):ne.concat(hn({key:he+"[1]",value:re[1],valueSpec:d,style:U.style,styleSpec:U.styleSpec}))}function F(U,ne){var re=Un(U.value),he=je(U.value),ue=U.value!==null?U.value:ne;if(r){if(re!==r)return[new se(U.key,ue,re+" stop domain type must match previous stop domain type "+r)]}else r=re;if(re!=="number"&&re!=="string"&&re!=="boolean")return[new se(U.key,ue,"stop domain value must be a number, string, or boolean")];if(re!=="number"&&y!=="categorical"){var _e="number expected, "+re+" found";return vs(d)&&y===void 0&&(_e+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new se(U.key,ue,_e)]}return y!=="categorical"||re!=="number"||isFinite(he)&&Math.floor(he)===he?y!=="categorical"&&re==="number"&&o!==void 0&&he<o?[new se(U.key,ue,"stop domain values must appear in ascending order")]:(o=he,y==="categorical"&&he in v?[new se(U.key,ue,"stop domain values must be unique")]:(v[he]=!0,[])):[new se(U.key,ue,"integer expected, found "+he)]}}function _s(t){var r=(t.expressionContext==="property"?Td:Vu)(ze(t.value),t.valueSpec);if(r.result==="error")return r.value.map(function(h){return new se(""+t.key+h.key,t.value,h.message)});var o=r.value.expression||r.value._styleExpression.expression;if(t.expressionContext==="property"&&t.propertyKey==="text-font"&&!o.outputDefined())return[new se(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if(t.expressionContext==="property"&&t.propertyType==="layout"&&!Pa(o))return[new se(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if(t.expressionContext==="filter"&&!Pa(o))return[new se(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&t.expressionContext.indexOf("cluster")===0){if(!us(o,["zoom","feature-state"]))return[new se(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(t.expressionContext==="cluster-initial"&&!Ca(o))return[new se(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function jl(t){var r=t.key,o=t.value,h=t.valueSpec,d=[];return Array.isArray(h.values)?h.values.indexOf(je(o))===-1&&d.push(new se(r,o,"expected one of ["+h.values.join(", ")+"], "+JSON.stringify(o)+" found")):Object.keys(h.values).indexOf(je(o))===-1&&d.push(new se(r,o,"expected one of ["+Object.keys(h.values).join(", ")+"], "+JSON.stringify(o)+" found")),d}function ju(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&(typeof t[1]!="string"||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var r=0,o=t.slice(1);r<o.length;r+=1){var h=o[r];if(!ju(h)&&typeof h!="boolean")return!1}return!0;default:return!0}}Xs.deserialize=function(t){return new Xs(t._parameters,t._specification)},Xs.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Np={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function $u(t){if(t==null)return{filter:function(){return!0},needGeometry:!1};ju(t)||(t=qu(t));var r=Vu(t,Np);if(r.result==="error")throw new Error(r.value.map(function(o){return o.key+": "+o.message}).join(", "));return{filter:function(o,h,d){return r.value.evaluate(o,h,{},d)},needGeometry:function o(h){if(!Array.isArray(h))return!1;if(h[0]==="within")return!0;for(var d=1;d<h.length;d++)if(o(h[d]))return!0;return!1}(t)}}function bg(t,r){return t<r?-1:t>r?1:0}function qu(t){if(!t)return!0;var r,o=t[0];return t.length<=1?o!=="any":o==="=="?Up(t[1],t[2],"=="):o==="!="?Wu(Up(t[1],t[2],"==")):o==="<"||o===">"||o==="<="||o===">="?Up(t[1],t[2],o):o==="any"?(r=t.slice(1),["any"].concat(r.map(qu))):o==="all"?["all"].concat(t.slice(1).map(qu)):o==="none"?["all"].concat(t.slice(1).map(qu).map(Wu)):o==="in"?kd(t[1],t.slice(2)):o==="!in"?Wu(kd(t[1],t.slice(2))):o==="has"?Md(t[1]):o==="!has"?Wu(Md(t[1])):o!=="within"||t}function Up(t,r,o){switch(t){case"$type":return["filter-type-"+o,r];case"$id":return["filter-id-"+o,r];default:return["filter-"+o,t,r]}}function kd(t,r){if(r.length===0)return!1;switch(t){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(function(o){return typeof o!=typeof r[0]})?["filter-in-large",t,["literal",r.sort(bg)]]:["filter-in-small",t,["literal",r]]}}function Md(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Wu(t){return["!",t]}function Vp(t){return ju(ze(t.value))?_s(Ue({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function r(o){var h=o.value,d=o.key;if(Un(h)!=="array")return[new se(d,h,"array expected, "+Un(h)+" found")];var y,v=o.styleSpec,E=[];if(h.length<1)return[new se(d,h,"filter array must have at least 1 element")];switch(E=E.concat(jl({key:d+"[0]",value:h[0],valueSpec:v.filter_operator,style:o.style,styleSpec:o.styleSpec})),je(h[0])){case"<":case"<=":case">":case">=":h.length>=2&&je(h[1])==="$type"&&E.push(new se(d,h,'"$type" cannot be use with operator "'+h[0]+'"'));case"==":case"!=":h.length!==3&&E.push(new se(d,h,'filter array for operator "'+h[0]+'" must have 3 elements'));case"in":case"!in":h.length>=2&&(y=Un(h[1]))!=="string"&&E.push(new se(d+"[1]",h[1],"string expected, "+y+" found"));for(var T=2;T<h.length;T++)y=Un(h[T]),je(h[1])==="$type"?E=E.concat(jl({key:d+"["+T+"]",value:h[T],valueSpec:v.geometry_type,style:o.style,styleSpec:o.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&E.push(new se(d+"["+T+"]",h[T],"string, number, or boolean expected, "+y+" found"));break;case"any":case"all":case"none":for(var P=1;P<h.length;P++)E=E.concat(r({key:d+"["+P+"]",value:h[P],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":y=Un(h[1]),h.length!==2?E.push(new se(d,h,'filter array for "'+h[0]+'" operator must have 2 elements')):y!=="string"&&E.push(new se(d+"[1]",h[1],"string expected, "+y+" found"));break;case"within":y=Un(h[1]),h.length!==2?E.push(new se(d,h,'filter array for "'+h[0]+'" operator must have 2 elements')):y!=="object"&&E.push(new se(d+"[1]",h[1],"object expected, "+y+" found"))}return E}(t)}function jp(t,r){var o=t.key,h=t.style,d=t.styleSpec,y=t.value,v=t.objectKey,E=d[r+"_"+t.layerType];if(!E)return[];var T=v.match(/^(.*)-transition$/);if(r==="paint"&&T&&E[T[1]]&&E[T[1]].transition)return hn({key:o,value:y,valueSpec:d.transition,style:h,styleSpec:d});var P,k=t.valueSpec||E[v];if(!k)return[new se(o,y,'unknown property "'+v+'"')];if(Un(y)==="string"&&vs(k)&&!k.tokens&&(P=/^{([^}]+)}$/.exec(y)))return[new se(o,y,'"'+v+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(P[1])+" }`.")];var A=[];return t.layerType==="symbol"&&(v==="text-field"&&h&&!h.glyphs&&A.push(new se(o,y,'use of "text-field" requires a style "glyphs" property')),v==="text-font"&&Nu(ze(y))&&je(y.type)==="identity"&&A.push(new se(o,y,'"text-font" does not support identity functions'))),A.concat(hn({key:t.key,value:y,valueSpec:k,style:h,styleSpec:d,expressionContext:"property",propertyType:r,propertyKey:v}))}function $p(t){return jp(t,"paint")}function $l(t){return jp(t,"layout")}function Ad(t){var r=[],o=t.value,h=t.key,d=t.style,y=t.styleSpec;o.type||o.ref||r.push(new se(h,o,'either "type" or "ref" is required'));var v,E=je(o.type),T=je(o.ref);if(o.id)for(var P=je(o.id),k=0;k<t.arrayIndex;k++){var A=d.layers[k];je(A.id)===P&&r.push(new se(h,o.id,'duplicate layer id "'+o.id+'", previously used at line '+A.id.__line__))}if("ref"in o)["type","source","source-layer","filter","layout"].forEach(function(ne){ne in o&&r.push(new se(h,o[ne],'"'+ne+'" is prohibited for ref layers'))}),d.layers.forEach(function(ne){je(ne.id)===T&&(v=ne)}),v?v.ref?r.push(new se(h,o.ref,"ref cannot reference another ref layer")):E=je(v.type):r.push(new se(h,o.ref,'ref layer "'+T+'" not found'));else if(E!=="background")if(o.source){var F=d.sources&&d.sources[o.source],U=F&&je(F.type);F?U==="vector"&&E==="raster"?r.push(new se(h,o.source,'layer "'+o.id+'" requires a raster source')):U==="raster"&&E!=="raster"?r.push(new se(h,o.source,'layer "'+o.id+'" requires a vector source')):U!=="vector"||o["source-layer"]?U==="raster-dem"&&E!=="hillshade"?r.push(new se(h,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):E!=="line"||!o.paint||!o.paint["line-gradient"]||U==="geojson"&&F.lineMetrics||r.push(new se(h,o,'layer "'+o.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):r.push(new se(h,o,'layer "'+o.id+'" must specify a "source-layer"')):r.push(new se(h,o.source,'source "'+o.source+'" not found'))}else r.push(new se(h,o,'missing required property "source"'));return r=r.concat(ko({key:h,value:o,valueSpec:y.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return hn({key:h+".type",value:o.type,valueSpec:y.layer.type,style:t.style,styleSpec:t.styleSpec,object:o,objectKey:"type"})},filter:Vp,layout:function(ne){return ko({layer:o,key:ne.key,value:ne.value,style:ne.style,styleSpec:ne.styleSpec,objectElementValidators:{"*":function(re){return $l(Ue({layerType:E},re))}}})},paint:function(ne){return ko({layer:o,key:ne.key,value:ne.value,style:ne.style,styleSpec:ne.styleSpec,objectElementValidators:{"*":function(re){return $p(Ue({layerType:E},re))}}})}}}))}function xs(t){var r=t.value,o=t.key,h=Un(r);return h!=="string"?[new se(o,r,"string expected, "+h+" found")]:[]}var Kn={promoteId:function(t){var r=t.key,o=t.value;if(Un(o)==="string")return xs({key:r,value:o});var h=[];for(var d in o)h.push.apply(h,xs({key:r+"."+d,value:o[d]}));return h}};function Zu(t){var r=t.value,o=t.key,h=t.styleSpec,d=t.style;if(!r.type)return[new se(o,r,'"type" is required')];var y,v=je(r.type);switch(v){case"vector":case"raster":case"raster-dem":return ko({key:o,value:r,valueSpec:h["source_"+v.replace("-","_")],style:t.style,styleSpec:h,objectElementValidators:Kn});case"geojson":if(y=ko({key:o,value:r,valueSpec:h.source_geojson,style:d,styleSpec:h,objectElementValidators:Kn}),r.cluster)for(var E in r.clusterProperties){var T=r.clusterProperties[E],P=T[0],k=typeof P=="string"?[P,["accumulated"],["get",E]]:P;y.push.apply(y,_s({key:o+"."+E+".map",value:T[1],expressionContext:"cluster-map"})),y.push.apply(y,_s({key:o+"."+E+".reduce",value:k,expressionContext:"cluster-reduce"}))}return y;case"video":return ko({key:o,value:r,valueSpec:h.source_video,style:d,styleSpec:h});case"image":return ko({key:o,value:r,valueSpec:h.source_image,style:d,styleSpec:h});case"canvas":return[new se(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return jl({key:o+".type",value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:d,styleSpec:h})}}function bs(t){var r=t.value,o=t.styleSpec,h=o.light,d=t.style,y=[],v=Un(r);if(r===void 0)return y;if(v!=="object")return y.concat([new se("light",r,"object expected, "+v+" found")]);for(var E in r){var T=E.match(/^(.*)-transition$/);y=y.concat(T&&h[T[1]]&&h[T[1]].transition?hn({key:E,value:r[E],valueSpec:o.transition,style:d,styleSpec:o}):h[E]?hn({key:E,value:r[E],valueSpec:h[E],style:d,styleSpec:o}):[new se(E,r[E],'unknown property "'+E+'"')])}return y}var Oa={"*":function(){return[]},array:Cd,boolean:function(t){var r=t.value,o=t.key,h=Un(r);return h!=="boolean"?[new se(o,r,"boolean expected, "+h+" found")]:[]},number:Pd,color:function(t){var r=t.key,o=t.value,h=Un(o);return h!=="string"?[new se(r,o,"color expected, "+h+" found")]:Zt(o)===null?[new se(r,o,'color expected, "'+o+'" found')]:[]},constants:be,enum:jl,filter:Vp,function:Id,layer:Ad,object:ko,source:Zu,light:bs,string:xs,formatted:function(t){return xs(t).length===0?[]:_s(t)},resolvedImage:function(t){return xs(t).length===0?[]:_s(t)}};function hn(t){var r=t.value,o=t.valueSpec,h=t.styleSpec;return o.expression&&Nu(je(r))?Id(t):o.expression&&Ul(ze(r))?_s(t):o.type&&Oa[o.type]?Oa[o.type](t):ko(Ue({},t,{valueSpec:o.type?h[o.type]:o}))}function Vn(t){var r=t.value,o=t.key,h=xs(t);return h.length||(r.indexOf("{fontstack}")===-1&&h.push(new se(o,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&h.push(new se(o,r,'"glyphs" url must include a "{range}" token'))),h}function no(t,r){r===void 0&&(r=Z);var o=[];return o=o.concat(hn({key:"",value:t,valueSpec:r.$root,styleSpec:r,style:t,objectElementValidators:{glyphs:Vn,"*":function(){return[]}}})),t.constants&&(o=o.concat(be({key:"constants",value:t.constants,style:t,styleSpec:r}))),ql(o)}function ql(t){return[].concat(t).sort(function(r,o){return r.line-o.line})}function Ks(t){return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return ql(t.apply(this,r))}}no.source=Ks(Zu),no.light=Ks(bs),no.layer=Ks(Ad),no.filter=Ks(Vp),no.paintProperty=Ks($p),no.layoutProperty=Ks($l);var Wl=no,wg=Wl.light,Eg=Wl.paintProperty,Zl=Wl.layoutProperty;function Gl(t,r){var o=!1;if(r&&r.length)for(var h=0,d=r;h<d.length;h+=1)t.fire(new de(new Error(d[h].message))),o=!0;return o}var ca=Dr;function Dr(t,r,o){var h=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var d=new Int32Array(this.arrayBuffer);t=d[0],this.d=(r=d[1])+2*(o=d[2]);for(var y=0;y<this.d*this.d;y++){var v=d[3+y],E=d[3+y+1];h.push(v===E?null:d.subarray(v,E))}var T=d[3+h.length+1];this.keys=d.subarray(d[3+h.length],T),this.bboxes=d.subarray(T),this.insert=this._insertReadonly}else{this.d=r+2*o;for(var P=0;P<this.d*this.d;P++)h.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=t,this.padding=o,this.scale=r/t,this.uid=0;var k=o/r*t;this.min=-k,this.max=t+k}Dr.prototype.insert=function(t,r,o,h,d){this._forEachCell(r,o,h,d,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(r),this.bboxes.push(o),this.bboxes.push(h),this.bboxes.push(d)},Dr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Dr.prototype._insertCell=function(t,r,o,h,d,y){this.cells[d].push(y)},Dr.prototype.query=function(t,r,o,h,d){var y=this.min,v=this.max;if(t<=y&&r<=y&&v<=o&&v<=h&&!d)return Array.prototype.slice.call(this.keys);var E=[];return this._forEachCell(t,r,o,h,this._queryCell,E,{},d),E},Dr.prototype._queryCell=function(t,r,o,h,d,y,v,E){var T=this.cells[d];if(T!==null)for(var P=this.keys,k=this.bboxes,A=0;A<T.length;A++){var F=T[A];if(v[F]===void 0){var U=4*F;(E?E(k[U+0],k[U+1],k[U+2],k[U+3]):t<=k[U+2]&&r<=k[U+3]&&o>=k[U+0]&&h>=k[U+1])?(v[F]=!0,y.push(P[F])):v[F]=!1}}},Dr.prototype._forEachCell=function(t,r,o,h,d,y,v,E){for(var T=this._convertToCellCoord(t),P=this._convertToCellCoord(r),k=this._convertToCellCoord(o),A=this._convertToCellCoord(h),F=T;F<=k;F++)for(var U=P;U<=A;U++){var ne=this.d*U+F;if((!E||E(this._convertFromCellCoord(F),this._convertFromCellCoord(U),this._convertFromCellCoord(F+1),this._convertFromCellCoord(U+1)))&&d.call(this,t,r,o,h,ne,y,v,E))return}},Dr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Dr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Dr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,r=3+this.cells.length+1+1,o=0,h=0;h<this.cells.length;h++)o+=this.cells[h].length;var d=new Int32Array(r+o+this.keys.length+this.bboxes.length);d[0]=this.extent,d[1]=this.n,d[2]=this.padding;for(var y=r,v=0;v<t.length;v++){var E=t[v];d[3+v]=y,d.set(E,y),y+=E.length}return d[3+t.length]=y,d.set(this.keys,y),d[3+t.length+1]=y+=this.keys.length,d.set(this.bboxes,y),y+=this.bboxes.length,d.buffer};var Hl=R.ImageData,zd=R.ImageBitmap,Mr={};function ht(t,r,o){o===void 0&&(o={}),Object.defineProperty(r,"_classRegistryKey",{value:t,writeable:!1}),Mr[t]={klass:r,omit:o.omit||[],shallow:o.shallow||[]}}for(var $i in ht("Object",Object),ca.serialize=function(t,r){var o=t.toArrayBuffer();return r&&r.push(o),{buffer:o}},ca.deserialize=function(t){return new ca(t.buffer)},ht("Grid",ca),ht("Color",tn),ht("Error",Error),ht("ResolvedImage",Hn),ht("StylePropertyFunction",Xs),ht("StyleExpression",Gs,{omit:["_evaluator"]}),ht("ZoomDependentExpression",Hs),ht("ZoomConstantExpression",Vl),ht("CompoundExpression",K,{omit:["_evaluate"]}),ms)ms[$i]._classRegistryKey||ht("Expression_"+$i,ms[$i]);function Gu(t){return t&&typeof ArrayBuffer!="undefined"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}function Ys(t){return zd&&t instanceof zd}function Mo(t,r){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Gu(t)||Ys(t))return r&&r.push(t),t;if(ArrayBuffer.isView(t)){var o=t;return r&&r.push(o.buffer),o}if(t instanceof Hl)return r&&r.push(t.data.buffer),t;if(Array.isArray(t)){for(var h=[],d=0,y=t;d<y.length;d+=1)h.push(Mo(y[d],r));return h}if(typeof t=="object"){var v=t.constructor,E=v._classRegistryKey;if(!E)throw new Error("can't serialize object of unregistered class");var T=v.serialize?v.serialize(t,r):{};if(!v.serialize){for(var P in t)if(t.hasOwnProperty(P)&&!(Mr[E].omit.indexOf(P)>=0)){var k=t[P];T[P]=Mr[E].shallow.indexOf(P)>=0?k:Mo(k,r)}t instanceof Error&&(T.message=t.message)}if(T.$name)throw new Error("$name property is reserved for worker serialization logic.");return E!=="Object"&&(T.$name=E),T}throw new Error("can't serialize object of type "+typeof t)}function qi(t){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Gu(t)||Ys(t)||ArrayBuffer.isView(t)||t instanceof Hl)return t;if(Array.isArray(t))return t.map(qi);if(typeof t=="object"){var r=t.$name||"Object",o=Mr[r].klass;if(!o)throw new Error("can't deserialize unregistered class "+r);if(o.deserialize)return o.deserialize(t);for(var h=Object.create(o.prototype),d=0,y=Object.keys(t);d<y.length;d+=1){var v=y[d];if(v!=="$name"){var E=t[v];h[v]=Mr[r].shallow.indexOf(v)>=0?E:qi(E)}}return h}throw new Error("can't deserialize object of type "+typeof t)}var qp=function(){this.first=!0};qp.prototype.update=function(t,r){var o=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=o,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=o,!0):(this.lastFloorZoom>o?(this.lastIntegerZoom=o+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<o&&(this.lastIntegerZoom=o,this.lastIntegerZoomTime=r),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=o,!0))};var et={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Wp(t){for(var r=0,o=t;r<o.length;r+=1)if(Hu(o[r].charCodeAt(0)))return!0;return!1}function Hu(t){return!(t!==746&&t!==747&&(t<4352||!(et["Bopomofo Extended"](t)||et.Bopomofo(t)||et["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||et["CJK Compatibility Ideographs"](t)||et["CJK Compatibility"](t)||et["CJK Radicals Supplement"](t)||et["CJK Strokes"](t)||!(!et["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||t===12336)||et["CJK Unified Ideographs Extension A"](t)||et["CJK Unified Ideographs"](t)||et["Enclosed CJK Letters and Months"](t)||et["Hangul Compatibility Jamo"](t)||et["Hangul Jamo Extended-A"](t)||et["Hangul Jamo Extended-B"](t)||et["Hangul Jamo"](t)||et["Hangul Syllables"](t)||et.Hiragana(t)||et["Ideographic Description Characters"](t)||et.Kanbun(t)||et["Kangxi Radicals"](t)||et["Katakana Phonetic Extensions"](t)||et.Katakana(t)&&t!==12540||!(!et["Halfwidth and Fullwidth Forms"](t)||t===65288||t===65289||t===65293||t>=65306&&t<=65310||t===65339||t===65341||t===65343||t>=65371&&t<=65503||t===65507||t>=65512&&t<=65519)||!(!et["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||et["Unified Canadian Aboriginal Syllabics"](t)||et["Unified Canadian Aboriginal Syllabics Extended"](t)||et["Vertical Forms"](t)||et["Yijing Hexagram Symbols"](t)||et["Yi Syllables"](t)||et["Yi Radicals"](t))))}function Zp(t){return!(Hu(t)||function(r){return!!(et["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||et["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||et["Letterlike Symbols"](r)||et["Number Forms"](r)||et["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||et["Control Pictures"](r)&&r!==9251||et["Optical Character Recognition"](r)||et["Enclosed Alphanumerics"](r)||et["Geometric Shapes"](r)||et["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||et["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||et["CJK Symbols and Punctuation"](r)||et.Katakana(r)||et["Private Use Area"](r)||et["CJK Compatibility Forms"](r)||et["Small Form Variants"](r)||et["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(t))}function mo(t){return t>=1424&&t<=2303||et["Arabic Presentation Forms-A"](t)||et["Arabic Presentation Forms-B"](t)}function Wi(t,r){return!(!r&&mo(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||et.Khmer(t))}function Xu(t){for(var r=0,o=t;r<o.length;r+=1)if(mo(o[r].charCodeAt(0)))return!0;return!1}var Ku=null,Zi="unavailable",pa=null,Rd=function(t){t&&typeof t=="string"&&t.indexOf("NetworkError")>-1&&(Zi="error"),Ku&&Ku(t)};function Xl(){Gp.fire(new oe("pluginStateChange",{pluginStatus:Zi,pluginURL:pa}))}var Gp=new ve,Hp=function(){return Zi},Ao=function(){if(Zi!=="deferred"||!pa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Zi="loading",Xl(),pa&&ls({url:pa},function(t){t?Rd(t):(Zi="loaded",Xl())})},ro={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Zi==="loaded"||ro.applyArabicShaping!=null},isLoading:function(){return Zi==="loading"},setState:function(t){Zi=t.pluginStatus,pa=t.pluginURL},isParsed:function(){return ro.applyArabicShaping!=null&&ro.processBidirectionalText!=null&&ro.processStyledBidirectionalText!=null},getPluginURL:function(){return pa}},an=function(t,r){this.zoom=t,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qp,this.transition={})};an.prototype.isSupportedScript=function(t){return function(r,o){for(var h=0,d=r;h<d.length;h+=1)if(!Wi(d[h].charCodeAt(0),o))return!1;return!0}(t,ro.isLoaded())},an.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},an.prototype.getCrossfadeParameters=function(){var t=this.zoom,r=t-Math.floor(t),o=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*o}:{fromScale:.5,toScale:1,t:1-(1-o)*r}};var jo=function(t,r){this.property=t,this.value=r,this.expression=function(o,h){if(Nu(o))return new Xs(o,h);if(Ul(o)){var d=Td(o,h);if(d.result==="error")throw new Error(d.value.map(function(v){return v.key+": "+v.message}).join(", "));return d.value}var y=o;return typeof o=="string"&&h.type==="color"&&(y=tn.parse(o)),{kind:"constant",evaluate:function(){return y}}}(r===void 0?t.specification.default:r,t.specification)};jo.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},jo.prototype.possiblyEvaluate=function(t,r,o){return this.property.possiblyEvaluate(this,t,r,o)};var yo=function(t){this.property=t,this.value=new jo(t,void 0)};yo.prototype.transitioned=function(t,r){return new ws(this.property,this.value,r,$({},t.transition,this.transition),t.now)},yo.prototype.untransitioned=function(){return new ws(this.property,this.value,null,{},0)};var pi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};pi.prototype.getValue=function(t){return He(this._values[t].value.value)},pi.prototype.setValue=function(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new yo(this._values[t].property)),this._values[t].value=new jo(this._values[t].property,r===null?void 0:He(r))},pi.prototype.getTransition=function(t){return He(this._values[t].transition)},pi.prototype.setTransition=function(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new yo(this._values[t].property)),this._values[t].transition=He(r)||void 0},pi.prototype.serialize=function(){for(var t={},r=0,o=Object.keys(this._values);r<o.length;r+=1){var h=o[r],d=this.getValue(h);d!==void 0&&(t[h]=d);var y=this.getTransition(h);y!==void 0&&(t[h+"-transition"]=y)}return t},pi.prototype.transitioned=function(t,r){for(var o=new Da(this._properties),h=0,d=Object.keys(this._values);h<d.length;h+=1){var y=d[h];o._values[y]=this._values[y].transitioned(t,r._values[y])}return o},pi.prototype.untransitioned=function(){for(var t=new Da(this._properties),r=0,o=Object.keys(this._values);r<o.length;r+=1){var h=o[r];t._values[h]=this._values[h].untransitioned()}return t};var ws=function(t,r,o,h,d){this.property=t,this.value=r,this.begin=d+h.delay||0,this.end=this.begin+h.duration||0,t.specification.transition&&(h.delay||h.duration)&&(this.prior=o)};ws.prototype.possiblyEvaluate=function(t,r,o){var h=t.now||0,d=this.value.possiblyEvaluate(t,r,o),y=this.prior;if(y){if(h>this.end)return this.prior=null,d;if(this.value.isDataDriven())return this.prior=null,d;if(h<this.begin)return y.possiblyEvaluate(t,r,o);var v=(h-this.begin)/(this.end-this.begin);return this.property.interpolate(y.possiblyEvaluate(t,r,o),d,function(E){if(E<=0)return 0;if(E>=1)return 1;var T=E*E,P=T*E;return 4*(E<.5?P:3*(E-T)+P-.75)}(v))}return d};var Da=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Da.prototype.possiblyEvaluate=function(t,r,o){for(var h=new Kl(this._properties),d=0,y=Object.keys(this._values);d<y.length;d+=1){var v=y[d];h._values[v]=this._values[v].possiblyEvaluate(t,r,o)}return h},Da.prototype.hasTransition=function(){for(var t=0,r=Object.keys(this._values);t<r.length;t+=1)if(this._values[r[t]].prior)return!0;return!1};var zo=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};zo.prototype.getValue=function(t){return He(this._values[t].value)},zo.prototype.setValue=function(t,r){this._values[t]=new jo(this._values[t].property,r===null?void 0:He(r))},zo.prototype.serialize=function(){for(var t={},r=0,o=Object.keys(this._values);r<o.length;r+=1){var h=o[r],d=this.getValue(h);d!==void 0&&(t[h]=d)}return t},zo.prototype.possiblyEvaluate=function(t,r,o){for(var h=new Kl(this._properties),d=0,y=Object.keys(this._values);d<y.length;d+=1){var v=y[d];h._values[v]=this._values[v].possiblyEvaluate(t,r,o)}return h};var xi=function(t,r,o){this.property=t,this.value=r,this.parameters=o};xi.prototype.isConstant=function(){return this.value.kind==="constant"},xi.prototype.constantOr=function(t){return this.value.kind==="constant"?this.value.value:t},xi.prototype.evaluate=function(t,r,o,h){return this.property.evaluate(this.value,this.parameters,t,r,o,h)};var Kl=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};Kl.prototype.get=function(t){return this._values[t]};var Tt=function(t){this.specification=t};Tt.prototype.possiblyEvaluate=function(t,r){return t.expression.evaluate(r)},Tt.prototype.interpolate=function(t,r,o){var h=Ws[this.specification.type];return h?h(t,r,o):t};var vt=function(t,r){this.specification=t,this.overrides=r};vt.prototype.possiblyEvaluate=function(t,r,o,h){return new xi(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(r,null,{},o,h)}:t.expression,r)},vt.prototype.interpolate=function(t,r,o){if(t.value.kind!=="constant"||r.value.kind!=="constant")return t;if(t.value.value===void 0||r.value.value===void 0)return new xi(this,{kind:"constant",value:void 0},t.parameters);var h=Ws[this.specification.type];return h?new xi(this,{kind:"constant",value:h(t.value.value,r.value.value,o)},t.parameters):t},vt.prototype.evaluate=function(t,r,o,h,d,y){return t.kind==="constant"?t.value:t.evaluate(r,o,h,d,y)};var Yu=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.possiblyEvaluate=function(o,h,d,y){if(o.value===void 0)return new xi(this,{kind:"constant",value:void 0},h);if(o.expression.kind==="constant"){var v=o.expression.evaluate(h,null,{},d,y),E=o.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,T=this._calculate(E,E,E,h);return new xi(this,{kind:"constant",value:T},h)}if(o.expression.kind==="camera"){var P=this._calculate(o.expression.evaluate({zoom:h.zoom-1}),o.expression.evaluate({zoom:h.zoom}),o.expression.evaluate({zoom:h.zoom+1}),h);return new xi(this,{kind:"constant",value:P},h)}return new xi(this,o.expression,h)},r.prototype.evaluate=function(o,h,d,y,v,E){if(o.kind==="source"){var T=o.evaluate(h,d,y,v,E);return this._calculate(T,T,T,h)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(h.zoom)-1},d,y),o.evaluate({zoom:Math.floor(h.zoom)},d,y),o.evaluate({zoom:Math.floor(h.zoom)+1},d,y),h):o.value},r.prototype._calculate=function(o,h,d,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:o,to:h}:{from:d,to:h}},r.prototype.interpolate=function(o){return o},r}(vt),bi=function(t){this.specification=t};bi.prototype.possiblyEvaluate=function(t,r,o,h){if(t.value!==void 0){if(t.expression.kind==="constant"){var d=t.expression.evaluate(r,null,{},o,h);return this._calculate(d,d,d,r)}return this._calculate(t.expression.evaluate(new an(Math.floor(r.zoom-1),r)),t.expression.evaluate(new an(Math.floor(r.zoom),r)),t.expression.evaluate(new an(Math.floor(r.zoom+1),r)),r)}},bi.prototype._calculate=function(t,r,o,h){return h.zoom>h.zoomHistory.lastIntegerZoom?{from:t,to:r}:{from:o,to:r}},bi.prototype.interpolate=function(t){return t};var Ro=function(t){this.specification=t};Ro.prototype.possiblyEvaluate=function(t,r,o,h){return!!t.expression.evaluate(r,null,{},o,h)},Ro.prototype.interpolate=function(){return!1};var hi=function(t){for(var r in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var o=t[r];o.specification.overridable&&this.overridableProperties.push(r);var h=this.defaultPropertyValues[r]=new jo(o,void 0),d=this.defaultTransitionablePropertyValues[r]=new yo(o);this.defaultTransitioningPropertyValues[r]=d.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=h.possiblyEvaluate({})}};ht("DataDrivenProperty",vt),ht("DataConstantProperty",Tt),ht("CrossFadedDataDrivenProperty",Yu),ht("CrossFadedProperty",bi),ht("ColorRampProperty",Ro);var $o=function(t){function r(o,h){if(t.call(this),this.id=o.id,this.type=o.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},o.type!=="custom"&&(this.metadata=(o=o).metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),h.layout&&(this._unevaluatedLayout=new zo(h.layout)),h.paint)){for(var d in this._transitionablePaint=new pi(h.paint),o.paint)this.setPaintProperty(d,o.paint[d],{validate:!1});for(var y in o.layout)this.setLayoutProperty(y,o.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Kl(h.paint)}}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},r.prototype.getLayoutProperty=function(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)},r.prototype.setLayoutProperty=function(o,h,d){d===void 0&&(d={}),h!=null&&this._validate(Zl,"layers."+this.id+".layout."+o,o,h,d)||(o!=="visibility"?this._unevaluatedLayout.setValue(o,h):this.visibility=h)},r.prototype.getPaintProperty=function(o){return Te(o,"-transition")?this._transitionablePaint.getTransition(o.slice(0,-"-transition".length)):this._transitionablePaint.getValue(o)},r.prototype.setPaintProperty=function(o,h,d){if(d===void 0&&(d={}),h!=null&&this._validate(Eg,"layers."+this.id+".paint."+o,o,h,d))return!1;if(Te(o,"-transition"))return this._transitionablePaint.setTransition(o.slice(0,-"-transition".length),h||void 0),!1;var y=this._transitionablePaint._values[o],v=y.property.specification["property-type"]==="cross-faded-data-driven",E=y.value.isDataDriven(),T=y.value;this._transitionablePaint.setValue(o,h),this._handleSpecialPaintPropertyUpdate(o);var P=this._transitionablePaint._values[o].value;return P.isDataDriven()||E||v||this._handleOverridablePaintPropertyUpdate(o,T,P)},r.prototype._handleSpecialPaintPropertyUpdate=function(o){},r.prototype._handleOverridablePaintPropertyUpdate=function(o,h,d){return!1},r.prototype.isHidden=function(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"},r.prototype.updateTransitions=function(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)},r.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},r.prototype.recalculate=function(o,h){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,h)},r.prototype.serialize=function(){var o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),Ne(o,function(h,d){return!(h===void 0||d==="layout"&&!Object.keys(h).length||d==="paint"&&!Object.keys(h).length)})},r.prototype._validate=function(o,h,d,y,v){return v===void 0&&(v={}),(!v||v.validate!==!1)&&Gl(this,o.call(Wl,{key:h,layerType:this.type,objectKey:d,value:y,styleSpec:Z,style:{glyphs:!0,sprite:!0}}))},r.prototype.is3D=function(){return!1},r.prototype.isTileClipped=function(){return!1},r.prototype.hasOffscreenPass=function(){return!1},r.prototype.resize=function(){},r.prototype.isStateDependent=function(){for(var o in this.paint._values){var h=this.paint.get(o);if(h instanceof xi&&vs(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1},r}(ve),Xp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ju=function(t,r){this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Pn=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ti(t,r){r===void 0&&(r=1);var o=0,h=0;return{members:t.map(function(d){var y=Xp[d.type].BYTES_PER_ELEMENT,v=o=Ld(o,Math.max(r,y)),E=d.components||1;return h=Math.max(h,y),o+=y*E,{name:d.name,type:d.type,components:E,offset:v}}),size:Ld(o,Math.max(h,r)),alignment:r}}function Ld(t,r){return Math.ceil(t/r)*r}Pn.serialize=function(t,r){return t._trim(),r&&(t.isTransferred=!0,r.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Pn.deserialize=function(t){var r=Object.create(this.prototype);return r.arrayBuffer=t.arrayBuffer,r.length=t.length,r.capacity=t.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r},Pn.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Pn.prototype.clear=function(){this.length=0},Pn.prototype.resize=function(t){this.reserve(t),this.length=t},Pn.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}},Pn.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Es=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h){var d=this.length;return this.resize(d+1),this.emplace(d,o,h)},r.prototype.emplace=function(o,h,d){var y=2*o;return this.int16[y+0]=h,this.int16[y+1]=d,o},r}(Pn);Es.prototype.bytesPerElement=4,ht("StructArrayLayout2i4",Es);var Kp=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y){var v=this.length;return this.resize(v+1),this.emplace(v,o,h,d,y)},r.prototype.emplace=function(o,h,d,y,v){var E=4*o;return this.int16[E+0]=h,this.int16[E+1]=d,this.int16[E+2]=y,this.int16[E+3]=v,o},r}(Pn);Kp.prototype.bytesPerElement=8,ht("StructArrayLayout4i8",Kp);var ha=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v,E){var T=this.length;return this.resize(T+1),this.emplace(T,o,h,d,y,v,E)},r.prototype.emplace=function(o,h,d,y,v,E,T){var P=6*o;return this.int16[P+0]=h,this.int16[P+1]=d,this.int16[P+2]=y,this.int16[P+3]=v,this.int16[P+4]=E,this.int16[P+5]=T,o},r}(Pn);ha.prototype.bytesPerElement=12,ht("StructArrayLayout2i4i12",ha);var Gi=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v,E){var T=this.length;return this.resize(T+1),this.emplace(T,o,h,d,y,v,E)},r.prototype.emplace=function(o,h,d,y,v,E,T){var P=4*o,k=8*o;return this.int16[P+0]=h,this.int16[P+1]=d,this.uint8[k+4]=y,this.uint8[k+5]=v,this.uint8[k+6]=E,this.uint8[k+7]=T,o},r}(Pn);Gi.prototype.bytesPerElement=8,ht("StructArrayLayout2i4ub8",Gi);var Js=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h){var d=this.length;return this.resize(d+1),this.emplace(d,o,h)},r.prototype.emplace=function(o,h,d){var y=2*o;return this.float32[y+0]=h,this.float32[y+1]=d,o},r}(Pn);Js.prototype.bytesPerElement=8,ht("StructArrayLayout2f8",Js);var qo=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v,E,T,P,k,A){var F=this.length;return this.resize(F+1),this.emplace(F,o,h,d,y,v,E,T,P,k,A)},r.prototype.emplace=function(o,h,d,y,v,E,T,P,k,A,F){var U=10*o;return this.uint16[U+0]=h,this.uint16[U+1]=d,this.uint16[U+2]=y,this.uint16[U+3]=v,this.uint16[U+4]=E,this.uint16[U+5]=T,this.uint16[U+6]=P,this.uint16[U+7]=k,this.uint16[U+8]=A,this.uint16[U+9]=F,o},r}(Pn);qo.prototype.bytesPerElement=20,ht("StructArrayLayout10ui20",qo);var Qu=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v,E,T,P,k,A,F,U){var ne=this.length;return this.resize(ne+1),this.emplace(ne,o,h,d,y,v,E,T,P,k,A,F,U)},r.prototype.emplace=function(o,h,d,y,v,E,T,P,k,A,F,U,ne){var re=12*o;return this.int16[re+0]=h,this.int16[re+1]=d,this.int16[re+2]=y,this.int16[re+3]=v,this.uint16[re+4]=E,this.uint16[re+5]=T,this.uint16[re+6]=P,this.uint16[re+7]=k,this.int16[re+8]=A,this.int16[re+9]=F,this.int16[re+10]=U,this.int16[re+11]=ne,o},r}(Pn);Qu.prototype.bytesPerElement=24,ht("StructArrayLayout4i4ui4i24",Qu);var Qs=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d){var y=this.length;return this.resize(y+1),this.emplace(y,o,h,d)},r.prototype.emplace=function(o,h,d,y){var v=3*o;return this.float32[v+0]=h,this.float32[v+1]=d,this.float32[v+2]=y,o},r}(Pn);Qs.prototype.bytesPerElement=12,ht("StructArrayLayout3f12",Qs);var Yl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o){var h=this.length;return this.resize(h+1),this.emplace(h,o)},r.prototype.emplace=function(o,h){return this.uint32[1*o+0]=h,o},r}(Pn);Yl.prototype.bytesPerElement=4,ht("StructArrayLayout1ul4",Yl);var Yp=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v,E,T,P,k){var A=this.length;return this.resize(A+1),this.emplace(A,o,h,d,y,v,E,T,P,k)},r.prototype.emplace=function(o,h,d,y,v,E,T,P,k,A){var F=10*o,U=5*o;return this.int16[F+0]=h,this.int16[F+1]=d,this.int16[F+2]=y,this.int16[F+3]=v,this.int16[F+4]=E,this.int16[F+5]=T,this.uint32[U+3]=P,this.uint16[F+8]=k,this.uint16[F+9]=A,o},r}(Pn);Yp.prototype.bytesPerElement=20,ht("StructArrayLayout6i1ul2ui20",Yp);var el=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v,E){var T=this.length;return this.resize(T+1),this.emplace(T,o,h,d,y,v,E)},r.prototype.emplace=function(o,h,d,y,v,E,T){var P=6*o;return this.int16[P+0]=h,this.int16[P+1]=d,this.int16[P+2]=y,this.int16[P+3]=v,this.int16[P+4]=E,this.int16[P+5]=T,o},r}(Pn);el.prototype.bytesPerElement=12,ht("StructArrayLayout2i2i2i12",el);var Ss=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v){var E=this.length;return this.resize(E+1),this.emplace(E,o,h,d,y,v)},r.prototype.emplace=function(o,h,d,y,v,E){var T=4*o,P=8*o;return this.float32[T+0]=h,this.float32[T+1]=d,this.float32[T+2]=y,this.int16[P+6]=v,this.int16[P+7]=E,o},r}(Pn);Ss.prototype.bytesPerElement=16,ht("StructArrayLayout2f1f2i16",Ss);var Jp=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y){var v=this.length;return this.resize(v+1),this.emplace(v,o,h,d,y)},r.prototype.emplace=function(o,h,d,y,v){var E=12*o,T=3*o;return this.uint8[E+0]=h,this.uint8[E+1]=d,this.float32[T+1]=y,this.float32[T+2]=v,o},r}(Pn);Jp.prototype.bytesPerElement=12,ht("StructArrayLayout2ub2f12",Jp);var Fa=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d){var y=this.length;return this.resize(y+1),this.emplace(y,o,h,d)},r.prototype.emplace=function(o,h,d,y){var v=3*o;return this.uint16[v+0]=h,this.uint16[v+1]=d,this.uint16[v+2]=y,o},r}(Pn);Fa.prototype.bytesPerElement=6,ht("StructArrayLayout3ui6",Fa);var Ba=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v,E,T,P,k,A,F,U,ne,re,he,ue,_e){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,o,h,d,y,v,E,T,P,k,A,F,U,ne,re,he,ue,_e)},r.prototype.emplace=function(o,h,d,y,v,E,T,P,k,A,F,U,ne,re,he,ue,_e,Ee){var Ie=24*o,Me=12*o,Fe=48*o;return this.int16[Ie+0]=h,this.int16[Ie+1]=d,this.uint16[Ie+2]=y,this.uint16[Ie+3]=v,this.uint32[Me+2]=E,this.uint32[Me+3]=T,this.uint32[Me+4]=P,this.uint16[Ie+10]=k,this.uint16[Ie+11]=A,this.uint16[Ie+12]=F,this.float32[Me+7]=U,this.float32[Me+8]=ne,this.uint8[Fe+36]=re,this.uint8[Fe+37]=he,this.uint8[Fe+38]=ue,this.uint32[Me+10]=_e,this.int16[Ie+22]=Ee,o},r}(Pn);Ba.prototype.bytesPerElement=48,ht("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ba);var ec=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y,v,E,T,P,k,A,F,U,ne,re,he,ue,_e,Ee,Ie,Me,Fe,qe,Je,bt,it,Pt,ot,Qt){var Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,o,h,d,y,v,E,T,P,k,A,F,U,ne,re,he,ue,_e,Ee,Ie,Me,Fe,qe,Je,bt,it,Pt,ot,Qt)},r.prototype.emplace=function(o,h,d,y,v,E,T,P,k,A,F,U,ne,re,he,ue,_e,Ee,Ie,Me,Fe,qe,Je,bt,it,Pt,ot,Qt,Ot){var _t=34*o,rn=17*o;return this.int16[_t+0]=h,this.int16[_t+1]=d,this.int16[_t+2]=y,this.int16[_t+3]=v,this.int16[_t+4]=E,this.int16[_t+5]=T,this.int16[_t+6]=P,this.int16[_t+7]=k,this.uint16[_t+8]=A,this.uint16[_t+9]=F,this.uint16[_t+10]=U,this.uint16[_t+11]=ne,this.uint16[_t+12]=re,this.uint16[_t+13]=he,this.uint16[_t+14]=ue,this.uint16[_t+15]=_e,this.uint16[_t+16]=Ee,this.uint16[_t+17]=Ie,this.uint16[_t+18]=Me,this.uint16[_t+19]=Fe,this.uint16[_t+20]=qe,this.uint16[_t+21]=Je,this.uint16[_t+22]=bt,this.uint32[rn+12]=it,this.float32[rn+13]=Pt,this.float32[rn+14]=ot,this.float32[rn+15]=Qt,this.float32[rn+16]=Ot,o},r}(Pn);ec.prototype.bytesPerElement=68,ht("StructArrayLayout8i15ui1ul4f68",ec);var Na=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o){var h=this.length;return this.resize(h+1),this.emplace(h,o)},r.prototype.emplace=function(o,h){return this.float32[1*o+0]=h,o},r}(Pn);Na.prototype.bytesPerElement=4,ht("StructArrayLayout1f4",Na);var go=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d){var y=this.length;return this.resize(y+1),this.emplace(y,o,h,d)},r.prototype.emplace=function(o,h,d,y){var v=3*o;return this.int16[v+0]=h,this.int16[v+1]=d,this.int16[v+2]=y,o},r}(Pn);go.prototype.bytesPerElement=6,ht("StructArrayLayout3i6",go);var Qp=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d){var y=this.length;return this.resize(y+1),this.emplace(y,o,h,d)},r.prototype.emplace=function(o,h,d,y){var v=4*o;return this.uint32[2*o+0]=h,this.uint16[v+2]=d,this.uint16[v+3]=y,o},r}(Pn);Qp.prototype.bytesPerElement=8,ht("StructArrayLayout1ul2ui8",Qp);var Jl=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h){var d=this.length;return this.resize(d+1),this.emplace(d,o,h)},r.prototype.emplace=function(o,h,d){var y=2*o;return this.uint16[y+0]=h,this.uint16[y+1]=d,o},r}(Pn);Jl.prototype.bytesPerElement=4,ht("StructArrayLayout2ui4",Jl);var eh=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o){var h=this.length;return this.resize(h+1),this.emplace(h,o)},r.prototype.emplace=function(o,h){return this.uint16[1*o+0]=h,o},r}(Pn);eh.prototype.bytesPerElement=2,ht("StructArrayLayout1ui2",eh);var tc=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,h,d,y){var v=this.length;return this.resize(v+1),this.emplace(v,o,h,d,y)},r.prototype.emplace=function(o,h,d,y,v){var E=4*o;return this.float32[E+0]=h,this.float32[E+1]=d,this.float32[E+2]=y,this.float32[E+3]=v,o},r}(Pn);tc.prototype.bytesPerElement=16,ht("StructArrayLayout4f16",tc);var l=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var o={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return o.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},o.x1.get=function(){return this._structArray.int16[this._pos2+2]},o.y1.get=function(){return this._structArray.int16[this._pos2+3]},o.x2.get=function(){return this._structArray.int16[this._pos2+4]},o.y2.get=function(){return this._structArray.int16[this._pos2+5]},o.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},o.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},o.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},o.anchorPoint.get=function(){return new M(this.anchorPointX,this.anchorPointY)},Object.defineProperties(r.prototype,o),r}(Ju);l.prototype.size=20;var c=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(o){return new l(this,o)},r}(Yp);ht("CollisionBoxArray",c);var u=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var o={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return o.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},o.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},o.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},o.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},o.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},o.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},o.segment.get=function(){return this._structArray.uint16[this._pos2+10]},o.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},o.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},o.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},o.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},o.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},o.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},o.placedOrientation.set=function(h){this._structArray.uint8[this._pos1+37]=h},o.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},o.hidden.set=function(h){this._structArray.uint8[this._pos1+38]=h},o.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},o.crossTileID.set=function(h){this._structArray.uint32[this._pos4+10]=h},o.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(r.prototype,o),r}(Ju);u.prototype.size=48;var f=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(o){return new u(this,o)},r}(Ba);ht("PlacedSymbolArray",f);var g=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var o={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return o.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},o.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},o.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},o.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},o.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},o.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},o.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},o.key.get=function(){return this._structArray.uint16[this._pos2+8]},o.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},o.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},o.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},o.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},o.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},o.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},o.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},o.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},o.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},o.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},o.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},o.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},o.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},o.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},o.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},o.crossTileID.set=function(h){this._structArray.uint32[this._pos4+12]=h},o.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},o.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},o.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},o.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(r.prototype,o),r}(Ju);g.prototype.size=68;var x=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(o){return new g(this,o)},r}(ec);ht("SymbolInstanceArray",x);var w=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getoffsetX=function(o){return this.float32[1*o+0]},r}(Na);ht("GlyphOffsetArray",w);var S=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getx=function(o){return this.int16[3*o+0]},r.prototype.gety=function(o){return this.int16[3*o+1]},r.prototype.gettileUnitDistanceFromAnchor=function(o){return this.int16[3*o+2]},r}(go);ht("SymbolLineVertexArray",S);var I=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var o={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return o.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},o.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},o.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(r.prototype,o),r}(Ju);I.prototype.size=8;var L=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.get=function(o){return new I(this,o)},r}(Qp);ht("FeatureIndexArray",L);var j=ti([{name:"a_pos",components:2,type:"Int16"}],4).members,W=function(t){t===void 0&&(t=[]),this.segments=t};function G(t,r){return 256*(t=q(Math.floor(t),0,255))+q(Math.floor(r),0,255)}W.prototype.prepareSegment=function(t,r,o,h){var d=this.segments[this.segments.length-1];return t>W.MAX_VERTEX_ARRAY_LENGTH&&Qe("Max vertices per segment is "+W.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!d||d.vertexLength+t>W.MAX_VERTEX_ARRAY_LENGTH||d.sortKey!==h)&&(d={vertexOffset:r.length,primitiveOffset:o.length,vertexLength:0,primitiveLength:0},h!==void 0&&(d.sortKey=h),this.segments.push(d)),d},W.prototype.get=function(){return this.segments},W.prototype.destroy=function(){for(var t=0,r=this.segments;t<r.length;t+=1){var o=r[t];for(var h in o.vaos)o.vaos[h].destroy()}},W.simpleSegment=function(t,r,o,h){return new W([{vertexOffset:t,primitiveOffset:r,vertexLength:o,primitiveLength:h,vaos:{},sortKey:0}])},W.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ht("SegmentVector",W);var ae=ti([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ie=_(function(t){t.exports=function(r,o){var h,d,y,v,E,T,P,k;for(d=r.length-(h=3&r.length),y=o,E=3432918353,T=461845907,k=0;k<d;)P=255&r.charCodeAt(k)|(255&r.charCodeAt(++k))<<8|(255&r.charCodeAt(++k))<<16|(255&r.charCodeAt(++k))<<24,++k,y=27492+(65535&(v=5*(65535&(y=(y^=P=(65535&(P=(P=(65535&P)*E+(((P>>>16)*E&65535)<<16)&4294967295)<<15|P>>>17))*T+(((P>>>16)*T&65535)<<16)&4294967295)<<13|y>>>19))+((5*(y>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(P=0,h){case 3:P^=(255&r.charCodeAt(k+2))<<16;case 2:P^=(255&r.charCodeAt(k+1))<<8;case 1:y^=P=(65535&(P=(P=(65535&(P^=255&r.charCodeAt(k)))*E+(((P>>>16)*E&65535)<<16)&4294967295)<<15|P>>>17))*T+(((P>>>16)*T&65535)<<16)&4294967295}return y^=r.length,y=2246822507*(65535&(y^=y>>>16))+((2246822507*(y>>>16)&65535)<<16)&4294967295,y=3266489909*(65535&(y^=y>>>13))+((3266489909*(y>>>16)&65535)<<16)&4294967295,(y^=y>>>16)>>>0}}),pe=_(function(t){t.exports=function(r,o){for(var h,d=r.length,y=o^d,v=0;d>=4;)h=1540483477*(65535&(h=255&r.charCodeAt(v)|(255&r.charCodeAt(++v))<<8|(255&r.charCodeAt(++v))<<16|(255&r.charCodeAt(++v))<<24))+((1540483477*(h>>>16)&65535)<<16),y=1540483477*(65535&y)+((1540483477*(y>>>16)&65535)<<16)^(h=1540483477*(65535&(h^=h>>>24))+((1540483477*(h>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:y^=(255&r.charCodeAt(v+2))<<16;case 2:y^=(255&r.charCodeAt(v+1))<<8;case 1:y=1540483477*(65535&(y^=255&r.charCodeAt(v)))+((1540483477*(y>>>16)&65535)<<16)}return y=1540483477*(65535&(y^=y>>>13))+((1540483477*(y>>>16)&65535)<<16),(y^=y>>>15)>>>0}}),te=ie,ce=pe;te.murmur3=ie,te.murmur2=ce;var ge=function(){this.ids=[],this.positions=[],this.indexed=!1};ge.prototype.add=function(t,r,o,h){this.ids.push(Ae(t)),this.positions.push(r,o,h)},ge.prototype.getPositions=function(t){for(var r=Ae(t),o=0,h=this.ids.length-1;o<h;){var d=o+h>>1;this.ids[d]>=r?h=d:o=d+1}for(var y=[];this.ids[o]===r;)y.push({index:this.positions[3*o],start:this.positions[3*o+1],end:this.positions[3*o+2]}),o++;return y},ge.serialize=function(t,r){var o=new Float64Array(t.ids),h=new Uint32Array(t.positions);return function d(y,v,E,T){for(;E<T;){for(var P=y[E+T>>1],k=E-1,A=T+1;;){do k++;while(y[k]<P);do A--;while(y[A]>P);if(k>=A)break;ke(y,k,A),ke(v,3*k,3*A),ke(v,3*k+1,3*A+1),ke(v,3*k+2,3*A+2)}A-E<T-A?(d(y,v,E,A),E=A+1):(d(y,v,A+1,T),T=A)}}(o,h,0,o.length-1),r&&r.push(o.buffer,h.buffer),{ids:o,positions:h}},ge.deserialize=function(t){var r=new ge;return r.ids=t.ids,r.positions=t.positions,r.indexed=!0,r};var we=Math.pow(2,53)-1;function Ae(t){var r=+t;return!isNaN(r)&&r<=we?r:te(String(t))}function ke(t,r,o){var h=t[r];t[r]=t[o],t[o]=h}ht("FeaturePositionMap",ge);var Re=function(t,r){this.gl=t.gl,this.location=r},Be=function(t){function r(o,h){t.call(this,o,h),this.current=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))},r}(Re),Ge=function(t){function r(o,h){t.call(this,o,h),this.current=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))},r}(Re),Ze=function(t){function r(o,h){t.call(this,o,h),this.current=[0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))},r}(Re),lt=function(t){function r(o,h){t.call(this,o,h),this.current=[0,0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))},r}(Re),Ct=function(t){function r(o,h){t.call(this,o,h),this.current=[0,0,0,0]}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))},r}(Re),At=function(t){function r(o,h){t.call(this,o,h),this.current=tn.transparent}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))},r}(Re),Mt=new Float32Array(16),yn=function(t){function r(o,h){t.call(this,o,h),this.current=Mt}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.set=function(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(var h=1;h<16;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}},r}(Re);function pt(t){return[G(255*t.r,255*t.g),G(255*t.b,255*t.a)]}var Vt=function(t,r,o){this.value=t,this.uniformNames=r.map(function(h){return"u_"+h}),this.type=o};Vt.prototype.setUniform=function(t,r,o){t.set(o.constantOr(this.value))},Vt.prototype.getBinding=function(t,r,o){return this.type==="color"?new At(t,r):new Ge(t,r)};var Jt=function(t,r){this.uniformNames=r.map(function(o){return"u_"+o}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Jt.prototype.setConstantPatternPositions=function(t,r){this.pixelRatioFrom=r.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=r.tlbr,this.patternTo=t.tlbr},Jt.prototype.setUniform=function(t,r,o,h){var d=h==="u_pattern_to"?this.patternTo:h==="u_pattern_from"?this.patternFrom:h==="u_pixel_ratio_to"?this.pixelRatioTo:h==="u_pixel_ratio_from"?this.pixelRatioFrom:null;d&&t.set(d)},Jt.prototype.getBinding=function(t,r,o){return o.substr(0,9)==="u_pattern"?new Ct(t,r):new Ge(t,r)};var Ut=function(t,r,o,h){this.expression=t,this.type=o,this.maxValue=0,this.paintVertexAttributes=r.map(function(d){return{name:"a_"+d,type:"Float32",components:o==="color"?2:1,offset:0}}),this.paintVertexArray=new h};Ut.prototype.populatePaintArray=function(t,r,o,h,d){var y=this.paintVertexArray.length,v=this.expression.evaluate(new an(0),r,{},h,[],d);this.paintVertexArray.resize(t),this._setPaintValue(y,t,v)},Ut.prototype.updatePaintArray=function(t,r,o,h){var d=this.expression.evaluate({zoom:0},o,h);this._setPaintValue(t,r,d)},Ut.prototype._setPaintValue=function(t,r,o){if(this.type==="color")for(var h=pt(o),d=t;d<r;d++)this.paintVertexArray.emplace(d,h[0],h[1]);else{for(var y=t;y<r;y++)this.paintVertexArray.emplace(y,o);this.maxValue=Math.max(this.maxValue,Math.abs(o))}},Ut.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ut.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Bt=function(t,r,o,h,d,y){this.expression=t,this.uniformNames=r.map(function(v){return"u_"+v+"_t"}),this.type=o,this.useIntegerZoom=h,this.zoom=d,this.maxValue=0,this.paintVertexAttributes=r.map(function(v){return{name:"a_"+v,type:"Float32",components:o==="color"?4:2,offset:0}}),this.paintVertexArray=new y};Bt.prototype.populatePaintArray=function(t,r,o,h,d){var y=this.expression.evaluate(new an(this.zoom),r,{},h,[],d),v=this.expression.evaluate(new an(this.zoom+1),r,{},h,[],d),E=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(E,t,y,v)},Bt.prototype.updatePaintArray=function(t,r,o,h){var d=this.expression.evaluate({zoom:this.zoom},o,h),y=this.expression.evaluate({zoom:this.zoom+1},o,h);this._setPaintValue(t,r,d,y)},Bt.prototype._setPaintValue=function(t,r,o,h){if(this.type==="color")for(var d=pt(o),y=pt(h),v=t;v<r;v++)this.paintVertexArray.emplace(v,d[0],d[1],y[0],y[1]);else{for(var E=t;E<r;E++)this.paintVertexArray.emplace(E,o,h);this.maxValue=Math.max(this.maxValue,Math.abs(o),Math.abs(h))}},Bt.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Bt.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Bt.prototype.setUniform=function(t,r){var o=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,h=q(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(h)},Bt.prototype.getBinding=function(t,r,o){return new Ge(t,r)};var Kt=function(t,r,o,h,d,y){this.expression=t,this.type=r,this.useIntegerZoom=o,this.zoom=h,this.layerId=y,this.zoomInPaintVertexArray=new d,this.zoomOutPaintVertexArray=new d};Kt.prototype.populatePaintArray=function(t,r,o){var h=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(h,t,r.patterns&&r.patterns[this.layerId],o)},Kt.prototype.updatePaintArray=function(t,r,o,h,d){this._setPaintValues(t,r,o.patterns&&o.patterns[this.layerId],d)},Kt.prototype._setPaintValues=function(t,r,o,h){if(h&&o){var d=h[o.min],y=h[o.mid],v=h[o.max];if(d&&y&&v)for(var E=t;E<r;E++)this.zoomInPaintVertexArray.emplace(E,y.tl[0],y.tl[1],y.br[0],y.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1],y.pixelRatio,d.pixelRatio),this.zoomOutPaintVertexArray.emplace(E,y.tl[0],y.tl[1],y.br[0],y.br[1],v.tl[0],v.tl[1],v.br[0],v.br[1],y.pixelRatio,v.pixelRatio)}},Kt.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,ae.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,ae.members,this.expression.isStateDependent))},Kt.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Dt=function(t,r,o){this.binders={},this._buffers=[];var h=[];for(var d in t.paint._values)if(o(d)){var y=t.paint.get(d);if(y instanceof xi&&vs(y.property.specification)){var v=Wr(d,t.type),E=y.value,T=y.property.specification.type,P=y.property.useIntegerZoom,k=y.property.specification["property-type"],A=k==="cross-faded"||k==="cross-faded-data-driven";if(E.kind==="constant")this.binders[d]=A?new Jt(E.value,v):new Vt(E.value,v,T),h.push("/u_"+d);else if(E.kind==="source"||A){var F=cr(d,T,"source");this.binders[d]=A?new Kt(E,T,P,r,F,t.id):new Ut(E,v,T,F),h.push("/a_"+d)}else{var U=cr(d,T,"composite");this.binders[d]=new Bt(E,v,T,P,r,U),h.push("/z_"+d)}}}this.cacheKey=h.sort().join("")};Dt.prototype.getMaxValue=function(t){var r=this.binders[t];return r instanceof Ut||r instanceof Bt?r.maxValue:0},Dt.prototype.populatePaintArrays=function(t,r,o,h,d){for(var y in this.binders){var v=this.binders[y];(v instanceof Ut||v instanceof Bt||v instanceof Kt)&&v.populatePaintArray(t,r,o,h,d)}},Dt.prototype.setConstantPatternPositions=function(t,r){for(var o in this.binders){var h=this.binders[o];h instanceof Jt&&h.setConstantPatternPositions(t,r)}},Dt.prototype.updatePaintArrays=function(t,r,o,h,d){var y=!1;for(var v in t)for(var E=0,T=r.getPositions(v);E<T.length;E+=1){var P=T[E],k=o.feature(P.index);for(var A in this.binders){var F=this.binders[A];if((F instanceof Ut||F instanceof Bt||F instanceof Kt)&&F.expression.isStateDependent===!0){var U=h.paint.get(A);F.expression=U.value,F.updatePaintArray(P.start,P.end,k,t[v],d),y=!0}}}return y},Dt.prototype.defines=function(){var t=[];for(var r in this.binders){var o=this.binders[r];(o instanceof Vt||o instanceof Jt)&&t.push.apply(t,o.uniformNames.map(function(h){return"#define HAS_UNIFORM_"+h}))}return t},Dt.prototype.getBinderAttributes=function(){var t=[];for(var r in this.binders){var o=this.binders[r];if(o instanceof Ut||o instanceof Bt)for(var h=0;h<o.paintVertexAttributes.length;h++)t.push(o.paintVertexAttributes[h].name);else if(o instanceof Kt)for(var d=0;d<ae.members.length;d++)t.push(ae.members[d].name)}return t},Dt.prototype.getBinderUniforms=function(){var t=[];for(var r in this.binders){var o=this.binders[r];if(o instanceof Vt||o instanceof Jt||o instanceof Bt)for(var h=0,d=o.uniformNames;h<d.length;h+=1)t.push(d[h])}return t},Dt.prototype.getPaintVertexBuffers=function(){return this._buffers},Dt.prototype.getUniforms=function(t,r){var o=[];for(var h in this.binders){var d=this.binders[h];if(d instanceof Vt||d instanceof Jt||d instanceof Bt)for(var y=0,v=d.uniformNames;y<v.length;y+=1){var E=v[y];if(r[E]){var T=d.getBinding(t,r[E],E);o.push({name:E,property:h,binding:T})}}}return o},Dt.prototype.setUniforms=function(t,r,o,h){for(var d=0,y=r;d<y.length;d+=1){var v=y[d],E=v.name,T=v.property;this.binders[T].setUniform(v.binding,h,o.get(T),E)}},Dt.prototype.updatePaintBuffers=function(t){for(var r in this._buffers=[],this.binders){var o=this.binders[r];if(t&&o instanceof Kt){var h=t.fromScale===2?o.zoomInPaintVertexBuffer:o.zoomOutPaintVertexBuffer;h&&this._buffers.push(h)}else(o instanceof Ut||o instanceof Bt)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}},Dt.prototype.upload=function(t){for(var r in this.binders){var o=this.binders[r];(o instanceof Ut||o instanceof Bt||o instanceof Kt)&&o.upload(t)}this.updatePaintBuffers()},Dt.prototype.destroy=function(){for(var t in this.binders){var r=this.binders[t];(r instanceof Ut||r instanceof Bt||r instanceof Kt)&&r.destroy()}};var Lt=function(t,r,o){o===void 0&&(o=function(){return!0}),this.programConfigurations={};for(var h=0,d=t;h<d.length;h+=1){var y=d[h];this.programConfigurations[y.id]=new Dt(y,r,o)}this.needsUpload=!1,this._featureMap=new ge,this._bufferOffset=0};function Wr(t,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(r+"-","").replace(/-/g,"_")]}function cr(t,r,o){var h={color:{source:Js,composite:tc},number:{source:Na,composite:Js}},d=function(y){return{"line-pattern":{source:qo,composite:qo},"fill-pattern":{source:qo,composite:qo},"fill-extrusion-pattern":{source:qo,composite:qo}}[y]}(t);return d&&d[o]||h[r][o]}Lt.prototype.populatePaintArrays=function(t,r,o,h,d,y){for(var v in this.programConfigurations)this.programConfigurations[v].populatePaintArrays(t,r,h,d,y);r.id!==void 0&&this._featureMap.add(r.id,o,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Lt.prototype.updatePaintArrays=function(t,r,o,h){for(var d=0,y=o;d<y.length;d+=1){var v=y[d];this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(t,this._featureMap,r,v,h)||this.needsUpload}},Lt.prototype.get=function(t){return this.programConfigurations[t]},Lt.prototype.upload=function(t){if(this.needsUpload){for(var r in this.programConfigurations)this.programConfigurations[r].upload(t);this.needsUpload=!1}},Lt.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},ht("ConstantBinder",Vt),ht("CrossFadedConstantBinder",Jt),ht("SourceExpressionBinder",Ut),ht("CrossFadedCompositeBinder",Kt),ht("CompositeExpressionBinder",Bt),ht("ProgramConfiguration",Dt,{omit:["_buffers"]}),ht("ProgramConfigurationSet",Lt);var yi=Math.pow(2,14)-1,ni=-yi-1;function ir(t){for(var r=8192/t.extent,o=t.loadGeometry(),h=0;h<o.length;h++)for(var d=o[h],y=0;y<d.length;y++){var v=d[y],E=Math.round(v.x*r),T=Math.round(v.y*r);v.x=q(E,ni,yi),v.y=q(T,ni,yi),(E<v.x||E>v.x+1||T<v.y||T>v.y+1)&&Qe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return o}function _r(t,r){return{type:t.type,id:t.id,properties:t.properties,geometry:r?ir(t):[]}}function Hi(t,r,o,h,d){t.emplaceBack(2*r+(h+1)/2,2*o+(d+1)/2)}var wi=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Es,this.indexArray=new Fa,this.segments=new W,this.programConfigurations=new Lt(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function Ua(t,r){for(var o=0;o<t.length;o++)if(Wo(r,t[o]))return!0;for(var h=0;h<r.length;h++)if(Wo(t,r[h]))return!0;return!!Ql(t,r)}function Mi(t,r,o){return!!Wo(t,r)||!!Va(r,t,o)}function Lo(t,r){if(t.length===1)return eu(r,t[0]);for(var o=0;o<r.length;o++)for(var h=r[o],d=0;d<h.length;d++)if(Wo(t,h[d]))return!0;for(var y=0;y<t.length;y++)if(eu(r,t[y]))return!0;for(var v=0;v<r.length;v++)if(Ql(t,r[v]))return!0;return!1}function vo(t,r,o){if(t.length>1){if(Ql(t,r))return!0;for(var h=0;h<r.length;h++)if(Va(r[h],t,o))return!0}for(var d=0;d<t.length;d++)if(Va(t[d],r,o))return!0;return!1}function Ql(t,r){if(t.length===0||r.length===0)return!1;for(var o=0;o<t.length-1;o++)for(var h=t[o],d=t[o+1],y=0;y<r.length-1;y++)if(tl(h,d,r[y],r[y+1]))return!0;return!1}function tl(t,r,o,h){return Ke(t,o,h)!==Ke(r,o,h)&&Ke(t,r,o)!==Ke(t,r,h)}function Va(t,r,o){var h=o*o;if(r.length===1)return t.distSqr(r[0])<h;for(var d=1;d<r.length;d++)if(nl(t,r[d-1],r[d])<h)return!0;return!1}function nl(t,r,o){var h=r.distSqr(o);if(h===0)return t.distSqr(r);var d=((t.x-r.x)*(o.x-r.x)+(t.y-r.y)*(o.y-r.y))/h;return t.distSqr(d<0?r:d>1?o:o.sub(r)._mult(d)._add(r))}function eu(t,r){for(var o,h,d,y=!1,v=0;v<t.length;v++)for(var E=0,T=(o=t[v]).length-1;E<o.length;T=E++)(h=o[E]).y>r.y!=(d=o[T]).y>r.y&&r.x<(d.x-h.x)*(r.y-h.y)/(d.y-h.y)+h.x&&(y=!y);return y}function Wo(t,r){for(var o=!1,h=0,d=t.length-1;h<t.length;d=h++){var y=t[h],v=t[d];y.y>r.y!=v.y>r.y&&r.x<(v.x-y.x)*(r.y-y.y)/(v.y-y.y)+y.x&&(o=!o)}return o}function tu(t,r,o){var h=o[0],d=o[2];if(t.x<h.x&&r.x<h.x||t.x>d.x&&r.x>d.x||t.y<h.y&&r.y<h.y||t.y>d.y&&r.y>d.y)return!1;var y=Ke(t,r,o[0]);return y!==Ke(t,r,o[1])||y!==Ke(t,r,o[2])||y!==Ke(t,r,o[3])}function Zo(t,r,o){var h=r.paint.get(t).value;return h.kind==="constant"?h.value:o.programConfigurations.get(r.id).getMaxValue(t)}function Zr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function fa(t,r,o,h,d){if(!r[0]&&!r[1])return t;var y=M.convert(r)._mult(d);o==="viewport"&&y._rotate(-h);for(var v=[],E=0;E<t.length;E++)v.push(t[E].sub(y));return v}wi.prototype.populate=function(t,r,o){var h=this.layers[0],d=[],y=null;h.type==="circle"&&(y=h.layout.get("circle-sort-key"));for(var v=0,E=t;v<E.length;v+=1){var T=E[v],P=T.feature,k=T.id,A=T.index,F=T.sourceLayerIndex,U=this.layers[0]._featureFilter.needGeometry,ne=_r(P,U);if(this.layers[0]._featureFilter.filter(new an(this.zoom),ne,o)){var re=y?y.evaluate(ne,{},o):void 0,he={id:k,properties:P.properties,type:P.type,sourceLayerIndex:F,index:A,geometry:U?ne.geometry:ir(P),patterns:{},sortKey:re};d.push(he)}}y&&d.sort(function(Je,bt){return Je.sortKey-bt.sortKey});for(var ue=0,_e=d;ue<_e.length;ue+=1){var Ee=_e[ue],Ie=Ee.geometry,Me=Ee.index,Fe=Ee.sourceLayerIndex,qe=t[Me].feature;this.addFeature(Ee,Ie,Me,o),r.featureIndex.insert(qe,Ie,Me,Fe,this.index)}},wi.prototype.update=function(t,r,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,o)},wi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},wi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wi.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,j),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},wi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},wi.prototype.addFeature=function(t,r,o,h){for(var d=0,y=r;d<y.length;d+=1)for(var v=0,E=y[d];v<E.length;v+=1){var T=E[v],P=T.x,k=T.y;if(!(P<0||P>=8192||k<0||k>=8192)){var A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),F=A.vertexLength;Hi(this.layoutVertexArray,P,k,-1,-1),Hi(this.layoutVertexArray,P,k,1,-1),Hi(this.layoutVertexArray,P,k,1,1),Hi(this.layoutVertexArray,P,k,-1,1),this.indexArray.emplaceBack(F,F+1,F+2),this.indexArray.emplaceBack(F,F+3,F+2),A.vertexLength+=4,A.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,{},h)},ht("CircleBucket",wi,{omit:["layers"]});var ja=new hi({"circle-sort-key":new vt(Z.layout_circle["circle-sort-key"])}),Ts={paint:new hi({"circle-radius":new vt(Z.paint_circle["circle-radius"]),"circle-color":new vt(Z.paint_circle["circle-color"]),"circle-blur":new vt(Z.paint_circle["circle-blur"]),"circle-opacity":new vt(Z.paint_circle["circle-opacity"]),"circle-translate":new Tt(Z.paint_circle["circle-translate"]),"circle-translate-anchor":new Tt(Z.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Tt(Z.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Tt(Z.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new vt(Z.paint_circle["circle-stroke-width"]),"circle-stroke-color":new vt(Z.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new vt(Z.paint_circle["circle-stroke-opacity"])}),layout:ja},Sn=typeof Float32Array!="undefined"?Float32Array:Array;function io(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ai(t,r,o){var h=r[0],d=r[1],y=r[2],v=r[3],E=r[4],T=r[5],P=r[6],k=r[7],A=r[8],F=r[9],U=r[10],ne=r[11],re=r[12],he=r[13],ue=r[14],_e=r[15],Ee=o[0],Ie=o[1],Me=o[2],Fe=o[3];return t[0]=Ee*h+Ie*E+Me*A+Fe*re,t[1]=Ee*d+Ie*T+Me*F+Fe*he,t[2]=Ee*y+Ie*P+Me*U+Fe*ue,t[3]=Ee*v+Ie*k+Me*ne+Fe*_e,t[4]=(Ee=o[4])*h+(Ie=o[5])*E+(Me=o[6])*A+(Fe=o[7])*re,t[5]=Ee*d+Ie*T+Me*F+Fe*he,t[6]=Ee*y+Ie*P+Me*U+Fe*ue,t[7]=Ee*v+Ie*k+Me*ne+Fe*_e,t[8]=(Ee=o[8])*h+(Ie=o[9])*E+(Me=o[10])*A+(Fe=o[11])*re,t[9]=Ee*d+Ie*T+Me*F+Fe*he,t[10]=Ee*y+Ie*P+Me*U+Fe*ue,t[11]=Ee*v+Ie*k+Me*ne+Fe*_e,t[12]=(Ee=o[12])*h+(Ie=o[13])*E+(Me=o[14])*A+(Fe=o[15])*re,t[13]=Ee*d+Ie*T+Me*F+Fe*he,t[14]=Ee*y+Ie*P+Me*U+Fe*ue,t[15]=Ee*v+Ie*k+Me*ne+Fe*_e,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,r=0,o=arguments.length;o--;)r+=t[o]*t[o];return Math.sqrt(r)});var Cs,Sg=Ai;function nc(t,r,o){var h=r[0],d=r[1],y=r[2],v=r[3];return t[0]=o[0]*h+o[4]*d+o[8]*y+o[12]*v,t[1]=o[1]*h+o[5]*d+o[9]*y+o[13]*v,t[2]=o[2]*h+o[6]*d+o[10]*y+o[14]*v,t[3]=o[3]*h+o[7]*d+o[11]*y+o[15]*v,t}Cs=new Sn(3),Sn!=Float32Array&&(Cs[0]=0,Cs[1]=0,Cs[2]=0),function(){var t=new Sn(4);Sn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var Tg=(function(){var t=new Sn(2);Sn!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function r(o){t.call(this,o,Ts)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(o){return new wi(o)},r.prototype.queryRadius=function(o){var h=o;return Zo("circle-radius",this,h)+Zo("circle-stroke-width",this,h)+Zr(this.paint.get("circle-translate"))},r.prototype.queryIntersectsFeature=function(o,h,d,y,v,E,T,P){for(var k=fa(o,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),E.angle,T),A=this.paint.get("circle-radius").evaluate(h,d)+this.paint.get("circle-stroke-width").evaluate(h,d),F=this.paint.get("circle-pitch-alignment")==="map",U=F?k:function(qe,Je){return qe.map(function(bt){return nu(bt,Je)})}(k,P),ne=F?A*T:A,re=0,he=y;re<he.length;re+=1)for(var ue=0,_e=he[re];ue<_e.length;ue+=1){var Ee=_e[ue],Ie=F?Ee:nu(Ee,P),Me=ne,Fe=nc([],[Ee.x,Ee.y,0,1],P);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Me*=Fe[3]/E.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Me*=E.cameraToCenterDistance/Fe[3]),Mi(U,Ie,Me))return!0}return!1},r}($o));function nu(t,r){var o=nc([],[t.x,t.y,0,1],r);return new M(o[0]/o[3],o[1]/o[3])}var Od=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}(wi);function rl(t,r,o,h){var d=r.width,y=r.height;if(h){if(h instanceof Uint8ClampedArray)h=new Uint8Array(h.buffer);else if(h.length!==d*y*o)throw new RangeError("mismatched image size")}else h=new Uint8Array(d*y*o);return t.width=d,t.height=y,t.data=h,t}function rc(t,r,o){var h=r.width,d=r.height;if(h!==t.width||d!==t.height){var y=rl({},{width:h,height:d},o);Cg(t,y,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,h),height:Math.min(t.height,d)},o),t.width=h,t.height=d,t.data=y.data}}function Cg(t,r,o,h,d,y){if(d.width===0||d.height===0)return r;if(d.width>t.width||d.height>t.height||o.x>t.width-d.width||o.y>t.height-d.height)throw new RangeError("out of range source coordinates for image copy");if(d.width>r.width||d.height>r.height||h.x>r.width-d.width||h.y>r.height-d.height)throw new RangeError("out of range destination coordinates for image copy");for(var v=t.data,E=r.data,T=0;T<d.height;T++)for(var P=((o.y+T)*t.width+o.x)*y,k=((h.y+T)*r.width+h.x)*y,A=0;A<d.width*y;A++)E[k+A]=v[P+A];return r}ht("HeatmapBucket",Od,{omit:["layers"]});var ru=function(t,r){rl(this,t,1,r)};ru.prototype.resize=function(t){rc(this,t,1)},ru.prototype.clone=function(){return new ru({width:this.width,height:this.height},new Uint8Array(this.data))},ru.copy=function(t,r,o,h,d){Cg(t,r,o,h,d,1)};var Xi=function(t,r){rl(this,t,4,r)};Xi.prototype.resize=function(t){rc(this,t,4)},Xi.prototype.replace=function(t,r){r?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},Xi.prototype.clone=function(){return new Xi({width:this.width,height:this.height},new Uint8Array(this.data))},Xi.copy=function(t,r,o,h,d){Cg(t,r,o,h,d,4)},ht("AlphaImage",ru),ht("RGBAImage",Xi);var HC={paint:new hi({"heatmap-radius":new vt(Z.paint_heatmap["heatmap-radius"]),"heatmap-weight":new vt(Z.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Tt(Z.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ro(Z.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Tt(Z.paint_heatmap["heatmap-opacity"])})};function Mx(t){var r={},o=t.resolution||256,h=t.clips?t.clips.length:1,d=t.image||new Xi({width:o,height:h}),y=function(ne,re,he){r[t.evaluationKey]=he;var ue=t.expression.evaluate(r);d.data[ne+re+0]=Math.floor(255*ue.r/ue.a),d.data[ne+re+1]=Math.floor(255*ue.g/ue.a),d.data[ne+re+2]=Math.floor(255*ue.b/ue.a),d.data[ne+re+3]=Math.floor(255*ue.a)};if(t.clips)for(var v=0,E=0;v<h;++v,E+=4*o)for(var T=0,P=0;T<o;T++,P+=4){var k=T/(o-1),A=t.clips[v];y(E,P,A.start*(1-k)+A.end*k)}else for(var F=0,U=0;F<o;F++,U+=4)y(0,U,F/(o-1));return d}var XC=function(t){function r(o){t.call(this,o,HC),this._updateColorRamp()}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(o){return new Od(o)},r.prototype._handleSpecialPaintPropertyUpdate=function(o){o==="heatmap-color"&&this._updateColorRamp()},r.prototype._updateColorRamp=function(){this.colorRamp=Mx({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},r.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},r}($o),KC={paint:new hi({"hillshade-illumination-direction":new Tt(Z.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Tt(Z.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Tt(Z.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Tt(Z.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Tt(Z.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Tt(Z.paint_hillshade["hillshade-accent-color"])})},YC=function(t){function r(o){t.call(this,o,KC)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},r}($o),JC=ti([{name:"a_pos",components:2,type:"Int16"}],4).members,Pg=Dd,QC=Dd;function Dd(t,r,o){o=o||2;var h,d,y,v,E,T,P,k=r&&r.length,A=k?r[0]*o:t.length,F=Ax(t,0,A,o,!0),U=[];if(!F||F.next===F.prev)return U;if(k&&(F=function(re,he,ue,_e){var Ee,Ie,Me,Fe=[];for(Ee=0,Ie=he.length;Ee<Ie;Ee++)(Me=Ax(re,he[Ee]*_e,Ee<Ie-1?he[Ee+1]*_e:re.length,_e,!1))===Me.next&&(Me.steiner=!0),Fe.push(sP(Me));for(Fe.sort(iP),Ee=0;Ee<Fe.length;Ee++)oP(Fe[Ee],ue),ue=il(ue,ue.next);return ue}(t,r,F,o)),t.length>80*o){h=y=t[0],d=v=t[1];for(var ne=o;ne<A;ne+=o)(E=t[ne])<h&&(h=E),(T=t[ne+1])<d&&(d=T),E>y&&(y=E),T>v&&(v=T);P=(P=Math.max(y-h,v-d))!==0?1/P:0}return th(F,U,o,h,d,P),U}function Ax(t,r,o,h,d){var y,v;if(d===Mg(t,r,o,h)>0)for(y=r;y<o;y+=h)v=Lx(y,t[y],t[y+1],v);else for(y=o-h;y>=r;y-=h)v=Lx(y,t[y],t[y+1],v);return v&&Fd(v,v.next)&&(rh(v),v=v.next),v}function il(t,r){if(!t)return t;r||(r=t);var o,h=t;do if(o=!1,h.steiner||!Fd(h,h.next)&&Fr(h.prev,h,h.next)!==0)h=h.next;else{if(rh(h),(h=r=h.prev)===h.next)break;o=!0}while(o||h!==r);return r}function th(t,r,o,h,d,y,v){if(t){!v&&y&&function(k,A,F,U){var ne=k;do ne.z===null&&(ne.z=Ig(ne.x,ne.y,A,F,U)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next;while(ne!==k);ne.prevZ.nextZ=null,ne.prevZ=null,function(re){var he,ue,_e,Ee,Ie,Me,Fe,qe,Je=1;do{for(ue=re,re=null,Ie=null,Me=0;ue;){for(Me++,_e=ue,Fe=0,he=0;he<Je&&(Fe++,_e=_e.nextZ);he++);for(qe=Je;Fe>0||qe>0&&_e;)Fe!==0&&(qe===0||!_e||ue.z<=_e.z)?(Ee=ue,ue=ue.nextZ,Fe--):(Ee=_e,_e=_e.nextZ,qe--),Ie?Ie.nextZ=Ee:re=Ee,Ee.prevZ=Ie,Ie=Ee;ue=_e}Ie.nextZ=null,Je*=2}while(Me>1)}(ne)}(t,h,d,y);for(var E,T,P=t;t.prev!==t.next;)if(E=t.prev,T=t.next,y?tP(t,h,d,y):eP(t))r.push(E.i/o),r.push(t.i/o),r.push(T.i/o),rh(t),t=T.next,P=T.next;else if((t=T)===P){v?v===1?th(t=nP(il(t),r,o),r,o,h,d,y,2):v===2&&rP(t,r,o,h,d,y):th(il(t),r,o,h,d,y,1);break}}}function eP(t){var r=t.prev,o=t,h=t.next;if(Fr(r,o,h)>=0)return!1;for(var d=t.next.next;d!==t.prev;){if(ic(r.x,r.y,o.x,o.y,h.x,h.y,d.x,d.y)&&Fr(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function tP(t,r,o,h){var d=t.prev,y=t,v=t.next;if(Fr(d,y,v)>=0)return!1;for(var E=d.x>y.x?d.x>v.x?d.x:v.x:y.x>v.x?y.x:v.x,T=d.y>y.y?d.y>v.y?d.y:v.y:y.y>v.y?y.y:v.y,P=Ig(d.x<y.x?d.x<v.x?d.x:v.x:y.x<v.x?y.x:v.x,d.y<y.y?d.y<v.y?d.y:v.y:y.y<v.y?y.y:v.y,r,o,h),k=Ig(E,T,r,o,h),A=t.prevZ,F=t.nextZ;A&&A.z>=P&&F&&F.z<=k;){if(A!==t.prev&&A!==t.next&&ic(d.x,d.y,y.x,y.y,v.x,v.y,A.x,A.y)&&Fr(A.prev,A,A.next)>=0||(A=A.prevZ,F!==t.prev&&F!==t.next&&ic(d.x,d.y,y.x,y.y,v.x,v.y,F.x,F.y)&&Fr(F.prev,F,F.next)>=0))return!1;F=F.nextZ}for(;A&&A.z>=P;){if(A!==t.prev&&A!==t.next&&ic(d.x,d.y,y.x,y.y,v.x,v.y,A.x,A.y)&&Fr(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;F&&F.z<=k;){if(F!==t.prev&&F!==t.next&&ic(d.x,d.y,y.x,y.y,v.x,v.y,F.x,F.y)&&Fr(F.prev,F,F.next)>=0)return!1;F=F.nextZ}return!0}function nP(t,r,o){var h=t;do{var d=h.prev,y=h.next.next;!Fd(d,y)&&zx(d,h,h.next,y)&&nh(d,y)&&nh(y,d)&&(r.push(d.i/o),r.push(h.i/o),r.push(y.i/o),rh(h),rh(h.next),h=t=y),h=h.next}while(h!==t);return il(h)}function rP(t,r,o,h,d,y){var v=t;do{for(var E=v.next.next;E!==v.prev;){if(v.i!==E.i&&lP(v,E)){var T=Rx(v,E);return v=il(v,v.next),T=il(T,T.next),th(v,r,o,h,d,y),void th(T,r,o,h,d,y)}E=E.next}v=v.next}while(v!==t)}function iP(t,r){return t.x-r.x}function oP(t,r){if(r=function(h,d){var y,v=d,E=h.x,T=h.y,P=-1/0;do{if(T<=v.y&&T>=v.next.y&&v.next.y!==v.y){var k=v.x+(T-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(k<=E&&k>P){if(P=k,k===E){if(T===v.y)return v;if(T===v.next.y)return v.next}y=v.x<v.next.x?v:v.next}}v=v.next}while(v!==d);if(!y)return null;if(E===P)return y;var A,F=y,U=y.x,ne=y.y,re=1/0;v=y;do E>=v.x&&v.x>=U&&E!==v.x&&ic(T<ne?E:P,T,U,ne,T<ne?P:E,T,v.x,v.y)&&(A=Math.abs(T-v.y)/(E-v.x),nh(v,h)&&(A<re||A===re&&(v.x>y.x||v.x===y.x&&aP(y,v)))&&(y=v,re=A)),v=v.next;while(v!==F);return y}(t,r)){var o=Rx(r,t);il(r,r.next),il(o,o.next)}}function aP(t,r){return Fr(t.prev,t,r.prev)<0&&Fr(r.next,t,t.next)<0}function Ig(t,r,o,h,d){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-o)*d)|t<<8))|t<<4))|t<<2))|t<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-h)*d)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function sP(t){var r=t,o=t;do(r.x<o.x||r.x===o.x&&r.y<o.y)&&(o=r),r=r.next;while(r!==t);return o}function ic(t,r,o,h,d,y,v,E){return(d-v)*(r-E)-(t-v)*(y-E)>=0&&(t-v)*(h-E)-(o-v)*(r-E)>=0&&(o-v)*(y-E)-(d-v)*(h-E)>=0}function lP(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!function(o,h){var d=o;do{if(d.i!==o.i&&d.next.i!==o.i&&d.i!==h.i&&d.next.i!==h.i&&zx(d,d.next,o,h))return!0;d=d.next}while(d!==o);return!1}(t,r)&&(nh(t,r)&&nh(r,t)&&function(o,h){var d=o,y=!1,v=(o.x+h.x)/2,E=(o.y+h.y)/2;do d.y>E!=d.next.y>E&&d.next.y!==d.y&&v<(d.next.x-d.x)*(E-d.y)/(d.next.y-d.y)+d.x&&(y=!y),d=d.next;while(d!==o);return y}(t,r)&&(Fr(t.prev,t,r.prev)||Fr(t,r.prev,r))||Fd(t,r)&&Fr(t.prev,t,t.next)>0&&Fr(r.prev,r,r.next)>0)}function Fr(t,r,o){return(r.y-t.y)*(o.x-r.x)-(r.x-t.x)*(o.y-r.y)}function Fd(t,r){return t.x===r.x&&t.y===r.y}function zx(t,r,o,h){var d=Nd(Fr(t,r,o)),y=Nd(Fr(t,r,h)),v=Nd(Fr(o,h,t)),E=Nd(Fr(o,h,r));return d!==y&&v!==E||!(d!==0||!Bd(t,o,r))||!(y!==0||!Bd(t,h,r))||!(v!==0||!Bd(o,t,h))||!(E!==0||!Bd(o,r,h))}function Bd(t,r,o){return r.x<=Math.max(t.x,o.x)&&r.x>=Math.min(t.x,o.x)&&r.y<=Math.max(t.y,o.y)&&r.y>=Math.min(t.y,o.y)}function Nd(t){return t>0?1:t<0?-1:0}function nh(t,r){return Fr(t.prev,t,t.next)<0?Fr(t,r,t.next)>=0&&Fr(t,t.prev,r)>=0:Fr(t,r,t.prev)<0||Fr(t,t.next,r)<0}function Rx(t,r){var o=new kg(t.i,t.x,t.y),h=new kg(r.i,r.x,r.y),d=t.next,y=r.prev;return t.next=r,r.prev=t,o.next=d,d.prev=o,h.next=o,o.prev=h,y.next=h,h.prev=y,h}function Lx(t,r,o,h){var d=new kg(t,r,o);return h?(d.next=h.next,d.prev=h,h.next.prev=d,h.next=d):(d.prev=d,d.next=d),d}function rh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function kg(t,r,o){this.i=t,this.x=r,this.y=o,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Mg(t,r,o,h){for(var d=0,y=r,v=o-h;y<o;y+=h)d+=(t[v]-t[y])*(t[y+1]+t[v+1]),v=y;return d}function uP(t,r,o,h,d){(function y(v,E,T,P,k){for(;P>T;){if(P-T>600){var A=P-T+1,F=E-T+1,U=Math.log(A),ne=.5*Math.exp(2*U/3),re=.5*Math.sqrt(U*ne*(A-ne)/A)*(F-A/2<0?-1:1);y(v,E,Math.max(T,Math.floor(E-F*ne/A+re)),Math.min(P,Math.floor(E+(A-F)*ne/A+re)),k)}var he=v[E],ue=T,_e=P;for(ih(v,T,E),k(v[P],he)>0&&ih(v,T,P);ue<_e;){for(ih(v,ue,_e),ue++,_e--;k(v[ue],he)<0;)ue++;for(;k(v[_e],he)>0;)_e--}k(v[T],he)===0?ih(v,T,_e):ih(v,++_e,P),_e<=E&&(T=_e+1),E<=_e&&(P=_e-1)}})(t,r,o||0,h||t.length-1,d||cP)}function ih(t,r,o){var h=t[r];t[r]=t[o],t[o]=h}function cP(t,r){return t<r?-1:t>r?1:0}function Ag(t,r){var o=t.length;if(o<=1)return[t];for(var h,d,y=[],v=0;v<o;v++){var E=ft(t[v]);E!==0&&(t[v].area=Math.abs(E),d===void 0&&(d=E<0),d===E<0?(h&&y.push(h),h=[t[v]]):h.push(t[v]))}if(h&&y.push(h),r>1)for(var T=0;T<y.length;T++)y[T].length<=r||(uP(y[T],r,1,y[T].length-1,pP),y[T]=y[T].slice(0,r));return y}function pP(t,r){return r.area-t.area}function zg(t,r,o){for(var h=o.patternDependencies,d=!1,y=0,v=r;y<v.length;y+=1){var E=v[y].paint.get(t+"-pattern");E.isConstant()||(d=!0);var T=E.constantOr(null);T&&(d=!0,h[T.to]=!0,h[T.from]=!0)}return d}function Rg(t,r,o,h,d){for(var y=d.patternDependencies,v=0,E=r;v<E.length;v+=1){var T=E[v],P=T.paint.get(t+"-pattern").value;if(P.kind!=="constant"){var k=P.evaluate({zoom:h-1},o,{},d.availableImages),A=P.evaluate({zoom:h},o,{},d.availableImages),F=P.evaluate({zoom:h+1},o,{},d.availableImages);A=A&&A.name?A.name:A,F=F&&F.name?F.name:F,y[k=k&&k.name?k.name:k]=!0,y[A]=!0,y[F]=!0,o.patterns[T.id]={min:k,mid:A,max:F}}}return o}Dd.deviation=function(t,r,o,h){var d=r&&r.length,y=Math.abs(Mg(t,0,d?r[0]*o:t.length,o));if(d)for(var v=0,E=r.length;v<E;v++)y-=Math.abs(Mg(t,r[v]*o,v<E-1?r[v+1]*o:t.length,o));var T=0;for(v=0;v<h.length;v+=3){var P=h[v]*o,k=h[v+1]*o,A=h[v+2]*o;T+=Math.abs((t[P]-t[A])*(t[k+1]-t[P+1])-(t[P]-t[k])*(t[A+1]-t[P+1]))}return y===0&&T===0?0:Math.abs((T-y)/y)},Dd.flatten=function(t){for(var r=t[0][0].length,o={vertices:[],holes:[],dimensions:r},h=0,d=0;d<t.length;d++){for(var y=0;y<t[d].length;y++)for(var v=0;v<r;v++)o.vertices.push(t[d][y][v]);d>0&&o.holes.push(h+=t[d-1].length)}return o},Pg.default=QC;var da=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Es,this.indexArray=new Fa,this.indexArray2=new Jl,this.programConfigurations=new Lt(t.layers,t.zoom),this.segments=new W,this.segments2=new W,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};da.prototype.populate=function(t,r,o){this.hasPattern=zg("fill",this.layers,r);for(var h=this.layers[0].layout.get("fill-sort-key"),d=[],y=0,v=t;y<v.length;y+=1){var E=v[y],T=E.feature,P=E.id,k=E.index,A=E.sourceLayerIndex,F=this.layers[0]._featureFilter.needGeometry,U=_r(T,F);if(this.layers[0]._featureFilter.filter(new an(this.zoom),U,o)){var ne=h?h.evaluate(U,{},o,r.availableImages):void 0,re={id:P,properties:T.properties,type:T.type,sourceLayerIndex:A,index:k,geometry:F?U.geometry:ir(T),patterns:{},sortKey:ne};d.push(re)}}h&&d.sort(function(qe,Je){return qe.sortKey-Je.sortKey});for(var he=0,ue=d;he<ue.length;he+=1){var _e=ue[he],Ee=_e.geometry,Ie=_e.index,Me=_e.sourceLayerIndex;if(this.hasPattern){var Fe=Rg("fill",this.layers,_e,this.zoom,r);this.patternFeatures.push(Fe)}else this.addFeature(_e,Ee,Ie,o,{});r.featureIndex.insert(t[Ie].feature,Ee,Ie,Me,this.index)}},da.prototype.update=function(t,r,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,o)},da.prototype.addFeatures=function(t,r,o){for(var h=0,d=this.patternFeatures;h<d.length;h+=1){var y=d[h];this.addFeature(y,y.geometry,y.index,r,o)}},da.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},da.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},da.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,JC),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},da.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},da.prototype.addFeature=function(t,r,o,h,d){for(var y=0,v=Ag(r,500);y<v.length;y+=1){for(var E=v[y],T=0,P=0,k=E;P<k.length;P+=1)T+=k[P].length;for(var A=this.segments.prepareSegment(T,this.layoutVertexArray,this.indexArray),F=A.vertexLength,U=[],ne=[],re=0,he=E;re<he.length;re+=1){var ue=he[re];if(ue.length!==0){ue!==E[0]&&ne.push(U.length/2);var _e=this.segments2.prepareSegment(ue.length,this.layoutVertexArray,this.indexArray2),Ee=_e.vertexLength;this.layoutVertexArray.emplaceBack(ue[0].x,ue[0].y),this.indexArray2.emplaceBack(Ee+ue.length-1,Ee),U.push(ue[0].x),U.push(ue[0].y);for(var Ie=1;Ie<ue.length;Ie++)this.layoutVertexArray.emplaceBack(ue[Ie].x,ue[Ie].y),this.indexArray2.emplaceBack(Ee+Ie-1,Ee+Ie),U.push(ue[Ie].x),U.push(ue[Ie].y);_e.vertexLength+=ue.length,_e.primitiveLength+=ue.length}}for(var Me=Pg(U,ne),Fe=0;Fe<Me.length;Fe+=3)this.indexArray.emplaceBack(F+Me[Fe],F+Me[Fe+1],F+Me[Fe+2]);A.vertexLength+=T,A.primitiveLength+=Me.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,d,h)},ht("FillBucket",da,{omit:["layers","patternFeatures"]});var hP=new hi({"fill-sort-key":new vt(Z.layout_fill["fill-sort-key"])}),fP={paint:new hi({"fill-antialias":new Tt(Z.paint_fill["fill-antialias"]),"fill-opacity":new vt(Z.paint_fill["fill-opacity"]),"fill-color":new vt(Z.paint_fill["fill-color"]),"fill-outline-color":new vt(Z.paint_fill["fill-outline-color"]),"fill-translate":new Tt(Z.paint_fill["fill-translate"]),"fill-translate-anchor":new Tt(Z.paint_fill["fill-translate-anchor"]),"fill-pattern":new Yu(Z.paint_fill["fill-pattern"])}),layout:hP},dP=function(t){function r(o){t.call(this,o,fP)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.recalculate=function(o,h){t.prototype.recalculate.call(this,o,h);var d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},r.prototype.createBucket=function(o){return new da(o)},r.prototype.queryRadius=function(){return Zr(this.paint.get("fill-translate"))},r.prototype.queryIntersectsFeature=function(o,h,d,y,v,E,T){return Lo(fa(o,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),E.angle,T),y)},r.prototype.isTileClipped=function(){return!0},r}($o),mP=ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Ox=oc;function oc(t,r,o,h,d){this.properties={},this.extent=o,this.type=0,this._pbf=t,this._geometry=-1,this._keys=h,this._values=d,t.readFields(yP,this,r)}function yP(t,r,o){t==1?r.id=o.readVarint():t==2?function(h,d){for(var y=h.readVarint()+h.pos;h.pos<y;){var v=d._keys[h.readVarint()],E=d._values[h.readVarint()];d.properties[v]=E}}(o,r):t==3?r.type=o.readVarint():t==4&&(r._geometry=o.pos)}function gP(t){for(var r,o,h=0,d=0,y=t.length,v=y-1;d<y;v=d++)h+=((o=t[v]).x-(r=t[d]).x)*(r.y+o.y);return h}oc.types=["Unknown","Point","LineString","Polygon"],oc.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var r,o=t.readVarint()+t.pos,h=1,d=0,y=0,v=0,E=[];t.pos<o;){if(d<=0){var T=t.readVarint();h=7&T,d=T>>3}if(d--,h===1||h===2)y+=t.readSVarint(),v+=t.readSVarint(),h===1&&(r&&E.push(r),r=[]),r.push(new M(y,v));else{if(h!==7)throw new Error("unknown command "+h);r&&r.push(r[0].clone())}}return r&&E.push(r),E},oc.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var r=t.readVarint()+t.pos,o=1,h=0,d=0,y=0,v=1/0,E=-1/0,T=1/0,P=-1/0;t.pos<r;){if(h<=0){var k=t.readVarint();o=7&k,h=k>>3}if(h--,o===1||o===2)(d+=t.readSVarint())<v&&(v=d),d>E&&(E=d),(y+=t.readSVarint())<T&&(T=y),y>P&&(P=y);else if(o!==7)throw new Error("unknown command "+o)}return[v,T,E,P]},oc.prototype.toGeoJSON=function(t,r,o){var h,d,y=this.extent*Math.pow(2,o),v=this.extent*t,E=this.extent*r,T=this.loadGeometry(),P=oc.types[this.type];function k(U){for(var ne=0;ne<U.length;ne++){var re=U[ne];U[ne]=[360*(re.x+v)/y-180,360/Math.PI*Math.atan(Math.exp((180-360*(re.y+E)/y)*Math.PI/180))-90]}}switch(this.type){case 1:var A=[];for(h=0;h<T.length;h++)A[h]=T[h][0];k(T=A);break;case 2:for(h=0;h<T.length;h++)k(T[h]);break;case 3:for(T=function(U){var ne=U.length;if(ne<=1)return[U];for(var re,he,ue=[],_e=0;_e<ne;_e++){var Ee=gP(U[_e]);Ee!==0&&(he===void 0&&(he=Ee<0),he===Ee<0?(re&&ue.push(re),re=[U[_e]]):re.push(U[_e]))}return re&&ue.push(re),ue}(T),h=0;h<T.length;h++)for(d=0;d<T[h].length;d++)k(T[h][d])}T.length===1?T=T[0]:P="Multi"+P;var F={type:"Feature",geometry:{type:P,coordinates:T},properties:this.properties};return"id"in this&&(F.id=this.id),F};var Dx=Fx;function Fx(t,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(vP,this,r),this.length=this._features.length}function vP(t,r,o){t===15?r.version=o.readVarint():t===1?r.name=o.readString():t===5?r.extent=o.readVarint():t===2?r._features.push(o.pos):t===3?r._keys.push(o.readString()):t===4&&r._values.push(function(h){for(var d=null,y=h.readVarint()+h.pos;h.pos<y;){var v=h.readVarint()>>3;d=v===1?h.readString():v===2?h.readFloat():v===3?h.readDouble():v===4?h.readVarint64():v===5?h.readVarint():v===6?h.readSVarint():v===7?h.readBoolean():null}return d}(o))}function _P(t,r,o){if(t===3){var h=new Dx(o,o.readVarint()+o.pos);h.length&&(r[h.name]=h)}}Fx.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var r=this._pbf.readVarint()+this._pbf.pos;return new Ox(this._pbf,r,this.extent,this._keys,this._values)};var ac={VectorTile:function(t,r){this.layers=t.readFields(_P,{},r)},VectorTileFeature:Ox,VectorTileLayer:Dx},xP=ac.VectorTileFeature.types,Lg=Math.pow(2,13);function oh(t,r,o,h,d,y,v,E){t.emplaceBack(r,o,2*Math.floor(h*Lg)+v,d*Lg*2,y*Lg*2,Math.round(E))}var ma=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ha,this.indexArray=new Fa,this.programConfigurations=new Lt(t.layers,t.zoom),this.segments=new W,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function bP(t,r){return t.x===r.x&&(t.x<0||t.x>8192)||t.y===r.y&&(t.y<0||t.y>8192)}ma.prototype.populate=function(t,r,o){this.features=[],this.hasPattern=zg("fill-extrusion",this.layers,r);for(var h=0,d=t;h<d.length;h+=1){var y=d[h],v=y.feature,E=y.id,T=y.index,P=y.sourceLayerIndex,k=this.layers[0]._featureFilter.needGeometry,A=_r(v,k);if(this.layers[0]._featureFilter.filter(new an(this.zoom),A,o)){var F={id:E,sourceLayerIndex:P,index:T,geometry:k?A.geometry:ir(v),properties:v.properties,type:v.type,patterns:{}};this.hasPattern?this.features.push(Rg("fill-extrusion",this.layers,F,this.zoom,r)):this.addFeature(F,F.geometry,T,o,{}),r.featureIndex.insert(v,F.geometry,T,P,this.index,!0)}}},ma.prototype.addFeatures=function(t,r,o){for(var h=0,d=this.features;h<d.length;h+=1){var y=d[h];this.addFeature(y,y.geometry,y.index,r,o)}},ma.prototype.update=function(t,r,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,o)},ma.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ma.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ma.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,mP),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ma.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ma.prototype.addFeature=function(t,r,o,h,d){for(var y=0,v=Ag(r,500);y<v.length;y+=1){for(var E=v[y],T=0,P=0,k=E;P<k.length;P+=1)T+=k[P].length;for(var A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),F=0,U=E;F<U.length;F+=1){var ne=U[F];if(ne.length!==0&&!((rn=ne).every(function(Xt){return Xt.x<0})||rn.every(function(Xt){return Xt.x>8192})||rn.every(function(Xt){return Xt.y<0})||rn.every(function(Xt){return Xt.y>8192})))for(var re=0,he=0;he<ne.length;he++){var ue=ne[he];if(he>=1){var _e=ne[he-1];if(!bP(ue,_e)){A.vertexLength+4>W.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Ee=ue.sub(_e)._perp()._unit(),Ie=_e.dist(ue);re+Ie>32768&&(re=0),oh(this.layoutVertexArray,ue.x,ue.y,Ee.x,Ee.y,0,0,re),oh(this.layoutVertexArray,ue.x,ue.y,Ee.x,Ee.y,0,1,re),oh(this.layoutVertexArray,_e.x,_e.y,Ee.x,Ee.y,0,0,re+=Ie),oh(this.layoutVertexArray,_e.x,_e.y,Ee.x,Ee.y,0,1,re);var Me=A.vertexLength;this.indexArray.emplaceBack(Me,Me+2,Me+1),this.indexArray.emplaceBack(Me+1,Me+2,Me+3),A.vertexLength+=4,A.primitiveLength+=2}}}}if(A.vertexLength+T>W.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(T,this.layoutVertexArray,this.indexArray)),xP[t.type]==="Polygon"){for(var Fe=[],qe=[],Je=A.vertexLength,bt=0,it=E;bt<it.length;bt+=1){var Pt=it[bt];if(Pt.length!==0){Pt!==E[0]&&qe.push(Fe.length/2);for(var ot=0;ot<Pt.length;ot++){var Qt=Pt[ot];oh(this.layoutVertexArray,Qt.x,Qt.y,0,0,1,1,0),Fe.push(Qt.x),Fe.push(Qt.y)}}}for(var Ot=Pg(Fe,qe),_t=0;_t<Ot.length;_t+=3)this.indexArray.emplaceBack(Je+Ot[_t],Je+Ot[_t+2],Je+Ot[_t+1]);A.primitiveLength+=Ot.length/3,A.vertexLength+=T}}var rn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,d,h)},ht("FillExtrusionBucket",ma,{omit:["layers","features"]});var wP={paint:new hi({"fill-extrusion-opacity":new Tt(Z["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new vt(Z["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Tt(Z["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Tt(Z["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Yu(Z["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new vt(Z["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new vt(Z["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Tt(Z["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},EP=function(t){function r(o){t.call(this,o,wP)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.createBucket=function(o){return new ma(o)},r.prototype.queryRadius=function(){return Zr(this.paint.get("fill-extrusion-translate"))},r.prototype.is3D=function(){return!0},r.prototype.queryIntersectsFeature=function(o,h,d,y,v,E,T,P){var k=fa(o,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),E.angle,T),A=this.paint.get("fill-extrusion-height").evaluate(h,d),F=this.paint.get("fill-extrusion-base").evaluate(h,d),U=function(re,he,ue,_e){for(var Ee=[],Ie=0,Me=re;Ie<Me.length;Ie+=1){var Fe=Me[Ie],qe=[Fe.x,Fe.y,0,1];nc(qe,qe,he),Ee.push(new M(qe[0]/qe[3],qe[1]/qe[3]))}return Ee}(k,P),ne=function(re,he,ue,_e){for(var Ee=[],Ie=[],Me=_e[8]*he,Fe=_e[9]*he,qe=_e[10]*he,Je=_e[11]*he,bt=_e[8]*ue,it=_e[9]*ue,Pt=_e[10]*ue,ot=_e[11]*ue,Qt=0,Ot=re;Qt<Ot.length;Qt+=1){for(var _t=[],rn=[],Xt=0,dn=Ot[Qt];Xt<dn.length;Xt+=1){var kt=dn[Xt],wn=kt.x,Jn=kt.y,pr=_e[0]*wn+_e[4]*Jn+_e[12],or=_e[1]*wn+_e[5]*Jn+_e[13],Qn=_e[2]*wn+_e[6]*Jn+_e[14],hr=_e[3]*wn+_e[7]*Jn+_e[15],Gr=Qn+qe,Hr=hr+Je,Si=pr+bt,ii=or+it,Ti=Qn+Pt,xr=hr+ot,oi=new M((pr+Me)/Hr,(or+Fe)/Hr);oi.z=Gr/Hr,_t.push(oi);var un=new M(Si/xr,ii/xr);un.z=Ti/xr,rn.push(un)}Ee.push(_t),Ie.push(rn)}return[Ee,Ie]}(y,F,A,P);return function(re,he,ue){var _e=1/0;Lo(ue,he)&&(_e=Bx(ue,he[0]));for(var Ee=0;Ee<he.length;Ee++)for(var Ie=he[Ee],Me=re[Ee],Fe=0;Fe<Ie.length-1;Fe++){var qe=Ie[Fe],Je=[qe,Ie[Fe+1],Me[Fe+1],Me[Fe],qe];Ua(ue,Je)&&(_e=Math.min(_e,Bx(ue,Je)))}return _e!==1/0&&_e}(ne[0],ne[1],U)},r}($o);function ah(t,r){return t.x*r.x+t.y*r.y}function Bx(t,r){if(t.length===1){for(var o,h=0,d=r[h++];!o||d.equals(o);)if(!(o=r[h++]))return 1/0;for(;h<r.length;h++){var y=r[h],v=t[0],E=o.sub(d),T=y.sub(d),P=v.sub(d),k=ah(E,E),A=ah(E,T),F=ah(T,T),U=ah(P,E),ne=ah(P,T),re=k*F-A*A,he=(F*U-A*ne)/re,ue=(k*ne-A*U)/re,_e=d.z*(1-he-ue)+o.z*he+y.z*ue;if(isFinite(_e))return _e}return 1/0}for(var Ee=1/0,Ie=0,Me=r;Ie<Me.length;Ie+=1)Ee=Math.min(Ee,Me[Ie].z);return Ee}var SP=ti([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,TP=ti([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,CP=ac.VectorTileFeature.types,PP=Math.cos(Math.PI/180*37.5),Nx=Math.pow(2,14)/.5,zi=function(t){var r=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(o){r.gradients[o.id]={}}),this.layoutVertexArray=new Gi,this.layoutVertexArray2=new Js,this.indexArray=new Fa,this.programConfigurations=new Lt(t.layers,t.zoom),this.segments=new W,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};zi.prototype.populate=function(t,r,o){this.hasPattern=zg("line",this.layers,r);for(var h=this.layers[0].layout.get("line-sort-key"),d=[],y=0,v=t;y<v.length;y+=1){var E=v[y],T=E.feature,P=E.id,k=E.index,A=E.sourceLayerIndex,F=this.layers[0]._featureFilter.needGeometry,U=_r(T,F);if(this.layers[0]._featureFilter.filter(new an(this.zoom),U,o)){var ne=h?h.evaluate(U,{},o):void 0,re={id:P,properties:T.properties,type:T.type,sourceLayerIndex:A,index:k,geometry:F?U.geometry:ir(T),patterns:{},sortKey:ne};d.push(re)}}h&&d.sort(function(qe,Je){return qe.sortKey-Je.sortKey});for(var he=0,ue=d;he<ue.length;he+=1){var _e=ue[he],Ee=_e.geometry,Ie=_e.index,Me=_e.sourceLayerIndex;if(this.hasPattern){var Fe=Rg("line",this.layers,_e,this.zoom,r);this.patternFeatures.push(Fe)}else this.addFeature(_e,Ee,Ie,o,{});r.featureIndex.insert(t[Ie].feature,Ee,Ie,Me,this.index)}},zi.prototype.update=function(t,r,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,o)},zi.prototype.addFeatures=function(t,r,o){for(var h=0,d=this.patternFeatures;h<d.length;h+=1){var y=d[h];this.addFeature(y,y.geometry,y.index,r,o)}},zi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},zi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zi.prototype.upload=function(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,TP)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,SP),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},zi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},zi.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},zi.prototype.addFeature=function(t,r,o,h,d){var y=this.layers[0].layout,v=y.get("line-join").evaluate(t,{}),E=y.get("line-cap"),T=y.get("line-miter-limit"),P=y.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var k=0,A=r;k<A.length;k+=1)this.addLine(A[k],t,v,E,T,P);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,d,h)},zi.prototype.addLine=function(t,r,o,h,d,y){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var v=0;v<t.length-1;v++)this.totalDistance+=t[v].dist(t[v+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var E=CP[r.type]==="Polygon",T=t.length;T>=2&&t[T-1].equals(t[T-2]);)T--;for(var P=0;P<T-1&&t[P].equals(t[P+1]);)P++;if(!(T<(E?3:2))){o==="bevel"&&(d=1.05);var k,A=this.overscaling<=16?122880/(512*this.overscaling):0,F=this.segments.prepareSegment(10*T,this.layoutVertexArray,this.indexArray),U=void 0,ne=void 0,re=void 0,he=void 0;this.e1=this.e2=-1,E&&(he=t[P].sub(k=t[T-2])._unit()._perp());for(var ue=P;ue<T;ue++)if(!(ne=ue===T-1?E?t[P+1]:void 0:t[ue+1])||!t[ue].equals(ne)){he&&(re=he),k&&(U=k),k=t[ue],he=ne?ne.sub(k)._unit()._perp():re;var _e=(re=re||he).add(he);_e.x===0&&_e.y===0||_e._unit();var Ee=re.x*he.x+re.y*he.y,Ie=_e.x*he.x+_e.y*he.y,Me=Ie!==0?1/Ie:1/0,Fe=2*Math.sqrt(2-2*Ie),qe=Ie<PP&&U&&ne,Je=re.x*he.y-re.y*he.x>0;if(qe&&ue>P){var bt=k.dist(U);if(bt>2*A){var it=k.sub(k.sub(U)._mult(A/bt)._round());this.updateDistance(U,it),this.addCurrentVertex(it,re,0,0,F),U=it}}var Pt=U&&ne,ot=Pt?o:E?"butt":h;if(Pt&&ot==="round"&&(Me<y?ot="miter":Me<=2&&(ot="fakeround")),ot==="miter"&&Me>d&&(ot="bevel"),ot==="bevel"&&(Me>2&&(ot="flipbevel"),Me<d&&(ot="miter")),U&&this.updateDistance(U,k),ot==="miter")_e._mult(Me),this.addCurrentVertex(k,_e,0,0,F);else if(ot==="flipbevel"){if(Me>100)_e=he.mult(-1);else{var Qt=Me*re.add(he).mag()/re.sub(he).mag();_e._perp()._mult(Qt*(Je?-1:1))}this.addCurrentVertex(k,_e,0,0,F),this.addCurrentVertex(k,_e.mult(-1),0,0,F)}else if(ot==="bevel"||ot==="fakeround"){var Ot=-Math.sqrt(Me*Me-1),_t=Je?Ot:0,rn=Je?0:Ot;if(U&&this.addCurrentVertex(k,re,_t,rn,F),ot==="fakeround")for(var Xt=Math.round(180*Fe/Math.PI/20),dn=1;dn<Xt;dn++){var kt=dn/Xt;if(kt!==.5){var wn=kt-.5;kt+=kt*wn*(kt-1)*((1.0904+Ee*(Ee*(3.55645-1.43519*Ee)-3.2452))*wn*wn+(.848013+Ee*(.215638*Ee-1.06021)))}var Jn=he.sub(re)._mult(kt)._add(re)._unit()._mult(Je?-1:1);this.addHalfVertex(k,Jn.x,Jn.y,!1,Je,0,F)}ne&&this.addCurrentVertex(k,he,-_t,-rn,F)}else if(ot==="butt")this.addCurrentVertex(k,_e,0,0,F);else if(ot==="square"){var pr=U?1:-1;this.addCurrentVertex(k,_e,pr,pr,F)}else ot==="round"&&(U&&(this.addCurrentVertex(k,re,0,0,F),this.addCurrentVertex(k,re,1,1,F,!0)),ne&&(this.addCurrentVertex(k,he,-1,-1,F,!0),this.addCurrentVertex(k,he,0,0,F)));if(qe&&ue<T-1){var or=k.dist(ne);if(or>2*A){var Qn=k.add(ne.sub(k)._mult(A/or)._round());this.updateDistance(k,Qn),this.addCurrentVertex(Qn,he,0,0,F),k=Qn}}}}},zi.prototype.addCurrentVertex=function(t,r,o,h,d,y){y===void 0&&(y=!1);var v=r.y*h-r.x,E=-r.y-r.x*h;this.addHalfVertex(t,r.x+r.y*o,r.y-r.x*o,y,!1,o,d),this.addHalfVertex(t,v,E,y,!0,-h,d),this.distance>Nx/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(t,r,o,h,d,y))},zi.prototype.addHalfVertex=function(t,r,o,h,d,y,v){var E=.5*(this.lineClips?this.scaledDistance*(Nx-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(h?1:0),(t.y<<1)+(d?1:0),Math.round(63*r)+128,Math.round(63*o)+128,1+(y===0?0:y<0?-1:1)|(63&E)<<2,E>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var T=v.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,T),v.primitiveLength++),d?this.e2=T:this.e1=T},zi.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},zi.prototype.updateDistance=function(t,r){this.distance+=t.dist(r),this.updateScaledDistance()},ht("LineBucket",zi,{omit:["layers","patternFeatures"]});var IP=new hi({"line-cap":new Tt(Z.layout_line["line-cap"]),"line-join":new vt(Z.layout_line["line-join"]),"line-miter-limit":new Tt(Z.layout_line["line-miter-limit"]),"line-round-limit":new Tt(Z.layout_line["line-round-limit"]),"line-sort-key":new vt(Z.layout_line["line-sort-key"])}),Ux={paint:new hi({"line-opacity":new vt(Z.paint_line["line-opacity"]),"line-color":new vt(Z.paint_line["line-color"]),"line-translate":new Tt(Z.paint_line["line-translate"]),"line-translate-anchor":new Tt(Z.paint_line["line-translate-anchor"]),"line-width":new vt(Z.paint_line["line-width"]),"line-gap-width":new vt(Z.paint_line["line-gap-width"]),"line-offset":new vt(Z.paint_line["line-offset"]),"line-blur":new vt(Z.paint_line["line-blur"]),"line-dasharray":new bi(Z.paint_line["line-dasharray"]),"line-pattern":new Yu(Z.paint_line["line-pattern"]),"line-gradient":new Ro(Z.paint_line["line-gradient"])}),layout:IP},Vx=new(function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.possiblyEvaluate=function(o,h){return h=new an(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),t.prototype.possiblyEvaluate.call(this,o,h)},r.prototype.evaluate=function(o,h,d,y){return h=$({},h,{zoom:Math.floor(h.zoom)}),t.prototype.evaluate.call(this,o,h,d,y)},r}(vt))(Ux.paint.properties["line-width"].specification);Vx.useIntegerZoom=!0;var kP=function(t){function r(o){t.call(this,o,Ux),this.gradientVersion=0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype._handleSpecialPaintPropertyUpdate=function(o){o==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof ji,this.gradientVersion=(this.gradientVersion+1)%Y)},r.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},r.prototype.recalculate=function(o,h){t.prototype.recalculate.call(this,o,h),this.paint._values["line-floorwidth"]=Vx.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)},r.prototype.createBucket=function(o){return new zi(o)},r.prototype.queryRadius=function(o){var h=o,d=jx(Zo("line-width",this,h),Zo("line-gap-width",this,h)),y=Zo("line-offset",this,h);return d/2+Math.abs(y)+Zr(this.paint.get("line-translate"))},r.prototype.queryIntersectsFeature=function(o,h,d,y,v,E,T){var P=fa(o,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),E.angle,T),k=T/2*jx(this.paint.get("line-width").evaluate(h,d),this.paint.get("line-gap-width").evaluate(h,d)),A=this.paint.get("line-offset").evaluate(h,d);return A&&(y=function(F,U){for(var ne=[],re=new M(0,0),he=0;he<F.length;he++){for(var ue=F[he],_e=[],Ee=0;Ee<ue.length;Ee++){var Ie=ue[Ee],Me=ue[Ee+1],Fe=Ee===0?re:Ie.sub(ue[Ee-1])._unit()._perp(),qe=Ee===ue.length-1?re:Me.sub(Ie)._unit()._perp(),Je=Fe._add(qe)._unit();Je._mult(1/(Je.x*qe.x+Je.y*qe.y)),_e.push(Je._mult(U)._add(Ie))}ne.push(_e)}return ne}(y,A*T)),function(F,U,ne){for(var re=0;re<U.length;re++){var he=U[re];if(F.length>=3){for(var ue=0;ue<he.length;ue++)if(Wo(F,he[ue]))return!0}if(vo(F,he,ne))return!0}return!1}(P,y,k)},r.prototype.isTileClipped=function(){return!0},r}($o);function jx(t,r){return r>0?r+2*t:t}var MP=ti([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),AP=ti([{name:"a_projected_pos",components:3,type:"Float32"}],4),zP=(ti([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ti([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),$x=(ti([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),RP=ti([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function LP(t,r,o){return t.sections.forEach(function(h){h.text=function(d,y,v){var E=y.layout.get("text-transform").evaluate(v,{});return E==="uppercase"?d=d.toLocaleUpperCase():E==="lowercase"&&(d=d.toLocaleLowerCase()),ro.applyArabicShaping&&(d=ro.applyArabicShaping(d)),d}(h.text,r,o)}),t}ti([{name:"triangle",components:3,type:"Uint16"}]),ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ti([{type:"Float32",name:"offsetX"}]),ti([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var sh={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},qx=function(t,r,o,h,d){var y,v,E=8*d-h-1,T=(1<<E)-1,P=T>>1,k=-7,A=o?d-1:0,F=o?-1:1,U=t[r+A];for(A+=F,y=U&(1<<-k)-1,U>>=-k,k+=E;k>0;y=256*y+t[r+A],A+=F,k-=8);for(v=y&(1<<-k)-1,y>>=-k,k+=h;k>0;v=256*v+t[r+A],A+=F,k-=8);if(y===0)y=1-P;else{if(y===T)return v?NaN:1/0*(U?-1:1);v+=Math.pow(2,h),y-=P}return(U?-1:1)*v*Math.pow(2,y-h)},Wx=function(t,r,o,h,d,y){var v,E,T,P=8*y-d-1,k=(1<<P)-1,A=k>>1,F=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=h?0:y-1,ne=h?1:-1,re=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(E=isNaN(r)?1:0,v=k):(v=Math.floor(Math.log(r)/Math.LN2),r*(T=Math.pow(2,-v))<1&&(v--,T*=2),(r+=v+A>=1?F/T:F*Math.pow(2,1-A))*T>=2&&(v++,T/=2),v+A>=k?(E=0,v=k):v+A>=1?(E=(r*T-1)*Math.pow(2,d),v+=A):(E=r*Math.pow(2,A-1)*Math.pow(2,d),v=0));d>=8;t[o+U]=255&E,U+=ne,E/=256,d-=8);for(v=v<<d|E,P+=d;P>0;t[o+U]=255&v,U+=ne,v/=256,P-=8);t[o+U-ne]|=128*re},Ud=jn;function jn(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}jn.Varint=0,jn.Fixed64=1,jn.Bytes=2,jn.Fixed32=5;var Zx=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function Ps(t){return t.type===jn.Bytes?t.readVarint()+t.pos:t.pos+1}function sc(t,r,o){return o?4294967296*r+(t>>>0):4294967296*(r>>>0)+(t>>>0)}function Gx(t,r,o){var h=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));o.realloc(h);for(var d=o.pos-1;d>=t;d--)o.buf[d+h]=o.buf[d]}function OP(t,r){for(var o=0;o<t.length;o++)r.writeVarint(t[o])}function DP(t,r){for(var o=0;o<t.length;o++)r.writeSVarint(t[o])}function FP(t,r){for(var o=0;o<t.length;o++)r.writeFloat(t[o])}function BP(t,r){for(var o=0;o<t.length;o++)r.writeDouble(t[o])}function NP(t,r){for(var o=0;o<t.length;o++)r.writeBoolean(t[o])}function UP(t,r){for(var o=0;o<t.length;o++)r.writeFixed32(t[o])}function VP(t,r){for(var o=0;o<t.length;o++)r.writeSFixed32(t[o])}function jP(t,r){for(var o=0;o<t.length;o++)r.writeFixed64(t[o])}function $P(t,r){for(var o=0;o<t.length;o++)r.writeSFixed64(t[o])}function Vd(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+16777216*t[r+3]}function lc(t,r,o){t[o]=r,t[o+1]=r>>>8,t[o+2]=r>>>16,t[o+3]=r>>>24}function Hx(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+(t[r+3]<<24)}function qP(t,r,o){t===1&&o.readMessage(WP,r)}function WP(t,r,o){if(t===3){var h=o.readMessage(ZP,{}),d=h.width,y=h.height,v=h.left,E=h.top,T=h.advance;r.push({id:h.id,bitmap:new ru({width:d+6,height:y+6},h.bitmap),metrics:{width:d,height:y,left:v,top:E,advance:T}})}}function ZP(t,r,o){t===1?r.id=o.readVarint():t===2?r.bitmap=o.readBytes():t===3?r.width=o.readVarint():t===4?r.height=o.readVarint():t===5?r.left=o.readSVarint():t===6?r.top=o.readSVarint():t===7&&(r.advance=o.readVarint())}function Xx(t){for(var r=0,o=0,h=0,d=t;h<d.length;h+=1){var y=d[h];r+=y.w*y.h,o=Math.max(o,y.w)}t.sort(function(re,he){return he.h-re.h});for(var v=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),o),h:1/0}],E=0,T=0,P=0,k=t;P<k.length;P+=1)for(var A=k[P],F=v.length-1;F>=0;F--){var U=v[F];if(!(A.w>U.w||A.h>U.h)){if(A.x=U.x,A.y=U.y,T=Math.max(T,A.y+A.h),E=Math.max(E,A.x+A.w),A.w===U.w&&A.h===U.h){var ne=v.pop();F<v.length&&(v[F]=ne)}else A.h===U.h?(U.x+=A.w,U.w-=A.w):A.w===U.w?(U.y+=A.h,U.h-=A.h):(v.push({x:U.x+A.w,y:U.y,w:U.w-A.w,h:A.h}),U.y+=A.h,U.h-=A.h);break}}return{w:E,h:T,fill:r/(E*T)||0}}jn.prototype={destroy:function(){this.buf=null},readFields:function(t,r,o){for(o=o||this.length;this.pos<o;){var h=this.readVarint(),d=h>>3,y=this.pos;this.type=7&h,t(d,r,this),this.pos===y&&this.skip(h)}return r},readMessage:function(t,r){return this.readFields(t,r,this.readVarint()+this.pos)},readFixed32:function(){var t=Vd(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Hx(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Vd(this.buf,this.pos)+4294967296*Vd(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Vd(this.buf,this.pos)+4294967296*Hx(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=qx(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=qx(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var r,o,h=this.buf;return r=127&(o=h[this.pos++]),o<128?r:(r|=(127&(o=h[this.pos++]))<<7,o<128?r:(r|=(127&(o=h[this.pos++]))<<14,o<128?r:(r|=(127&(o=h[this.pos++]))<<21,o<128?r:function(d,y,v){var E,T,P=v.buf;if(E=(112&(T=P[v.pos++]))>>4,T<128||(E|=(127&(T=P[v.pos++]))<<3,T<128)||(E|=(127&(T=P[v.pos++]))<<10,T<128)||(E|=(127&(T=P[v.pos++]))<<17,T<128)||(E|=(127&(T=P[v.pos++]))<<24,T<128)||(E|=(1&(T=P[v.pos++]))<<31,T<128))return sc(d,E,y);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(o=h[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,r=this.pos;return this.pos=t,t-r>=12&&Zx?function(o,h,d){return Zx.decode(o.subarray(h,d))}(this.buf,r,t):function(o,h,d){for(var y="",v=h;v<d;){var E,T,P,k=o[v],A=null,F=k>239?4:k>223?3:k>191?2:1;if(v+F>d)break;F===1?k<128&&(A=k):F===2?(192&(E=o[v+1]))==128&&(A=(31&k)<<6|63&E)<=127&&(A=null):F===3?(T=o[v+2],(192&(E=o[v+1]))==128&&(192&T)==128&&((A=(15&k)<<12|(63&E)<<6|63&T)<=2047||A>=55296&&A<=57343)&&(A=null)):F===4&&(T=o[v+2],P=o[v+3],(192&(E=o[v+1]))==128&&(192&T)==128&&(192&P)==128&&((A=(15&k)<<18|(63&E)<<12|(63&T)<<6|63&P)<=65535||A>=1114112)&&(A=null)),A===null?(A=65533,F=1):A>65535&&(A-=65536,y+=String.fromCharCode(A>>>10&1023|55296),A=56320|1023&A),y+=String.fromCharCode(A),v+=F}return y}(this.buf,r,t)},readBytes:function(){var t=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,t);return this.pos=t,r},readPackedVarint:function(t,r){if(this.type!==jn.Bytes)return t.push(this.readVarint(r));var o=Ps(this);for(t=t||[];this.pos<o;)t.push(this.readVarint(r));return t},readPackedSVarint:function(t){if(this.type!==jn.Bytes)return t.push(this.readSVarint());var r=Ps(this);for(t=t||[];this.pos<r;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==jn.Bytes)return t.push(this.readBoolean());var r=Ps(this);for(t=t||[];this.pos<r;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==jn.Bytes)return t.push(this.readFloat());var r=Ps(this);for(t=t||[];this.pos<r;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==jn.Bytes)return t.push(this.readDouble());var r=Ps(this);for(t=t||[];this.pos<r;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==jn.Bytes)return t.push(this.readFixed32());var r=Ps(this);for(t=t||[];this.pos<r;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==jn.Bytes)return t.push(this.readSFixed32());var r=Ps(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==jn.Bytes)return t.push(this.readFixed64());var r=Ps(this);for(t=t||[];this.pos<r;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==jn.Bytes)return t.push(this.readSFixed64());var r=Ps(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed64());return t},skip:function(t){var r=7&t;if(r===jn.Varint)for(;this.buf[this.pos++]>127;);else if(r===jn.Bytes)this.pos=this.readVarint()+this.pos;else if(r===jn.Fixed32)this.pos+=4;else{if(r!==jn.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(t,r){this.writeVarint(t<<3|r)},realloc:function(t){for(var r=this.length||16;r<this.pos+t;)r*=2;if(r!==this.length){var o=new Uint8Array(r);o.set(this.buf),this.buf=o,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),lc(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),lc(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),lc(this.buf,-1&t,this.pos),lc(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),lc(this.buf,-1&t,this.pos),lc(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(r,o){var h,d;if(r>=0?(h=r%4294967296|0,d=r/4294967296|0):(d=~(-r/4294967296),4294967295^(h=~(-r%4294967296))?h=h+1|0:(h=0,d=d+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(y,v,E){E.buf[E.pos++]=127&y|128,y>>>=7,E.buf[E.pos++]=127&y|128,y>>>=7,E.buf[E.pos++]=127&y|128,y>>>=7,E.buf[E.pos++]=127&y|128,E.buf[E.pos]=127&(y>>>=7)}(h,0,o),function(y,v){var E=(7&y)<<4;v.buf[v.pos++]|=E|((y>>>=3)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y)))))}(d,o)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var r=this.pos;this.pos=function(h,d,y){for(var v,E,T=0;T<d.length;T++){if((v=d.charCodeAt(T))>55295&&v<57344){if(!E){v>56319||T+1===d.length?(h[y++]=239,h[y++]=191,h[y++]=189):E=v;continue}if(v<56320){h[y++]=239,h[y++]=191,h[y++]=189,E=v;continue}v=E-55296<<10|v-56320|65536,E=null}else E&&(h[y++]=239,h[y++]=191,h[y++]=189,E=null);v<128?h[y++]=v:(v<2048?h[y++]=v>>6|192:(v<65536?h[y++]=v>>12|224:(h[y++]=v>>18|240,h[y++]=v>>12&63|128),h[y++]=v>>6&63|128),h[y++]=63&v|128)}return y}(this.buf,t,this.pos);var o=this.pos-r;o>=128&&Gx(r,o,this),this.pos=r-1,this.writeVarint(o),this.pos+=o},writeFloat:function(t){this.realloc(4),Wx(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Wx(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var r=t.length;this.writeVarint(r),this.realloc(r);for(var o=0;o<r;o++)this.buf[this.pos++]=t[o]},writeRawMessage:function(t,r){this.pos++;var o=this.pos;t(r,this);var h=this.pos-o;h>=128&&Gx(o,h,this),this.pos=o-1,this.writeVarint(h),this.pos+=h},writeMessage:function(t,r,o){this.writeTag(t,jn.Bytes),this.writeRawMessage(r,o)},writePackedVarint:function(t,r){r.length&&this.writeMessage(t,OP,r)},writePackedSVarint:function(t,r){r.length&&this.writeMessage(t,DP,r)},writePackedBoolean:function(t,r){r.length&&this.writeMessage(t,NP,r)},writePackedFloat:function(t,r){r.length&&this.writeMessage(t,FP,r)},writePackedDouble:function(t,r){r.length&&this.writeMessage(t,BP,r)},writePackedFixed32:function(t,r){r.length&&this.writeMessage(t,UP,r)},writePackedSFixed32:function(t,r){r.length&&this.writeMessage(t,VP,r)},writePackedFixed64:function(t,r){r.length&&this.writeMessage(t,jP,r)},writePackedSFixed64:function(t,r){r.length&&this.writeMessage(t,$P,r)},writeBytesField:function(t,r){this.writeTag(t,jn.Bytes),this.writeBytes(r)},writeFixed32Field:function(t,r){this.writeTag(t,jn.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(t,r){this.writeTag(t,jn.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(t,r){this.writeTag(t,jn.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(t,r){this.writeTag(t,jn.Fixed64),this.writeSFixed64(r)},writeVarintField:function(t,r){this.writeTag(t,jn.Varint),this.writeVarint(r)},writeSVarintField:function(t,r){this.writeTag(t,jn.Varint),this.writeSVarint(r)},writeStringField:function(t,r){this.writeTag(t,jn.Bytes),this.writeString(r)},writeFloatField:function(t,r){this.writeTag(t,jn.Fixed32),this.writeFloat(r)},writeDoubleField:function(t,r){this.writeTag(t,jn.Fixed64),this.writeDouble(r)},writeBooleanField:function(t,r){this.writeVarintField(t,Boolean(r))}};var jd=function(t,r){var o=r.pixelRatio,h=r.version,d=r.stretchX,y=r.stretchY,v=r.content;this.paddedRect=t,this.pixelRatio=o,this.stretchX=d,this.stretchY=y,this.content=v,this.version=h},lh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};lh.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},lh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},lh.tlbr.get=function(){return this.tl.concat(this.br)},lh.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(jd.prototype,lh);var uh=function(t,r){var o={},h={};this.haveRenderCallbacks=[];var d=[];this.addImages(t,o,d),this.addImages(r,h,d);var y=Xx(d),v=new Xi({width:y.w||1,height:y.h||1});for(var E in t){var T=t[E],P=o[E].paddedRect;Xi.copy(T.data,v,{x:0,y:0},{x:P.x+1,y:P.y+1},T.data)}for(var k in r){var A=r[k],F=h[k].paddedRect,U=F.x+1,ne=F.y+1,re=A.data.width,he=A.data.height;Xi.copy(A.data,v,{x:0,y:0},{x:U,y:ne},A.data),Xi.copy(A.data,v,{x:0,y:he-1},{x:U,y:ne-1},{width:re,height:1}),Xi.copy(A.data,v,{x:0,y:0},{x:U,y:ne+he},{width:re,height:1}),Xi.copy(A.data,v,{x:re-1,y:0},{x:U-1,y:ne},{width:1,height:he}),Xi.copy(A.data,v,{x:0,y:0},{x:U+re,y:ne},{width:1,height:he})}this.image=v,this.iconPositions=o,this.patternPositions=h};uh.prototype.addImages=function(t,r,o){for(var h in t){var d=t[h],y={x:0,y:0,w:d.data.width+2,h:d.data.height+2};o.push(y),r[h]=new jd(y,d),d.hasRenderCallback&&this.haveRenderCallbacks.push(h)}},uh.prototype.patchUpdatedImages=function(t,r){for(var o in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[o],t.getImage(o),r),this.patchUpdatedImage(this.patternPositions[o],t.getImage(o),r)},uh.prototype.patchUpdatedImage=function(t,r,o){if(t&&r&&t.version!==r.version){t.version=r.version;var h=t.tl;o.update(r.data,void 0,{x:h[0],y:h[1]})}},ht("ImagePosition",jd),ht("ImageAtlas",uh);var _o={horizontal:1,vertical:2,horizontalOnly:3},uc=function(){this.scale=1,this.fontStack="",this.imageName=null};uc.forText=function(t,r){var o=new uc;return o.scale=t||1,o.fontStack=r,o},uc.forImage=function(t){var r=new uc;return r.imageName=t,r};var Ei=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function $d(t,r,o,h,d,y,v,E,T,P,k,A,F,U,ne,re){var he,ue=Ei.fromFeature(t,d);A===_o.vertical&&ue.verticalizePunctuation();var _e=ro.processBidirectionalText,Ee=ro.processStyledBidirectionalText;if(_e&&ue.sections.length===1){he=[];for(var Ie=0,Me=_e(ue.toString(),Og(ue,P,y,r,h,U,ne));Ie<Me.length;Ie+=1){var Fe=Me[Ie],qe=new Ei;qe.text=Fe,qe.sections=ue.sections;for(var Je=0;Je<Fe.length;Je++)qe.sectionIndex.push(0);he.push(qe)}}else if(Ee){he=[];for(var bt=0,it=Ee(ue.text,ue.sectionIndex,Og(ue,P,y,r,h,U,ne));bt<it.length;bt+=1){var Pt=it[bt],ot=new Ei;ot.text=Pt[0],ot.sectionIndex=Pt[1],ot.sections=ue.sections,he.push(ot)}}else he=function(_t,rn){for(var Xt=[],dn=_t.text,kt=0,wn=0,Jn=rn;wn<Jn.length;wn+=1){var pr=Jn[wn];Xt.push(_t.substring(kt,pr)),kt=pr}return kt<dn.length&&Xt.push(_t.substring(kt,dn.length)),Xt}(ue,Og(ue,P,y,r,h,U,ne));var Qt=[],Ot={positionedLines:Qt,text:ue.toString(),top:k[1],bottom:k[1],left:k[0],right:k[0],writingMode:A,iconsInText:!1,verticalizable:!1};return function(_t,rn,Xt,dn,kt,wn,Jn,pr,or,Qn,hr,Gr){for(var Hr=0,Si=-17,ii=0,Ti=0,xr=pr==="right"?1:pr==="left"?0:.5,oi=0,un=0,On=kt;un<On.length;un+=1){var An=On[un];An.trim();var gn=An.getMaxScale(),Ri=24*(gn-1),gi={positionedGlyphs:[],lineOffset:0};_t.positionedLines[oi]=gi;var Wn=gi.positionedGlyphs,Ar=0;if(An.length()){for(var vi=0;vi<An.length();vi++){var En=An.getSection(vi),$a=An.getSectionIndex(vi),xo=An.getCharCode(vi),qa=0,br=null,Wa=null,Go=null,gc=24,su=!(or===_o.horizontal||!hr&&!Hu(xo)||hr&&(qd[xo]||(As=xo,et.Arabic(As)||et["Arabic Supplement"](As)||et["Arabic Extended-A"](As)||et["Arabic Presentation Forms-A"](As)||et["Arabic Presentation Forms-B"](As))));if(En.imageName){var vc=dn[En.imageName];if(!vc)continue;Go=En.imageName,_t.iconsInText=_t.iconsInText||!0,Wa=vc.paddedRect;var Ms=vc.displaySize;En.scale=24*En.scale/Gr,qa=Ri+(24-Ms[1]*En.scale),gc=(br={width:Ms[0],height:Ms[1],left:1,top:-3,advance:su?Ms[1]:Ms[0]}).advance;var _c=su?Ms[0]*En.scale-24*gn:Ms[1]*En.scale-24*gn;_c>0&&_c>Ar&&(Ar=_c)}else{var Qd=Xt[En.fontStack],xc=Qd&&Qd[xo];if(xc&&xc.rect)Wa=xc.rect,br=xc.metrics;else{var hh=rn[En.fontStack],em=hh&&hh[xo];if(!em)continue;br=em.metrics}qa=24*(gn-En.scale)}su?(_t.verticalizable=!0,Wn.push({glyph:xo,imageName:Go,x:Hr,y:Si+qa,vertical:su,scale:En.scale,fontStack:En.fontStack,sectionIndex:$a,metrics:br,rect:Wa}),Hr+=gc*En.scale+Qn):(Wn.push({glyph:xo,imageName:Go,x:Hr,y:Si+qa,vertical:su,scale:En.scale,fontStack:En.fontStack,sectionIndex:$a,metrics:br,rect:Wa}),Hr+=br.advance*En.scale+Qn)}Wn.length!==0&&(ii=Math.max(Hr-Qn,ii),HP(Wn,0,Wn.length-1,xr,Ar)),Hr=0;var tm=wn*gn+Ar;gi.lineOffset=Math.max(Ar,Ri),Si+=tm,Ti=Math.max(tm,Ti),++oi}else Si+=wn,++oi}var As,fh=Si- -17,bc=Dg(Jn),al=bc.horizontalAlign,wc=bc.verticalAlign;(function(nm,rm,dh,mh,im,yh,gh,vh,om){var Ec,am=(rm-dh)*im;Ec=yh!==gh?-vh*mh- -17:(-mh*om+.5)*gh;for(var Sc=0,_h=nm;Sc<_h.length;Sc+=1)for(var lu=0,xh=_h[Sc].positionedGlyphs;lu<xh.length;lu+=1){var Tc=xh[lu];Tc.x+=am,Tc.y+=Ec}})(_t.positionedLines,xr,al,wc,ii,Ti,wn,fh,kt.length),_t.top+=-wc*fh,_t.bottom=_t.top+fh,_t.left+=-al*ii,_t.right=_t.left+ii}(Ot,r,o,h,he,v,E,T,A,P,F,re),!function(_t){for(var rn=0,Xt=_t;rn<Xt.length;rn+=1)if(Xt[rn].positionedGlyphs.length!==0)return!1;return!0}(Qt)&&Ot}Ei.fromFeature=function(t,r){for(var o=new Ei,h=0;h<t.sections.length;h++){var d=t.sections[h];d.image?o.addImageSection(d):o.addTextSection(d,r)}return o},Ei.prototype.length=function(){return this.text.length},Ei.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Ei.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Ei.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Ei.prototype.verticalizePunctuation=function(){this.text=function(t){for(var r="",o=0;o<t.length;o++){var h=t.charCodeAt(o+1)||null,d=t.charCodeAt(o-1)||null;r+=h&&Zp(h)&&!sh[t[o+1]]||d&&Zp(d)&&!sh[t[o-1]]||!sh[t[o]]?t[o]:sh[t[o]]}return r}(this.text)},Ei.prototype.trim=function(){for(var t=0,r=0;r<this.text.length&&qd[this.text.charCodeAt(r)];r++)t++;for(var o=this.text.length,h=this.text.length-1;h>=0&&h>=t&&qd[this.text.charCodeAt(h)];h--)o--;this.text=this.text.substring(t,o),this.sectionIndex=this.sectionIndex.slice(t,o)},Ei.prototype.substring=function(t,r){var o=new Ei;return o.text=this.text.substring(t,r),o.sectionIndex=this.sectionIndex.slice(t,r),o.sections=this.sections,o},Ei.prototype.toString=function(){return this.text},Ei.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(r,o){return Math.max(r,t.sections[o].scale)},0)},Ei.prototype.addTextSection=function(t,r){this.text+=t.text,this.sections.push(uc.forText(t.scale,t.fontStack||r));for(var o=this.sections.length-1,h=0;h<t.text.length;++h)this.sectionIndex.push(o)},Ei.prototype.addImageSection=function(t){var r=t.image?t.image.name:"";if(r.length!==0){var o=this.getNextImageSectionCharCode();o?(this.text+=String.fromCharCode(o),this.sections.push(uc.forImage(r)),this.sectionIndex.push(this.sections.length-1)):Qe("Reached maximum number of images 6401")}else Qe("Can't add FormattedSection with an empty image.")},Ei.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var qd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},oo={};function Kx(t,r,o,h,d,y){if(r.imageName){var v=h[r.imageName];return v?v.displaySize[0]*r.scale*24/y+d:0}var E=o[r.fontStack],T=E&&E[t];return T?T.metrics.advance*r.scale+d:0}function Yx(t,r,o,h){var d=Math.pow(t-r,2);return h?t<r?d/2:2*d:d+Math.abs(o)*o}function GP(t,r,o){var h=0;return t===10&&(h-=1e4),o&&(h+=150),t!==40&&t!==65288||(h+=50),r!==41&&r!==65289||(h+=50),h}function Jx(t,r,o,h,d,y){for(var v=null,E=Yx(r,o,d,y),T=0,P=h;T<P.length;T+=1){var k=P[T],A=Yx(r-k.x,o,d,y)+k.badness;A<=E&&(v=k,E=A)}return{index:t,x:r,priorBreak:v,badness:E}}function Og(t,r,o,h,d,y,v){if(y!=="point")return[];if(!t)return[];for(var E,T=[],P=function(he,ue,_e,Ee,Ie,Me){for(var Fe=0,qe=0;qe<he.length();qe++){var Je=he.getSection(qe);Fe+=Kx(he.getCharCode(qe),Je,Ee,Ie,ue,Me)}return Fe/Math.max(1,Math.ceil(Fe/_e))}(t,r,o,h,d,v),k=t.text.indexOf("\u200B")>=0,A=0,F=0;F<t.length();F++){var U=t.getSection(F),ne=t.getCharCode(F);if(qd[ne]||(A+=Kx(ne,U,h,d,r,v)),F<t.length()-1){var re=!((E=ne)<11904||!(et["Bopomofo Extended"](E)||et.Bopomofo(E)||et["CJK Compatibility Forms"](E)||et["CJK Compatibility Ideographs"](E)||et["CJK Compatibility"](E)||et["CJK Radicals Supplement"](E)||et["CJK Strokes"](E)||et["CJK Symbols and Punctuation"](E)||et["CJK Unified Ideographs Extension A"](E)||et["CJK Unified Ideographs"](E)||et["Enclosed CJK Letters and Months"](E)||et["Halfwidth and Fullwidth Forms"](E)||et.Hiragana(E)||et["Ideographic Description Characters"](E)||et["Kangxi Radicals"](E)||et["Katakana Phonetic Extensions"](E)||et.Katakana(E)||et["Vertical Forms"](E)||et["Yi Radicals"](E)||et["Yi Syllables"](E)));(oo[ne]||re||U.imageName)&&T.push(Jx(F+1,A,P,T,GP(ne,t.getCharCode(F+1),re&&k),!1))}}return function he(ue){return ue?he(ue.priorBreak).concat(ue.index):[]}(Jx(t.length(),A,P,T,0,!0))}function Dg(t){var r=.5,o=.5;switch(t){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:r,verticalAlign:o}}function HP(t,r,o,h,d){if(h||d)for(var y=t[o],v=(t[o].x+y.metrics.advance*y.scale)*h,E=r;E<=o;E++)t[E].x-=v,t[E].y+=d}function Qx(t,r,o,h,d,y){var v,E=t.image;if(E.content){var T=E.content,P=E.pixelRatio||1;v=[T[0]/P,T[1]/P,E.displaySize[0]-T[2]/P,E.displaySize[1]-T[3]/P]}var k,A,F,U,ne=r.left*y,re=r.right*y;o==="width"||o==="both"?(U=d[0]+ne-h[3],A=d[0]+re+h[1]):A=(U=d[0]+(ne+re-E.displaySize[0])/2)+E.displaySize[0];var he=r.top*y,ue=r.bottom*y;return o==="height"||o==="both"?(k=d[1]+he-h[0],F=d[1]+ue+h[2]):F=(k=d[1]+(he+ue-E.displaySize[1])/2)+E.displaySize[1],{image:E,top:k,right:A,bottom:F,left:U,collisionPadding:v}}oo[10]=!0,oo[32]=!0,oo[38]=!0,oo[40]=!0,oo[41]=!0,oo[43]=!0,oo[45]=!0,oo[47]=!0,oo[173]=!0,oo[183]=!0,oo[8203]=!0,oo[8208]=!0,oo[8211]=!0,oo[8231]=!0;var cc=function(t){function r(o,h,d,y){t.call(this,o,h),this.angle=d,y!==void 0&&(this.segment=y)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.clone=function(){return new r(this.x,this.y,this.angle,this.segment)},r}(M);function Fg(t,r){var o=r.expression;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new an(t+1))};if(o.kind==="source")return{kind:"source"};for(var h=o.zoomStops,d=o.interpolationType,y=0;y<h.length&&h[y]<=t;)y++;for(var v=y=Math.max(0,y-1);v<h.length&&h[v]<t+1;)v++;v=Math.min(h.length-1,v);var E=h[y],T=h[v];return o.kind==="composite"?{kind:"composite",minZoom:E,maxZoom:T,interpolationType:d}:{kind:"camera",minZoom:E,maxZoom:T,minSize:o.evaluate(new an(E)),maxSize:o.evaluate(new an(T)),interpolationType:d}}function e1(t,r,o){var h=r.uSize,d=o.lowerSize;return t.kind==="source"?d/128:t.kind==="composite"?kr(d/128,o.upperSize/128,r.uSizeT):h}function t1(t,r){var o=0,h=0;if(t.kind==="constant")h=t.layoutSize;else if(t.kind!=="source"){var d=t.interpolationType,y=d?q(ci.interpolationFactor(d,r,t.minZoom,t.maxZoom),0,1):0;t.kind==="camera"?h=kr(t.minSize,t.maxSize,y):o=y}return{uSizeT:o,uSize:h}}ht("Anchor",cc);var XP=Object.freeze({__proto__:null,getSizeData:Fg,evaluateSizeForFeature:e1,evaluateSizeForZoom:t1,SIZE_PACK_FACTOR:128});function n1(t,r,o,h,d){if(r.segment===void 0)return!0;for(var y=r,v=r.segment+1,E=0;E>-o/2;){if(--v<0)return!1;E-=t[v].dist(y),y=t[v]}E+=t[v].dist(t[v+1]),v++;for(var T=[],P=0;E<o/2;){var k=t[v],A=t[v+1];if(!A)return!1;var F=t[v-1].angleTo(k)-k.angleTo(A);for(F=Math.abs((F+3*Math.PI)%(2*Math.PI)-Math.PI),T.push({distance:E,angleDelta:F}),P+=F;E-T[0].distance>h;)P-=T.shift().angleDelta;if(P>d)return!1;v++,E+=k.dist(A)}return!0}function r1(t){for(var r=0,o=0;o<t.length-1;o++)r+=t[o].dist(t[o+1]);return r}function i1(t,r,o){return t?.6*r*o:0}function o1(t,r){return Math.max(t?t.right-t.left:0,r?r.right-r.left:0)}function KP(t,r,o,h,d,y){for(var v=i1(o,d,y),E=o1(o,h)*y,T=0,P=r1(t)/2,k=0;k<t.length-1;k++){var A=t[k],F=t[k+1],U=A.dist(F);if(T+U>P){var ne=(P-T)/U,re=kr(A.x,F.x,ne),he=kr(A.y,F.y,ne),ue=new cc(re,he,F.angleTo(A),k);return ue._round(),!v||n1(t,ue,E,v,r)?ue:void 0}T+=U}}function YP(t,r,o,h,d,y,v,E,T){var P=i1(h,y,v),k=o1(h,d),A=k*v,F=t[0].x===0||t[0].x===T||t[0].y===0||t[0].y===T;return r-A<r/4&&(r=A+r/4),function U(ne,re,he,ue,_e,Ee,Ie,Me,Fe){for(var qe=Ee/2,Je=r1(ne),bt=0,it=re-he,Pt=[],ot=0;ot<ne.length-1;ot++){for(var Qt=ne[ot],Ot=ne[ot+1],_t=Qt.dist(Ot),rn=Ot.angleTo(Qt);it+he<bt+_t;){var Xt=((it+=he)-bt)/_t,dn=kr(Qt.x,Ot.x,Xt),kt=kr(Qt.y,Ot.y,Xt);if(dn>=0&&dn<Fe&&kt>=0&&kt<Fe&&it-qe>=0&&it+qe<=Je){var wn=new cc(dn,kt,rn,ot);wn._round(),ue&&!n1(ne,wn,Ee,ue,_e)||Pt.push(wn)}}bt+=_t}return Me||Pt.length||Ie||(Pt=U(ne,bt/2,he,ue,_e,Ee,Ie,!0,Fe)),Pt}(t,F?r/2*E%r:(k/2+2*y)*v*E%r,r,P,o,A,F,!1,T)}function a1(t,r,o,h,d){for(var y=[],v=0;v<t.length;v++)for(var E=t[v],T=void 0,P=0;P<E.length-1;P++){var k=E[P],A=E[P+1];k.x<r&&A.x<r||(k.x<r?k=new M(r,k.y+(r-k.x)/(A.x-k.x)*(A.y-k.y))._round():A.x<r&&(A=new M(r,k.y+(r-k.x)/(A.x-k.x)*(A.y-k.y))._round()),k.y<o&&A.y<o||(k.y<o?k=new M(k.x+(o-k.y)/(A.y-k.y)*(A.x-k.x),o)._round():A.y<o&&(A=new M(k.x+(o-k.y)/(A.y-k.y)*(A.x-k.x),o)._round()),k.x>=h&&A.x>=h||(k.x>=h?k=new M(h,k.y+(h-k.x)/(A.x-k.x)*(A.y-k.y))._round():A.x>=h&&(A=new M(h,k.y+(h-k.x)/(A.x-k.x)*(A.y-k.y))._round()),k.y>=d&&A.y>=d||(k.y>=d?k=new M(k.x+(d-k.y)/(A.y-k.y)*(A.x-k.x),d)._round():A.y>=d&&(A=new M(k.x+(d-k.y)/(A.y-k.y)*(A.x-k.x),d)._round()),T&&k.equals(T[T.length-1])||y.push(T=[k]),T.push(A)))))}return y}function s1(t,r,o,h){var d=[],y=t.image,v=y.pixelRatio,E=y.paddedRect.w-2,T=y.paddedRect.h-2,P=t.right-t.left,k=t.bottom-t.top,A=y.stretchX||[[0,E]],F=y.stretchY||[[0,T]],U=function(dn,kt){return dn+kt[1]-kt[0]},ne=A.reduce(U,0),re=F.reduce(U,0),he=E-ne,ue=T-re,_e=0,Ee=ne,Ie=0,Me=re,Fe=0,qe=he,Je=0,bt=ue;if(y.content&&h){var it=y.content;_e=Wd(A,0,it[0]),Ie=Wd(F,0,it[1]),Ee=Wd(A,it[0],it[2]),Me=Wd(F,it[1],it[3]),Fe=it[0]-_e,Je=it[1]-Ie,qe=it[2]-it[0]-Ee,bt=it[3]-it[1]-Me}var Pt=function(dn,kt,wn,Jn){var pr=Zd(dn.stretch-_e,Ee,P,t.left),or=Gd(dn.fixed-Fe,qe,dn.stretch,ne),Qn=Zd(kt.stretch-Ie,Me,k,t.top),hr=Gd(kt.fixed-Je,bt,kt.stretch,re),Gr=Zd(wn.stretch-_e,Ee,P,t.left),Hr=Gd(wn.fixed-Fe,qe,wn.stretch,ne),Si=Zd(Jn.stretch-Ie,Me,k,t.top),ii=Gd(Jn.fixed-Je,bt,Jn.stretch,re),Ti=new M(pr,Qn),xr=new M(Gr,Qn),oi=new M(Gr,Si),un=new M(pr,Si),On=new M(or/v,hr/v),An=new M(Hr/v,ii/v),gn=r*Math.PI/180;if(gn){var Ri=Math.sin(gn),gi=Math.cos(gn),Wn=[gi,-Ri,Ri,gi];Ti._matMult(Wn),xr._matMult(Wn),un._matMult(Wn),oi._matMult(Wn)}var Ar=dn.stretch+dn.fixed,vi=kt.stretch+kt.fixed;return{tl:Ti,tr:xr,bl:un,br:oi,tex:{x:y.paddedRect.x+1+Ar,y:y.paddedRect.y+1+vi,w:wn.stretch+wn.fixed-Ar,h:Jn.stretch+Jn.fixed-vi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:On,pixelOffsetBR:An,minFontScaleX:qe/v/P,minFontScaleY:bt/v/k,isSDF:o}};if(h&&(y.stretchX||y.stretchY))for(var ot=l1(A,he,ne),Qt=l1(F,ue,re),Ot=0;Ot<ot.length-1;Ot++)for(var _t=ot[Ot],rn=ot[Ot+1],Xt=0;Xt<Qt.length-1;Xt++)d.push(Pt(_t,Qt[Xt],rn,Qt[Xt+1]));else d.push(Pt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:E+1},{fixed:0,stretch:T+1}));return d}function Wd(t,r,o){for(var h=0,d=0,y=t;d<y.length;d+=1){var v=y[d];h+=Math.max(r,Math.min(o,v[1]))-Math.max(r,Math.min(o,v[0]))}return h}function l1(t,r,o){for(var h=[{fixed:-1,stretch:0}],d=0,y=t;d<y.length;d+=1){var v=y[d],E=v[0],T=v[1],P=h[h.length-1];h.push({fixed:E-P.stretch,stretch:P.stretch}),h.push({fixed:E-P.stretch,stretch:P.stretch+(T-E)})}return h.push({fixed:r+1,stretch:o}),h}function Zd(t,r,o,h){return t/r*o+h}function Gd(t,r,o,h){return t-r*o/h}var Hd=function(t,r,o,h,d,y,v,E,T,P){if(this.boxStartIndex=t.length,T){var k=y.top,A=y.bottom,F=y.collisionPadding;F&&(k-=F[1],A+=F[3]);var U=A-k;U>0&&(U=Math.max(10,U),this.circleDiameter=U)}else{var ne=y.top*v-E,re=y.bottom*v+E,he=y.left*v-E,ue=y.right*v+E,_e=y.collisionPadding;if(_e&&(he-=_e[0]*v,ne-=_e[1]*v,ue+=_e[2]*v,re+=_e[3]*v),P){var Ee=new M(he,ne),Ie=new M(ue,ne),Me=new M(he,re),Fe=new M(ue,re),qe=P*Math.PI/180;Ee._rotate(qe),Ie._rotate(qe),Me._rotate(qe),Fe._rotate(qe),he=Math.min(Ee.x,Ie.x,Me.x,Fe.x),ue=Math.max(Ee.x,Ie.x,Me.x,Fe.x),ne=Math.min(Ee.y,Ie.y,Me.y,Fe.y),re=Math.max(Ee.y,Ie.y,Me.y,Fe.y)}t.emplaceBack(r.x,r.y,he,ne,ue,re,o,h,d)}this.boxEndIndex=t.length},pc=function(t,r){if(t===void 0&&(t=[]),r===void 0&&(r=JP),this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(var o=(this.length>>1)-1;o>=0;o--)this._down(o)};function JP(t,r){return t<r?-1:t>r?1:0}function QP(t,r,o){r===void 0&&(r=1),o===void 0&&(o=!1);for(var h=1/0,d=1/0,y=-1/0,v=-1/0,E=t[0],T=0;T<E.length;T++){var P=E[T];(!T||P.x<h)&&(h=P.x),(!T||P.y<d)&&(d=P.y),(!T||P.x>y)&&(y=P.x),(!T||P.y>v)&&(v=P.y)}var k=Math.min(y-h,v-d),A=k/2,F=new pc([],eI);if(k===0)return new M(h,d);for(var U=h;U<y;U+=k)for(var ne=d;ne<v;ne+=k)F.push(new hc(U+A,ne+A,A,t));for(var re=function(_e){for(var Ee=0,Ie=0,Me=0,Fe=_e[0],qe=0,Je=Fe.length,bt=Je-1;qe<Je;bt=qe++){var it=Fe[qe],Pt=Fe[bt],ot=it.x*Pt.y-Pt.x*it.y;Ie+=(it.x+Pt.x)*ot,Me+=(it.y+Pt.y)*ot,Ee+=3*ot}return new hc(Ie/Ee,Me/Ee,0,_e)}(t),he=F.length;F.length;){var ue=F.pop();(ue.d>re.d||!re.d)&&(re=ue,o&&console.log("found best %d after %d probes",Math.round(1e4*ue.d)/1e4,he)),ue.max-re.d<=r||(F.push(new hc(ue.p.x-(A=ue.h/2),ue.p.y-A,A,t)),F.push(new hc(ue.p.x+A,ue.p.y-A,A,t)),F.push(new hc(ue.p.x-A,ue.p.y+A,A,t)),F.push(new hc(ue.p.x+A,ue.p.y+A,A,t)),he+=4)}return o&&(console.log("num probes: "+he),console.log("best distance: "+re.d)),re.p}function eI(t,r){return r.max-t.max}function hc(t,r,o,h){this.p=new M(t,r),this.h=o,this.d=function(d,y){for(var v=!1,E=1/0,T=0;T<y.length;T++)for(var P=y[T],k=0,A=P.length,F=A-1;k<A;F=k++){var U=P[k],ne=P[F];U.y>d.y!=ne.y>d.y&&d.x<(ne.x-U.x)*(d.y-U.y)/(ne.y-U.y)+U.x&&(v=!v),E=Math.min(E,nl(d,U,ne))}return(v?1:-1)*Math.sqrt(E)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}pc.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},pc.prototype.pop=function(){if(this.length!==0){var t=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),t}},pc.prototype.peek=function(){return this.data[0]},pc.prototype._up=function(t){for(var r=this.data,o=this.compare,h=r[t];t>0;){var d=t-1>>1,y=r[d];if(o(h,y)>=0)break;r[t]=y,t=d}r[t]=h},pc.prototype._down=function(t){for(var r=this.data,o=this.compare,h=this.length>>1,d=r[t];t<h;){var y=1+(t<<1),v=r[y],E=y+1;if(E<this.length&&o(r[E],v)<0&&(y=E,v=r[E]),o(v,d)>=0)break;r[t]=v,t=y}r[t]=d};var Bg=Number.POSITIVE_INFINITY;function u1(t,r){return r[1]!==Bg?function(o,h,d){var y=0,v=0;switch(h=Math.abs(h),d=Math.abs(d),o){case"top-right":case"top-left":case"top":v=d-7;break;case"bottom-right":case"bottom-left":case"bottom":v=7-d}switch(o){case"top-right":case"bottom-right":case"right":y=-h;break;case"top-left":case"bottom-left":case"left":y=h}return[y,v]}(t,r[0],r[1]):function(o,h){var d=0,y=0;h<0&&(h=0);var v=h/Math.sqrt(2);switch(o){case"top-right":case"top-left":y=v-7;break;case"bottom-right":case"bottom-left":y=7-v;break;case"bottom":y=7-h;break;case"top":y=h-7}switch(o){case"top-right":case"bottom-right":d=-v;break;case"top-left":case"bottom-left":d=v;break;case"left":d=h;break;case"right":d=-h}return[d,y]}(t,r[0])}function Ng(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function c1(t,r,o,h,d,y,v,E,T,P,k,A,F,U,ne){var re=function(Ie,Me,Fe,qe,Je,bt,it,Pt){for(var ot=qe.layout.get("text-rotate").evaluate(bt,{})*Math.PI/180,Qt=[],Ot=0,_t=Me.positionedLines;Ot<_t.length;Ot+=1)for(var rn=_t[Ot],Xt=0,dn=rn.positionedGlyphs;Xt<dn.length;Xt+=1){var kt=dn[Xt];if(kt.rect){var wn=kt.rect||{},Jn=4,pr=!0,or=1,Qn=0,hr=(Je||Pt)&&kt.vertical,Gr=kt.metrics.advance*kt.scale/2;if(Pt&&Me.verticalizable&&(Qn=rn.lineOffset/2-(kt.imageName?-(24-kt.metrics.width*kt.scale)/2:24*(kt.scale-1))),kt.imageName){var Hr=it[kt.imageName];pr=Hr.sdf,Jn=1/(or=Hr.pixelRatio)}var Si=Je?[kt.x+Gr,kt.y]:[0,0],ii=Je?[0,0]:[kt.x+Gr+Fe[0],kt.y+Fe[1]-Qn],Ti=[0,0];hr&&(Ti=ii,ii=[0,0]);var xr=(kt.metrics.left-Jn)*kt.scale-Gr+ii[0],oi=(-kt.metrics.top-Jn)*kt.scale+ii[1],un=xr+wn.w*kt.scale/or,On=oi+wn.h*kt.scale/or,An=new M(xr,oi),gn=new M(un,oi),Ri=new M(xr,On),gi=new M(un,On);if(hr){var Wn=new M(-Gr,Gr- -17),Ar=-Math.PI/2,vi=12-Gr,En=new M(22-vi,-(kt.imageName?vi:0)),$a=new(Function.prototype.bind.apply(M,[null].concat(Ti)));An._rotateAround(Ar,Wn)._add(En)._add($a),gn._rotateAround(Ar,Wn)._add(En)._add($a),Ri._rotateAround(Ar,Wn)._add(En)._add($a),gi._rotateAround(Ar,Wn)._add(En)._add($a)}if(ot){var xo=Math.sin(ot),qa=Math.cos(ot),br=[qa,-xo,xo,qa];An._matMult(br),gn._matMult(br),Ri._matMult(br),gi._matMult(br)}var Wa=new M(0,0),Go=new M(0,0);Qt.push({tl:An,tr:gn,bl:Ri,br:gi,tex:wn,writingMode:Me.writingMode,glyphOffset:Si,sectionIndex:kt.sectionIndex,isSDF:pr,pixelOffsetTL:Wa,pixelOffsetBR:Go,minFontScaleX:0,minFontScaleY:0})}}return Qt}(0,o,E,d,y,v,h,t.allowVerticalPlacement),he=t.textSizeData,ue=null;he.kind==="source"?(ue=[128*d.layout.get("text-size").evaluate(v,{})])[0]>32640&&Qe(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):he.kind==="composite"&&((ue=[128*U.compositeTextSizes[0].evaluate(v,{},ne),128*U.compositeTextSizes[1].evaluate(v,{},ne)])[0]>32640||ue[1]>32640)&&Qe(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,re,ue,E,y,v,P,r,T.lineStartIndex,T.lineLength,F,ne);for(var _e=0,Ee=k;_e<Ee.length;_e+=1)A[Ee[_e]]=t.text.placedSymbolArray.length-1;return 4*re.length}function p1(t){for(var r in t)return t[r];return null}function tI(t,r,o,h){var d=t.compareText;if(r in d){for(var y=d[r],v=y.length-1;v>=0;v--)if(h.dist(y[v])<o)return!0}else d[r]=[];return d[r].push(h),!1}var nI=ac.VectorTileFeature.types,rI=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Xd(t,r,o,h,d,y,v,E,T,P,k,A,F){var U=E?Math.min(32640,Math.round(E[0])):0,ne=E?Math.min(32640,Math.round(E[1])):0;t.emplaceBack(r,o,Math.round(32*h),Math.round(32*d),y,v,(U<<1)+(T?1:0),ne,16*P,16*k,256*A,256*F)}function Ug(t,r,o){t.emplaceBack(r.x,r.y,o),t.emplaceBack(r.x,r.y,o),t.emplaceBack(r.x,r.y,o),t.emplaceBack(r.x,r.y,o)}function iI(t){for(var r=0,o=t.sections;r<o.length;r+=1)if(Xu(o[r].text))return!0;return!1}var fc=function(t){this.layoutVertexArray=new Qu,this.indexArray=new Fa,this.programConfigurations=t,this.segments=new W,this.dynamicLayoutVertexArray=new Qs,this.opacityVertexArray=new Yl,this.placedSymbolArray=new f};fc.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},fc.prototype.upload=function(t,r,o,h){this.isEmpty()||(o&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,MP.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,AP.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,rI,!0),this.opacityVertexBuffer.itemSize=1),(o||h)&&this.programConfigurations.upload(t))},fc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ht("SymbolBuffers",fc);var ch=function(t,r,o){this.layoutVertexArray=new t,this.layoutAttributes=r,this.indexArray=new o,this.segments=new W,this.collisionVertexArray=new Jp};ch.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,zP.members,!0)},ch.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ht("CollisionBuffers",ch);var Rn=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(y){return y.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=io([]),this.placementViewportMatrix=io([]);var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Fg(this.zoom,r["text-size"]),this.iconSizeData=Fg(this.zoom,r["icon-size"]);var o=this.layers[0].layout,h=o.get("symbol-sort-key"),d=o.get("symbol-z-order");this.canOverlap=o.get("text-allow-overlap")||o.get("icon-allow-overlap")||o.get("text-ignore-placement")||o.get("icon-ignore-placement"),this.sortFeaturesByKey=d!=="viewport-y"&&h.constantOr(1)!==void 0,this.sortFeaturesByY=(d==="viewport-y"||d==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,o.get("symbol-placement")==="point"&&(this.writingModes=o.get("text-writing-mode").map(function(y){return _o[y]})),this.stateDependentLayerIds=this.layers.filter(function(y){return y.isStateDependent()}).map(function(y){return y.id}),this.sourceID=t.sourceID};Rn.prototype.createArrays=function(){this.text=new fc(new Lt(this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new fc(new Lt(this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.glyphOffsetArray=new w,this.lineVertexArray=new S,this.symbolInstances=new x},Rn.prototype.calculateGlyphDependencies=function(t,r,o,h,d){for(var y=0;y<t.length;y++)if(r[t.charCodeAt(y)]=!0,(o||h)&&d){var v=sh[t.charAt(y)];v&&(r[v.charCodeAt(0)]=!0)}},Rn.prototype.populate=function(t,r,o){var h=this.layers[0],d=h.layout,y=d.get("text-font"),v=d.get("text-field"),E=d.get("icon-image"),T=(v.value.kind!=="constant"||v.value.value instanceof lr&&!v.value.value.isEmpty()||v.value.value.toString().length>0)&&(y.value.kind!=="constant"||y.value.value.length>0),P=E.value.kind!=="constant"||!!E.value.value||Object.keys(E.parameters).length>0,k=d.get("symbol-sort-key");if(this.features=[],T||P){for(var A=r.iconDependencies,F=r.glyphDependencies,U=r.availableImages,ne=new an(this.zoom),re=0,he=t;re<he.length;re+=1){var ue=he[re],_e=ue.feature,Ee=ue.id,Ie=ue.index,Me=ue.sourceLayerIndex,Fe=h._featureFilter.needGeometry,qe=_r(_e,Fe);if(h._featureFilter.filter(ne,qe,o)){Fe||(qe.geometry=ir(_e));var Je=void 0;if(T){var bt=h.getValueAndResolveTokens("text-field",qe,o,U),it=lr.factory(bt);iI(it)&&(this.hasRTLText=!0),(!this.hasRTLText||Hp()==="unavailable"||this.hasRTLText&&ro.isParsed())&&(Je=LP(it,h,qe))}var Pt=void 0;if(P){var ot=h.getValueAndResolveTokens("icon-image",qe,o,U);Pt=ot instanceof Hn?ot:Hn.fromString(ot)}if(Je||Pt){var Qt=this.sortFeaturesByKey?k.evaluate(qe,{},o):void 0;if(this.features.push({id:Ee,text:Je,icon:Pt,index:Ie,sourceLayerIndex:Me,geometry:qe.geometry,properties:_e.properties,type:nI[_e.type],sortKey:Qt}),Pt&&(A[Pt.name]=!0),Je){var Ot=y.evaluate(qe,{},o).join(","),_t=d.get("text-rotation-alignment")==="map"&&d.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(_o.vertical)>=0;for(var rn=0,Xt=Je.sections;rn<Xt.length;rn+=1){var dn=Xt[rn];if(dn.image)A[dn.image.name]=!0;else{var kt=Wp(Je.toString()),wn=dn.fontStack||Ot,Jn=F[wn]=F[wn]||{};this.calculateGlyphDependencies(dn.text,Jn,_t,this.allowVerticalPlacement,kt)}}}}}}d.get("symbol-placement")==="line"&&(this.features=function(pr){var or={},Qn={},hr=[],Gr=0;function Hr(Wn){hr.push(pr[Wn]),Gr++}function Si(Wn,Ar,vi){var En=Qn[Wn];return delete Qn[Wn],Qn[Ar]=En,hr[En].geometry[0].pop(),hr[En].geometry[0]=hr[En].geometry[0].concat(vi[0]),En}function ii(Wn,Ar,vi){var En=or[Ar];return delete or[Ar],or[Wn]=En,hr[En].geometry[0].shift(),hr[En].geometry[0]=vi[0].concat(hr[En].geometry[0]),En}function Ti(Wn,Ar,vi){var En=vi?Ar[0][Ar[0].length-1]:Ar[0][0];return Wn+":"+En.x+":"+En.y}for(var xr=0;xr<pr.length;xr++){var oi=pr[xr],un=oi.geometry,On=oi.text?oi.text.toString():null;if(On){var An=Ti(On,un),gn=Ti(On,un,!0);if(An in Qn&&gn in or&&Qn[An]!==or[gn]){var Ri=ii(An,gn,un),gi=Si(An,gn,hr[Ri].geometry);delete or[An],delete Qn[gn],Qn[Ti(On,hr[gi].geometry,!0)]=gi,hr[Ri].geometry=null}else An in Qn?Si(An,gn,un):gn in or?ii(An,gn,un):(Hr(xr),or[An]=Gr-1,Qn[gn]=Gr-1)}else Hr(xr)}return hr.filter(function(Wn){return Wn.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(pr,or){return pr.sortKey-or.sortKey})}},Rn.prototype.update=function(t,r,o){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,r,this.layers,o),this.icon.programConfigurations.updatePaintArrays(t,r,this.layers,o))},Rn.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Rn.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Rn.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Rn.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Rn.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Rn.prototype.addToLineVertexArray=function(t,r){var o=this.lineVertexArray.length;if(t.segment!==void 0){for(var h=t.dist(r[t.segment+1]),d=t.dist(r[t.segment]),y={},v=t.segment+1;v<r.length;v++)y[v]={x:r[v].x,y:r[v].y,tileUnitDistanceFromAnchor:h},v<r.length-1&&(h+=r[v+1].dist(r[v]));for(var E=t.segment||0;E>=0;E--)y[E]={x:r[E].x,y:r[E].y,tileUnitDistanceFromAnchor:d},E>0&&(d+=r[E-1].dist(r[E]));for(var T=0;T<r.length;T++){var P=y[T];this.lineVertexArray.emplaceBack(P.x,P.y,P.tileUnitDistanceFromAnchor)}}return{lineStartIndex:o,lineLength:this.lineVertexArray.length-o}},Rn.prototype.addSymbols=function(t,r,o,h,d,y,v,E,T,P,k,A){for(var F=t.indexArray,U=t.layoutVertexArray,ne=t.segments.prepareSegment(4*r.length,U,F,this.canOverlap?y.sortKey:void 0),re=this.glyphOffsetArray.length,he=ne.vertexLength,ue=this.allowVerticalPlacement&&v===_o.vertical?Math.PI/2:0,_e=y.text&&y.text.sections,Ee=0;Ee<r.length;Ee++){var Ie=r[Ee],Me=Ie.tl,Fe=Ie.tr,qe=Ie.bl,Je=Ie.br,bt=Ie.tex,it=Ie.pixelOffsetTL,Pt=Ie.pixelOffsetBR,ot=Ie.minFontScaleX,Qt=Ie.minFontScaleY,Ot=Ie.glyphOffset,_t=Ie.isSDF,rn=Ie.sectionIndex,Xt=ne.vertexLength,dn=Ot[1];Xd(U,E.x,E.y,Me.x,dn+Me.y,bt.x,bt.y,o,_t,it.x,it.y,ot,Qt),Xd(U,E.x,E.y,Fe.x,dn+Fe.y,bt.x+bt.w,bt.y,o,_t,Pt.x,it.y,ot,Qt),Xd(U,E.x,E.y,qe.x,dn+qe.y,bt.x,bt.y+bt.h,o,_t,it.x,Pt.y,ot,Qt),Xd(U,E.x,E.y,Je.x,dn+Je.y,bt.x+bt.w,bt.y+bt.h,o,_t,Pt.x,Pt.y,ot,Qt),Ug(t.dynamicLayoutVertexArray,E,ue),F.emplaceBack(Xt,Xt+1,Xt+2),F.emplaceBack(Xt+1,Xt+2,Xt+3),ne.vertexLength+=4,ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ot[0]),Ee!==r.length-1&&rn===r[Ee+1].sectionIndex||t.programConfigurations.populatePaintArrays(U.length,y,y.index,{},A,_e&&_e[rn])}t.placedSymbolArray.emplaceBack(E.x,E.y,re,this.glyphOffsetArray.length-re,he,T,P,E.segment,o?o[0]:0,o?o[1]:0,h[0],h[1],v,0,!1,0,k)},Rn.prototype._addCollisionDebugVertex=function(t,r,o,h,d,y){return r.emplaceBack(0,0),t.emplaceBack(o.x,o.y,h,d,Math.round(y.x),Math.round(y.y))},Rn.prototype.addCollisionDebugVertices=function(t,r,o,h,d,y,v){var E=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),T=E.vertexLength,P=d.layoutVertexArray,k=d.collisionVertexArray,A=v.anchorX,F=v.anchorY;this._addCollisionDebugVertex(P,k,y,A,F,new M(t,r)),this._addCollisionDebugVertex(P,k,y,A,F,new M(o,r)),this._addCollisionDebugVertex(P,k,y,A,F,new M(o,h)),this._addCollisionDebugVertex(P,k,y,A,F,new M(t,h)),E.vertexLength+=4;var U=d.indexArray;U.emplaceBack(T,T+1),U.emplaceBack(T+1,T+2),U.emplaceBack(T+2,T+3),U.emplaceBack(T+3,T),E.primitiveLength+=4},Rn.prototype.addDebugCollisionBoxes=function(t,r,o,h){for(var d=t;d<r;d++){var y=this.collisionBoxArray.get(d);this.addCollisionDebugVertices(y.x1,y.y1,y.x2,y.y2,h?this.textCollisionBox:this.iconCollisionBox,y.anchorPoint,o)}},Rn.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ch(el,$x.members,Jl),this.iconCollisionBox=new ch(el,$x.members,Jl);for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}},Rn.prototype._deserializeCollisionBoxesForSymbol=function(t,r,o,h,d,y,v,E,T){for(var P={},k=r;k<o;k++){var A=t.get(k);P.textBox={x1:A.x1,y1:A.y1,x2:A.x2,y2:A.y2,anchorPointX:A.anchorPointX,anchorPointY:A.anchorPointY},P.textFeatureIndex=A.featureIndex;break}for(var F=h;F<d;F++){var U=t.get(F);P.verticalTextBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},P.verticalTextFeatureIndex=U.featureIndex;break}for(var ne=y;ne<v;ne++){var re=t.get(ne);P.iconBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},P.iconFeatureIndex=re.featureIndex;break}for(var he=E;he<T;he++){var ue=t.get(he);P.verticalIconBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},P.verticalIconFeatureIndex=ue.featureIndex;break}return P},Rn.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var r=0;r<this.symbolInstances.length;r++){var o=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,o.textBoxStartIndex,o.textBoxEndIndex,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o.iconBoxStartIndex,o.iconBoxEndIndex,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex))}},Rn.prototype.hasTextData=function(){return this.text.segments.get().length>0},Rn.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Rn.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Rn.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Rn.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Rn.prototype.addIndicesForPlacedSymbol=function(t,r){for(var o=t.placedSymbolArray.get(r),h=o.vertexStartIndex+4*o.numGlyphs,d=o.vertexStartIndex;d<h;d+=4)t.indexArray.emplaceBack(d,d+1,d+2),t.indexArray.emplaceBack(d+1,d+2,d+3)},Rn.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var r=Math.sin(t),o=Math.cos(t),h=[],d=[],y=[],v=0;v<this.symbolInstances.length;++v){y.push(v);var E=this.symbolInstances.get(v);h.push(0|Math.round(r*E.anchorX+o*E.anchorY)),d.push(E.featureIndex)}return y.sort(function(T,P){return h[T]-h[P]||d[P]-d[T]}),y},Rn.prototype.addToSortKeyRanges=function(t,r){var o=this.sortKeyRanges[this.sortKeyRanges.length-1];o&&o.sortKey===r?o.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:t,symbolInstanceEnd:t+1})},Rn.prototype.sortFeatures=function(t){var r=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var o=0,h=this.symbolInstanceIndexes;o<h.length;o+=1){var d=this.symbolInstances.get(h[o]);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach(function(y,v,E){y>=0&&E.indexOf(y)===v&&r.addIndicesForPlacedSymbol(r.text,y)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ht("SymbolBucket",Rn,{omit:["layers","collisionBoxArray","features","compareText"]}),Rn.MAX_GLYPHS=65535,Rn.addDynamicAttributes=Ug;var oI=new hi({"symbol-placement":new Tt(Z.layout_symbol["symbol-placement"]),"symbol-spacing":new Tt(Z.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Tt(Z.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new vt(Z.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Tt(Z.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Tt(Z.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Tt(Z.layout_symbol["icon-ignore-placement"]),"icon-optional":new Tt(Z.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Tt(Z.layout_symbol["icon-rotation-alignment"]),"icon-size":new vt(Z.layout_symbol["icon-size"]),"icon-text-fit":new Tt(Z.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Tt(Z.layout_symbol["icon-text-fit-padding"]),"icon-image":new vt(Z.layout_symbol["icon-image"]),"icon-rotate":new vt(Z.layout_symbol["icon-rotate"]),"icon-padding":new Tt(Z.layout_symbol["icon-padding"]),"icon-keep-upright":new Tt(Z.layout_symbol["icon-keep-upright"]),"icon-offset":new vt(Z.layout_symbol["icon-offset"]),"icon-anchor":new vt(Z.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Tt(Z.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Tt(Z.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Tt(Z.layout_symbol["text-rotation-alignment"]),"text-field":new vt(Z.layout_symbol["text-field"]),"text-font":new vt(Z.layout_symbol["text-font"]),"text-size":new vt(Z.layout_symbol["text-size"]),"text-max-width":new vt(Z.layout_symbol["text-max-width"]),"text-line-height":new Tt(Z.layout_symbol["text-line-height"]),"text-letter-spacing":new vt(Z.layout_symbol["text-letter-spacing"]),"text-justify":new vt(Z.layout_symbol["text-justify"]),"text-radial-offset":new vt(Z.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Tt(Z.layout_symbol["text-variable-anchor"]),"text-anchor":new vt(Z.layout_symbol["text-anchor"]),"text-max-angle":new Tt(Z.layout_symbol["text-max-angle"]),"text-writing-mode":new Tt(Z.layout_symbol["text-writing-mode"]),"text-rotate":new vt(Z.layout_symbol["text-rotate"]),"text-padding":new Tt(Z.layout_symbol["text-padding"]),"text-keep-upright":new Tt(Z.layout_symbol["text-keep-upright"]),"text-transform":new vt(Z.layout_symbol["text-transform"]),"text-offset":new vt(Z.layout_symbol["text-offset"]),"text-allow-overlap":new Tt(Z.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Tt(Z.layout_symbol["text-ignore-placement"]),"text-optional":new Tt(Z.layout_symbol["text-optional"])}),Vg={paint:new hi({"icon-opacity":new vt(Z.paint_symbol["icon-opacity"]),"icon-color":new vt(Z.paint_symbol["icon-color"]),"icon-halo-color":new vt(Z.paint_symbol["icon-halo-color"]),"icon-halo-width":new vt(Z.paint_symbol["icon-halo-width"]),"icon-halo-blur":new vt(Z.paint_symbol["icon-halo-blur"]),"icon-translate":new Tt(Z.paint_symbol["icon-translate"]),"icon-translate-anchor":new Tt(Z.paint_symbol["icon-translate-anchor"]),"text-opacity":new vt(Z.paint_symbol["text-opacity"]),"text-color":new vt(Z.paint_symbol["text-color"],{runtimeType:Ye,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new vt(Z.paint_symbol["text-halo-color"]),"text-halo-width":new vt(Z.paint_symbol["text-halo-width"]),"text-halo-blur":new vt(Z.paint_symbol["text-halo-blur"]),"text-translate":new Tt(Z.paint_symbol["text-translate"]),"text-translate-anchor":new Tt(Z.paint_symbol["text-translate-anchor"])}),layout:oI},dc=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:ct,this.defaultValue=t};dc.prototype.evaluate=function(t){if(t.formattedSection){var r=this.defaultValue.property.overrides;if(r&&r.hasOverride(t.formattedSection))return r.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},dc.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},dc.prototype.outputDefined=function(){return!1},dc.prototype.serialize=function(){return null},ht("FormatSectionOverride",dc,{omit:["defaultValue"]});var aI=function(t){function r(o){t.call(this,o,Vg)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.recalculate=function(o,h){if(t.prototype.recalculate.call(this,o,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var d=this.layout.get("text-writing-mode");if(d){for(var y=[],v=0,E=d;v<E.length;v+=1){var T=E[v];y.indexOf(T)<0&&y.push(T)}this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},r.prototype.getValueAndResolveTokens=function(o,h,d,y){var v=this.layout.get(o).evaluate(h,{},d,y),E=this._unevaluatedLayout._values[o];return E.isDataDriven()||Ul(E.value)||!v?v:function(T,P){return P.replace(/{([^{}]+)}/g,function(k,A){return A in T?String(T[A]):""})}(h.properties,v)},r.prototype.createBucket=function(o){return new Rn(o)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype._setPaintOverrides=function(){for(var o=0,h=Vg.paint.overridableProperties;o<h.length;o+=1){var d=h[o];if(r.hasPaintOverride(this.layout,d)){var y,v=this.paint.get(d),E=new dc(v),T=new Gs(E,v.property.specification);y=v.value.kind==="constant"||v.value.kind==="source"?new Vl("source",T):new Hs("composite",T,v.value.zoomStops,v.value._interpolationType),this.paint._values[d]=new xi(v.property,y,v.parameters)}}},r.prototype._handleOverridablePaintPropertyUpdate=function(o,h,d){return!(!this.layout||h.isDataDriven()||d.isDataDriven())&&r.hasPaintOverride(this.layout,o)},r.hasPaintOverride=function(o,h){var d=o.get("text-field"),y=Vg.paint.properties[h],v=!1,E=function(k){for(var A=0,F=k;A<F.length;A+=1)if(y.overrides&&y.overrides.hasOverride(F[A]))return void(v=!0)};if(d.value.kind==="constant"&&d.value.value instanceof lr)E(d.value.value.sections);else if(d.value.kind==="source"){var T=function(k){v||(k instanceof qr&&Xn(k.value)===kn?E(k.value.sections):k instanceof Ui?E(k.sections):k.eachChild(T))},P=d.value;P._styleExpression&&T(P._styleExpression.expression)}return v},r}($o),sI={paint:new hi({"background-color":new Tt(Z.paint_background["background-color"]),"background-pattern":new bi(Z.paint_background["background-pattern"]),"background-opacity":new Tt(Z.paint_background["background-opacity"])})},lI=function(t){function r(o){t.call(this,o,sI)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}($o),uI={paint:new hi({"raster-opacity":new Tt(Z.paint_raster["raster-opacity"]),"raster-hue-rotate":new Tt(Z.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Tt(Z.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Tt(Z.paint_raster["raster-brightness-max"]),"raster-saturation":new Tt(Z.paint_raster["raster-saturation"]),"raster-contrast":new Tt(Z.paint_raster["raster-contrast"]),"raster-resampling":new Tt(Z.paint_raster["raster-resampling"]),"raster-fade-duration":new Tt(Z.paint_raster["raster-fade-duration"])})},cI=function(t){function r(o){t.call(this,o,uI)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r}($o),pI=function(t){function r(o){t.call(this,o,{}),this.implementation=o}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},r.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},r.prototype.recalculate=function(){},r.prototype.updateTransitions=function(){},r.prototype.hasTransition=function(){},r.prototype.serialize=function(){},r.prototype.onAdd=function(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)},r.prototype.onRemove=function(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)},r}($o),hI={circle:Tg,heatmap:XC,hillshade:YC,fill:dP,"fill-extrusion":EP,line:kP,symbol:aI,background:lI,raster:cI},h1=R.HTMLImageElement,f1=R.HTMLCanvasElement,d1=R.HTMLVideoElement,m1=R.ImageData,Kd=R.ImageBitmap,iu=function(t,r,o,h){this.context=t,this.format=o,this.texture=t.gl.createTexture(),this.update(r,h)};iu.prototype.update=function(t,r,o){var h=t.width,d=t.height,y=!(this.size&&this.size[0]===h&&this.size[1]===d||o),v=this.context,E=v.gl;if(this.useMipmap=Boolean(r&&r.useMipmap),E.bindTexture(E.TEXTURE_2D,this.texture),v.pixelStoreUnpackFlipY.set(!1),v.pixelStoreUnpack.set(1),v.pixelStoreUnpackPremultiplyAlpha.set(this.format===E.RGBA&&(!r||r.premultiply!==!1)),y)this.size=[h,d],t instanceof h1||t instanceof f1||t instanceof d1||t instanceof m1||Kd&&t instanceof Kd?E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,E.UNSIGNED_BYTE,t):E.texImage2D(E.TEXTURE_2D,0,this.format,h,d,0,this.format,E.UNSIGNED_BYTE,t.data);else{var T=o||{x:0,y:0},P=T.x,k=T.y;t instanceof h1||t instanceof f1||t instanceof d1||t instanceof m1||Kd&&t instanceof Kd?E.texSubImage2D(E.TEXTURE_2D,0,P,k,E.RGBA,E.UNSIGNED_BYTE,t):E.texSubImage2D(E.TEXTURE_2D,0,P,k,h,d,E.RGBA,E.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&E.generateMipmap(E.TEXTURE_2D)},iu.prototype.bind=function(t,r,o){var h=this.context.gl;h.bindTexture(h.TEXTURE_2D,this.texture),o!==h.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(o=h.LINEAR),t!==this.filter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,t),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,o||t),this.filter=t),r!==this.wrap&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,r),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,r),this.wrap=r)},iu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},iu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var jg=function(t){var r=this;this._callback=t,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){r._triggered=!1,r._callback()})};jg.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){t._triggered=!1,t._callback()},0))},jg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var mc=function(t,r,o){this.target=t,this.parent=r,this.mapId=o,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},xe(["receive","process"],this),this.invoker=new jg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=st()?t:R};function y1(t,r,o){var h=2*Math.PI*6378137/256/Math.pow(2,o);return[t*h-2*Math.PI*6378137/2,r*h-2*Math.PI*6378137/2]}mc.prototype.send=function(t,r,o,h,d){var y=this;d===void 0&&(d=!1);var v=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(this.callbacks[v]=o);var E=Gt(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:t,hasCallback:!!o,targetMapId:h,mustQueue:d,sourceMapId:this.mapId,data:Mo(r,E)},E),{cancel:function(){o&&delete y.callbacks[v],y.target.postMessage({id:v,type:"<cancel>",targetMapId:h,sourceMapId:y.mapId})}}},mc.prototype.receive=function(t){var r=t.data,o=r.id;if(o&&(!r.targetMapId||this.mapId===r.targetMapId))if(r.type==="<cancel>"){delete this.tasks[o];var h=this.cancelCallbacks[o];delete this.cancelCallbacks[o],h&&h()}else st()||r.mustQueue?(this.tasks[o]=r,this.taskQueue.push(o),this.invoker.trigger()):this.processTask(o,r)},mc.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),r=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),r&&this.processTask(t,r)}},mc.prototype.processTask=function(t,r){var o=this;if(r.type==="<response>"){var h=this.callbacks[t];delete this.callbacks[t],h&&(r.error?h(qi(r.error)):h(null,qi(r.data)))}else{var d=!1,y=Gt(this.globalScope)?void 0:[],v=r.hasCallback?function(k,A){d=!0,delete o.cancelCallbacks[t],o.target.postMessage({id:t,type:"<response>",sourceMapId:o.mapId,error:k?Mo(k):null,data:Mo(A,y)},y)}:function(k){d=!0},E=null,T=qi(r.data);if(this.parent[r.type])E=this.parent[r.type](r.sourceMapId,T,v);else if(this.parent.getWorkerSource){var P=r.type.split(".");E=this.parent.getWorkerSource(r.sourceMapId,P[0],T.source)[P[1]](T,v)}else v(new Error("Could not find function "+r.type));!d&&E&&E.cancel&&(this.cancelCallbacks[t]=E.cancel)}},mc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Br=function(t,r){t&&(r?this.setSouthWest(t).setNorthEast(r):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Br.prototype.setNorthEast=function(t){return this._ne=t instanceof Yn?new Yn(t.lng,t.lat):Yn.convert(t),this},Br.prototype.setSouthWest=function(t){return this._sw=t instanceof Yn?new Yn(t.lng,t.lat):Yn.convert(t),this},Br.prototype.extend=function(t){var r,o,h=this._sw,d=this._ne;if(t instanceof Yn)r=t,o=t;else{if(!(t instanceof Br))return Array.isArray(t)?t.length===4||t.every(Array.isArray)?this.extend(Br.convert(t)):this.extend(Yn.convert(t)):this;if(o=t._ne,!(r=t._sw)||!o)return this}return h||d?(h.lng=Math.min(r.lng,h.lng),h.lat=Math.min(r.lat,h.lat),d.lng=Math.max(o.lng,d.lng),d.lat=Math.max(o.lat,d.lat)):(this._sw=new Yn(r.lng,r.lat),this._ne=new Yn(o.lng,o.lat)),this},Br.prototype.getCenter=function(){return new Yn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Br.prototype.getSouthWest=function(){return this._sw},Br.prototype.getNorthEast=function(){return this._ne},Br.prototype.getNorthWest=function(){return new Yn(this.getWest(),this.getNorth())},Br.prototype.getSouthEast=function(){return new Yn(this.getEast(),this.getSouth())},Br.prototype.getWest=function(){return this._sw.lng},Br.prototype.getSouth=function(){return this._sw.lat},Br.prototype.getEast=function(){return this._ne.lng},Br.prototype.getNorth=function(){return this._ne.lat},Br.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Br.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Br.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Br.prototype.contains=function(t){var r=Yn.convert(t),o=r.lng,h=r.lat,d=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(d=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&d},Br.convert=function(t){return!t||t instanceof Br?t:new Br(t)};var Yn=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid LngLat object: ("+t+", "+r+")");if(this.lng=+t,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Yn.prototype.wrap=function(){return new Yn(B(this.lng,-180,180),this.lat)},Yn.prototype.toArray=function(){return[this.lng,this.lat]},Yn.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Yn.prototype.distanceTo=function(t){var r=Math.PI/180,o=this.lat*r,h=t.lat*r,d=Math.sin(o)*Math.sin(h)+Math.cos(o)*Math.cos(h)*Math.cos((t.lng-this.lng)*r);return 63710088e-1*Math.acos(Math.min(d,1))},Yn.prototype.toBounds=function(t){t===void 0&&(t=0);var r=360*t/40075017,o=r/Math.cos(Math.PI/180*this.lat);return new Br(new Yn(this.lng-o,this.lat-r),new Yn(this.lng+o,this.lat+r))},Yn.convert=function(t){if(t instanceof Yn)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new Yn(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new Yn(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var g1=2*Math.PI*63710088e-1;function v1(t){return g1*Math.cos(t*Math.PI/180)}function _1(t){return(180+t)/360}function x1(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function b1(t,r){return t/v1(r)}function $g(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var ou=function(t,r,o){o===void 0&&(o=0),this.x=+t,this.y=+r,this.z=+o};ou.fromLngLat=function(t,r){r===void 0&&(r=0);var o=Yn.convert(t);return new ou(_1(o.lng),x1(o.lat),b1(r,o.lat))},ou.prototype.toLngLat=function(){return new Yn(360*this.x-180,$g(this.y))},ou.prototype.toAltitude=function(){return this.z*v1($g(this.y))},ou.prototype.meterInMercatorCoordinateUnits=function(){return 1/g1*(t=$g(this.y),1/Math.cos(t*Math.PI/180));var t};var au=function(t,r,o){this.z=t,this.x=r,this.y=o,this.key=ph(0,t,t,r,o)};au.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},au.prototype.url=function(t,r){var o,h,d,y,v,E=(h=this.y,d=this.z,y=y1(256*(o=this.x),256*(h=Math.pow(2,d)-h-1),d),v=y1(256*(o+1),256*(h+1),d),y[0]+","+y[1]+","+v[0]+","+v[1]),T=function(P,k,A){for(var F,U="",ne=P;ne>0;ne--)U+=(k&(F=1<<ne-1)?1:0)+(A&F?2:0);return U}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(r==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",T).replace("{bbox-epsg-3857}",E)},au.prototype.getTilePoint=function(t){var r=Math.pow(2,this.z);return new M(8192*(t.x*r-this.x),8192*(t.y*r-this.y))},au.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var w1=function(t,r){this.wrap=t,this.canonical=r,this.key=ph(t,r.z,r.z,r.x,r.y)},Nr=function(t,r,o,h,d){this.overscaledZ=t,this.wrap=r,this.canonical=new au(o,+h,+d),this.key=ph(r,t,o,h,d)};function ph(t,r,o,h,d){(t*=2)<0&&(t=-1*t-1);var y=1<<o;return(y*y*t+y*d+h).toString(36)+o.toString(36)+r.toString(36)}Nr.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Nr.prototype.scaledTo=function(t){var r=this.canonical.z-t;return t>this.canonical.z?new Nr(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Nr(t,this.wrap,t,this.canonical.x>>r,this.canonical.y>>r)},Nr.prototype.calculateScaledKey=function(t,r){var o=this.canonical.z-t;return t>this.canonical.z?ph(this.wrap*+r,t,this.canonical.z,this.canonical.x,this.canonical.y):ph(this.wrap*+r,t,t,this.canonical.x>>o,this.canonical.y>>o)},Nr.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var r=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>r&&t.canonical.y===this.canonical.y>>r},Nr.prototype.children=function(t){if(this.overscaledZ>=t)return[new Nr(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var r=this.canonical.z+1,o=2*this.canonical.x,h=2*this.canonical.y;return[new Nr(r,this.wrap,r,o,h),new Nr(r,this.wrap,r,o+1,h),new Nr(r,this.wrap,r,o,h+1),new Nr(r,this.wrap,r,o+1,h+1)]},Nr.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Nr.prototype.wrapped=function(){return new Nr(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Nr.prototype.unwrapTo=function(t){return new Nr(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Nr.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Nr.prototype.toUnwrapped=function(){return new w1(this.wrap,this.canonical)},Nr.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Nr.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new ou(t.x-this.wrap,t.y))},ht("CanonicalTileID",au),ht("OverscaledTileID",Nr,{omit:["posMatrix"]});var Is=function(t,r,o){if(this.uid=t,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(o&&o!=="mapbox"&&o!=="terrarium")return Qe('"'+o+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=r.height;var h=this.dim=r.height-2;this.data=new Uint32Array(r.data.buffer),this.encoding=o||"mapbox";for(var d=0;d<h;d++)this.data[this._idx(-1,d)]=this.data[this._idx(0,d)],this.data[this._idx(h,d)]=this.data[this._idx(h-1,d)],this.data[this._idx(d,-1)]=this.data[this._idx(d,0)],this.data[this._idx(d,h)]=this.data[this._idx(d,h-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(h,-1)]=this.data[this._idx(h-1,0)],this.data[this._idx(-1,h)]=this.data[this._idx(0,h-1)],this.data[this._idx(h,h)]=this.data[this._idx(h-1,h-1)]};Is.prototype.get=function(t,r){var o=new Uint8Array(this.data.buffer),h=4*this._idx(t,r);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(o[h],o[h+1],o[h+2])},Is.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Is.prototype._idx=function(t,r){if(t<-1||t>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(t+1)},Is.prototype._unpackMapbox=function(t,r,o){return(256*t*256+256*r+o)/10-1e4},Is.prototype._unpackTerrarium=function(t,r,o){return 256*t+r+o/256-32768},Is.prototype.getPixels=function(){return new Xi({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Is.prototype.backfillBorder=function(t,r,o){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var h=r*this.dim,d=r*this.dim+this.dim,y=o*this.dim,v=o*this.dim+this.dim;switch(r){case-1:h=d-1;break;case 1:d=h+1}switch(o){case-1:y=v-1;break;case 1:v=y+1}for(var E=-r*this.dim,T=-o*this.dim,P=y;P<v;P++)for(var k=h;k<d;k++)this.data[this._idx(k,P)]=t.data[this._idx(k+E,P+T)]},ht("DEMData",Is);var Yd=function(t){this._stringToNumber={},this._numberToString=[];for(var r=0;r<t.length;r++){var o=t[r];this._stringToNumber[o]=r,this._numberToString[r]=o}};Yd.prototype.encode=function(t){return this._stringToNumber[t]},Yd.prototype.decode=function(t){return this._numberToString[t]};var Jd=function(t,r,o,h,d){this.type="Feature",this._vectorTileFeature=t,t._z=r,t._x=o,t._y=h,this.properties=t.properties,this.id=d},qg={geometry:{configurable:!0}};qg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},qg.geometry.set=function(t){this._geometry=t},Jd.prototype.toJSON=function(){var t={geometry:this.geometry};for(var r in this)r!=="_geometry"&&r!=="_vectorTileFeature"&&(t[r]=this[r]);return t},Object.defineProperties(Jd.prototype,qg);var yc=function(){this.state={},this.stateChanges={},this.deletedStates={}};yc.prototype.updateState=function(t,r,o){var h=String(r);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][h]=this.stateChanges[t][h]||{},$(this.stateChanges[t][h],o),this.deletedStates[t]===null)for(var d in this.deletedStates[t]={},this.state[t])d!==h&&(this.deletedStates[t][d]=null);else if(this.deletedStates[t]&&this.deletedStates[t][h]===null)for(var y in this.deletedStates[t][h]={},this.state[t][h])o[y]||(this.deletedStates[t][h][y]=null);else for(var v in o)this.deletedStates[t]&&this.deletedStates[t][h]&&this.deletedStates[t][h][v]===null&&delete this.deletedStates[t][h][v]},yc.prototype.removeFeatureState=function(t,r,o){if(this.deletedStates[t]!==null){var h=String(r);if(this.deletedStates[t]=this.deletedStates[t]||{},o&&r!==void 0)this.deletedStates[t][h]!==null&&(this.deletedStates[t][h]=this.deletedStates[t][h]||{},this.deletedStates[t][h][o]=null);else if(r!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][h])for(o in this.deletedStates[t][h]={},this.stateChanges[t][h])this.deletedStates[t][h][o]=null;else this.deletedStates[t][h]=null;else this.deletedStates[t]=null}},yc.prototype.getState=function(t,r){var o=String(r),h=$({},(this.state[t]||{})[o],(this.stateChanges[t]||{})[o]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){var d=this.deletedStates[t][r];if(d===null)return{};for(var y in d)delete h[y]}return h},yc.prototype.initializeTileState=function(t,r){t.setFeatureState(this.state,r)},yc.prototype.coalesceChanges=function(t,r){var o={};for(var h in this.stateChanges){this.state[h]=this.state[h]||{};var d={};for(var y in this.stateChanges[h])this.state[h][y]||(this.state[h][y]={}),$(this.state[h][y],this.stateChanges[h][y]),d[y]=this.state[h][y];o[h]=d}for(var v in this.deletedStates){this.state[v]=this.state[v]||{};var E={};if(this.deletedStates[v]===null)for(var T in this.state[v])E[T]={},this.state[v][T]={};else for(var P in this.deletedStates[v]){if(this.deletedStates[v][P]===null)this.state[v][P]={};else for(var k=0,A=Object.keys(this.deletedStates[v][P]);k<A.length;k+=1)delete this.state[v][P][A[k]];E[P]=this.state[v][P]}o[v]=o[v]||{},$(o[v],E)}if(this.stateChanges={},this.deletedStates={},Object.keys(o).length!==0)for(var F in t)t[F].setFeatureState(o,r)};var ks=function(t,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new ca(8192,16,0),this.grid3D=new ca(8192,16,0),this.featureIndexArray=new L,this.promoteId=r};function E1(t,r,o,h,d){return Se(t,function(y,v){var E=r instanceof Kl?r.get(v):null;return E&&E.evaluate?E.evaluate(o,h,d):E})}function S1(t){for(var r=1/0,o=1/0,h=-1/0,d=-1/0,y=0,v=t;y<v.length;y+=1){var E=v[y];r=Math.min(r,E.x),o=Math.min(o,E.y),h=Math.max(h,E.x),d=Math.max(d,E.y)}return{minX:r,minY:o,maxX:h,maxY:d}}function fI(t,r){return r-t}ks.prototype.insert=function(t,r,o,h,d,y){var v=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(o,h,d);for(var E=y?this.grid3D:this.grid,T=0;T<r.length;T++){for(var P=r[T],k=[1/0,1/0,-1/0,-1/0],A=0;A<P.length;A++){var F=P[A];k[0]=Math.min(k[0],F.x),k[1]=Math.min(k[1],F.y),k[2]=Math.max(k[2],F.x),k[3]=Math.max(k[3],F.y)}k[0]<8192&&k[1]<8192&&k[2]>=0&&k[3]>=0&&E.insert(v,k[0],k[1],k[2],k[3])}},ks.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ac.VectorTile(new Ud(this.rawTileData)).layers,this.sourceLayerCoder=new Yd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ks.prototype.query=function(t,r,o,h){var d=this;this.loadVTLayers();for(var y=t.params||{},v=8192/t.tileSize/t.scale,E=$u(y.filter),T=t.queryGeometry,P=t.queryPadding*v,k=S1(T),A=this.grid.query(k.minX-P,k.minY-P,k.maxX+P,k.maxY+P),F=S1(t.cameraQueryGeometry),U=this.grid3D.query(F.minX-P,F.minY-P,F.maxX+P,F.maxY+P,function(Ie,Me,Fe,qe){return function(Je,bt,it,Pt,ot){for(var Qt=0,Ot=Je;Qt<Ot.length;Qt+=1){var _t=Ot[Qt];if(bt<=_t.x&&it<=_t.y&&Pt>=_t.x&&ot>=_t.y)return!0}var rn=[new M(bt,it),new M(bt,ot),new M(Pt,ot),new M(Pt,it)];if(Je.length>2){for(var Xt=0,dn=rn;Xt<dn.length;Xt+=1)if(Wo(Je,dn[Xt]))return!0}for(var kt=0;kt<Je.length-1;kt++)if(tu(Je[kt],Je[kt+1],rn))return!0;return!1}(t.cameraQueryGeometry,Ie-P,Me-P,Fe+P,qe+P)}),ne=0,re=U;ne<re.length;ne+=1)A.push(re[ne]);A.sort(fI);for(var he,ue={},_e=function(Ie){var Me=A[Ie];if(Me!==he){he=Me;var Fe=d.featureIndexArray.get(Me),qe=null;d.loadMatchingFeature(ue,Fe.bucketIndex,Fe.sourceLayerIndex,Fe.featureIndex,E,y.layers,y.availableImages,r,o,h,function(Je,bt,it){return qe||(qe=ir(Je)),bt.queryIntersectsFeature(T,Je,it,qe,d.z,t.transform,v,t.pixelPosMatrix)})}},Ee=0;Ee<A.length;Ee++)_e(Ee);return ue},ks.prototype.loadMatchingFeature=function(t,r,o,h,d,y,v,E,T,P,k){var A=this.bucketLayerIDs[r];if(!y||function(Je,bt){for(var it=0;it<Je.length;it++)if(bt.indexOf(Je[it])>=0)return!0;return!1}(y,A)){var F=this.sourceLayerCoder.decode(o),U=this.vtLayers[F].feature(h);if(d.needGeometry){var ne=_r(U,!0);if(!d.filter(new an(this.tileID.overscaledZ),ne,this.tileID.canonical))return}else if(!d.filter(new an(this.tileID.overscaledZ),U))return;for(var re=this.getId(U,F),he=0;he<A.length;he++){var ue=A[he];if(!(y&&y.indexOf(ue)<0)){var _e=E[ue];if(_e){var Ee={};re!==void 0&&P&&(Ee=P.getState(_e.sourceLayer||"_geojsonTileLayer",re));var Ie=$({},T[ue]);Ie.paint=E1(Ie.paint,_e.paint,U,Ee,v),Ie.layout=E1(Ie.layout,_e.layout,U,Ee,v);var Me=!k||k(U,_e,Ee);if(Me){var Fe=new Jd(U,this.z,this.x,this.y,re);Fe.layer=Ie;var qe=t[ue];qe===void 0&&(qe=t[ue]=[]),qe.push({featureIndex:h,feature:Fe,intersectionZ:Me})}}}}}},ks.prototype.lookupSymbolFeatures=function(t,r,o,h,d,y,v,E){var T={};this.loadVTLayers();for(var P=$u(d),k=0,A=t;k<A.length;k+=1)this.loadMatchingFeature(T,o,h,A[k],P,y,v,E,r);return T},ks.prototype.hasLayer=function(t){for(var r=0,o=this.bucketLayerIDs;r<o.length;r+=1)for(var h=0,d=o[r];h<d.length;h+=1)if(t===d[h])return!0;return!1},ks.prototype.getId=function(t,r){var o=t.id;return this.promoteId&&typeof(o=t.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[r]])=="boolean"&&(o=Number(o)),o},ht("FeatureIndex",ks,{omit:["rawTileData","sourceLayerCoder"]});var ri=function(t,r){this.tileID=t,this.uid=H(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ri.prototype.registerFadeDuration=function(t){var r=t+this.timeAdded;r<Yt.now()||this.fadeEndTime&&r<this.fadeEndTime||(this.fadeEndTime=r)},ri.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},ri.prototype.loadVectorData=function(t,r,o){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var h in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(P,k){var A={};if(!k)return A;for(var F=function(){var re=ne[U],he=re.layerIds.map(function(Ee){return k.getLayer(Ee)}).filter(Boolean);if(he.length!==0){re.layers=he,re.stateDependentLayerIds&&(re.stateDependentLayers=re.stateDependentLayerIds.map(function(Ee){return he.filter(function(Ie){return Ie.id===Ee})[0]}));for(var ue=0,_e=he;ue<_e.length;ue+=1)A[_e[ue].id]=re}},U=0,ne=P;U<ne.length;U+=1)F();return A}(t.buckets,r.style),this.hasSymbolBuckets=!1,this.buckets){var d=this.buckets[h];if(d instanceof Rn){if(this.hasSymbolBuckets=!0,!o)break;d.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var y in this.buckets){var v=this.buckets[y];if(v instanceof Rn&&v.hasRTLText){this.hasRTLText=!0,ro.isLoading()||ro.isLoaded()||Hp()!=="deferred"||Ao();break}}for(var E in this.queryPadding=0,this.buckets){var T=this.buckets[E];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(E).queryRadius(T))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new c},ri.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ri.prototype.getBucket=function(t){return this.buckets[t.id]},ri.prototype.upload=function(t){for(var r in this.buckets){var o=this.buckets[r];o.uploadPending()&&o.upload(t)}var h=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new iu(t,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new iu(t,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)},ri.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},ri.prototype.queryRenderedFeatures=function(t,r,o,h,d,y,v,E,T,P){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:h,cameraQueryGeometry:d,scale:y,tileSize:this.tileSize,pixelPosMatrix:P,transform:E,params:v,queryPadding:this.queryPadding*T},t,r,o):{}},ri.prototype.querySourceFeatures=function(t,r){var o=this.latestFeatureIndex;if(o&&o.rawTileData){var h=o.loadVTLayers(),d=r?r.sourceLayer:"",y=h._geojsonTileLayer||h[d];if(y)for(var v=$u(r&&r.filter),E=this.tileID.canonical,T=E.z,P=E.x,k=E.y,A={z:T,x:P,y:k},F=0;F<y.length;F++){var U=y.feature(F);if(v.needGeometry){var ne=_r(U,!0);if(!v.filter(new an(this.tileID.overscaledZ),ne,this.tileID.canonical))continue}else if(!v.filter(new an(this.tileID.overscaledZ),U))continue;var re=o.getId(U,d),he=new Jd(U,T,P,k,re);he.tile=A,t.push(he)}}},ri.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},ri.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ri.prototype.setExpiryData=function(t){var r=this.expirationTime;if(t.cacheControl){var o=gt(t.cacheControl);o["max-age"]&&(this.expirationTime=Date.now()+1e3*o["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var h=Date.now(),d=!1;if(this.expirationTime>h)d=!1;else if(r)if(this.expirationTime<r)d=!0;else{var y=this.expirationTime-r;y?this.expirationTime=h+Math.max(y,3e4):d=!0}else d=!0;d?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ri.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},ri.prototype.setFeatureState=function(t,r){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(t).length!==0){var o=this.latestFeatureIndex.loadVTLayers();for(var h in this.buckets)if(r.style.hasLayer(h)){var d=this.buckets[h],y=d.layers[0].sourceLayer||"_geojsonTileLayer",v=o[y],E=t[y];if(v&&E&&Object.keys(E).length!==0){d.update(E,v,this.imageAtlas&&this.imageAtlas.patternPositions||{});var T=r&&r.style&&r.style.getLayer(h);T&&(this.queryPadding=Math.max(this.queryPadding,T.queryRadius(d)))}}}},ri.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},ri.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Yt.now()},ri.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ri.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=Yt.now()+t},ri.prototype.setDependencies=function(t,r){for(var o={},h=0,d=r;h<d.length;h+=1)o[d[h]]=!0;this.dependencies[t]=o},ri.prototype.hasDependency=function(t,r){for(var o=0,h=t;o<h.length;o+=1){var d=this.dependencies[h[o]];if(d){for(var y=0,v=r;y<v.length;y+=1)if(d[v[y]])return!0}}return!1};var ol=R.performance,T1=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},ol.mark(this._marks.start)};T1.prototype.finish=function(){ol.mark(this._marks.end);var t=ol.getEntriesByName(this._marks.measure);return t.length===0&&(ol.measure(this._marks.measure,this._marks.start,this._marks.end),t=ol.getEntriesByName(this._marks.measure),ol.clearMarks(this._marks.start),ol.clearMarks(this._marks.end),ol.clearMeasures(this._marks.measure)),t},s.Actor=mc,s.AlphaImage=ru,s.CanonicalTileID=au,s.CollisionBoxArray=c,s.Color=tn,s.DEMData=Is,s.DataConstantProperty=Tt,s.DictionaryCoder=Yd,s.EXTENT=8192,s.ErrorEvent=de,s.EvaluationParameters=an,s.Event=oe,s.Evented=ve,s.FeatureIndex=ks,s.FillBucket=da,s.FillExtrusionBucket=ma,s.ImageAtlas=uh,s.ImagePosition=jd,s.LineBucket=zi,s.LngLat=Yn,s.LngLatBounds=Br,s.MercatorCoordinate=ou,s.ONE_EM=24,s.OverscaledTileID=Nr,s.Point=M,s.Point$1=M,s.Properties=hi,s.Protobuf=Ud,s.RGBAImage=Xi,s.RequestManager=Tn,s.RequestPerformance=T1,s.ResourceType=aa,s.SegmentVector=W,s.SourceFeatureState=yc,s.StructArrayLayout1ui2=eh,s.StructArrayLayout2f1f2i16=Ss,s.StructArrayLayout2i4=Es,s.StructArrayLayout3ui6=Fa,s.StructArrayLayout4i8=Kp,s.SymbolBucket=Rn,s.Texture=iu,s.Tile=ri,s.Transitionable=pi,s.Uniform1f=Ge,s.Uniform1i=Be,s.Uniform2f=Ze,s.Uniform3f=lt,s.Uniform4f=Ct,s.UniformColor=At,s.UniformMatrix4f=yn,s.UnwrappedTileID=w1,s.ValidationError=se,s.WritingMode=_o,s.ZoomHistory=qp,s.add=function(t,r,o){return t[0]=r[0]+o[0],t[1]=r[1]+o[1],t[2]=r[2]+o[2],t},s.addDynamicAttributes=Ug,s.asyncAll=function(t,r,o){if(!t.length)return o(null,[]);var h=t.length,d=new Array(t.length),y=null;t.forEach(function(v,E){r(v,function(T,P){T&&(y=T),d[E]=P,--h==0&&o(y,d)})})},s.bezier=ee,s.bindAll=xe,s.browser=Yt,s.cacheEntryPossiblyAdded=function(t){++as>ia&&(t.getActor().send("enforceCacheSizeLimit",di),as=0)},s.clamp=q,s.clearTileCache=function(t){var r=R.caches.delete("mapbox-tiles");t&&r.catch(t).then(function(){return t()})},s.clipLine=a1,s.clone=function(t){var r=new Sn(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},s.clone$1=He,s.clone$2=function(t){var r=new Sn(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},s.collisionCircleLayout=RP,s.config=St,s.create=function(){var t=new Sn(16);return Sn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},s.create$1=function(){var t=new Sn(9);return Sn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},s.create$2=function(){var t=new Sn(4);return Sn!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},s.createCommonjsModule=_,s.createExpression=Vu,s.createLayout=ti,s.createStyleLayer=function(t){return t.type==="custom"?new pI(t):new hI[t.type](t)},s.cross=function(t,r,o){var h=r[0],d=r[1],y=r[2],v=o[0],E=o[1],T=o[2];return t[0]=d*T-y*E,t[1]=y*v-h*T,t[2]=h*E-d*v,t},s.deepEqual=function t(r,o){if(Array.isArray(r)){if(!Array.isArray(o)||r.length!==o.length)return!1;for(var h=0;h<r.length;h++)if(!t(r[h],o[h]))return!1;return!0}if(typeof r=="object"&&r!==null&&o!==null){if(typeof o!="object"||Object.keys(r).length!==Object.keys(o).length)return!1;for(var d in r)if(!t(r[d],o[d]))return!1;return!0}return r===o},s.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},s.dot$1=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},s.ease=J,s.emitValidationErrors=Gl,s.endsWith=Te,s.enforceCacheSizeLimit=function(t){Ea(),Cr&&Cr.then(function(r){r.keys().then(function(o){for(var h=0;h<o.length-t;h++)r.delete(o[h])})})},s.evaluateSizeForFeature=e1,s.evaluateSizeForZoom=t1,s.evaluateVariableOffset=u1,s.evented=Gp,s.extend=$,s.featureFilter=$u,s.filterObject=Ne,s.fromRotation=function(t,r){var o=Math.sin(r),h=Math.cos(r);return t[0]=h,t[1]=o,t[2]=0,t[3]=-o,t[4]=h,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},s.getAnchorAlignment=Dg,s.getAnchorJustification=Ng,s.getArrayBuffer=ls,s.getImage=D,s.getJSON=function(t,r){return Vo($(t,{type:"json"}),r)},s.getRTLTextPluginStatus=Hp,s.getReferrer=sa,s.getVideo=function(t,r){var o,h,d=R.document.createElement("video");d.muted=!0,d.onloadstart=function(){r(null,d)};for(var y=0;y<t.length;y++){var v=R.document.createElement("source");o=t[y],h=void 0,(h=R.document.createElement("a")).href=o,(h.protocol!==R.document.location.protocol||h.host!==R.document.location.host)&&(d.crossOrigin="Anonymous"),v.src=t[y],d.appendChild(v)}return{cancel:function(){}}},s.identity=io,s.invert=function(t,r){var o=r[0],h=r[1],d=r[2],y=r[3],v=r[4],E=r[5],T=r[6],P=r[7],k=r[8],A=r[9],F=r[10],U=r[11],ne=r[12],re=r[13],he=r[14],ue=r[15],_e=o*E-h*v,Ee=o*T-d*v,Ie=o*P-y*v,Me=h*T-d*E,Fe=h*P-y*E,qe=d*P-y*T,Je=k*re-A*ne,bt=k*he-F*ne,it=k*ue-U*ne,Pt=A*he-F*re,ot=A*ue-U*re,Qt=F*ue-U*he,Ot=_e*Qt-Ee*ot+Ie*Pt+Me*it-Fe*bt+qe*Je;return Ot?(t[0]=(E*Qt-T*ot+P*Pt)*(Ot=1/Ot),t[1]=(d*ot-h*Qt-y*Pt)*Ot,t[2]=(re*qe-he*Fe+ue*Me)*Ot,t[3]=(F*Fe-A*qe-U*Me)*Ot,t[4]=(T*it-v*Qt-P*bt)*Ot,t[5]=(o*Qt-d*it+y*bt)*Ot,t[6]=(he*Ie-ne*qe-ue*Ee)*Ot,t[7]=(k*qe-F*Ie+U*Ee)*Ot,t[8]=(v*ot-E*it+P*Je)*Ot,t[9]=(h*it-o*ot-y*Je)*Ot,t[10]=(ne*Fe-re*Ie+ue*_e)*Ot,t[11]=(A*Ie-k*Fe-U*_e)*Ot,t[12]=(E*bt-v*Pt-T*Je)*Ot,t[13]=(o*Pt-h*bt+d*Je)*Ot,t[14]=(re*Ee-ne*Me-he*_e)*Ot,t[15]=(k*Me-A*Ee+F*_e)*Ot,t):null},s.isChar=et,s.isMapboxURL=Cn,s.keysDifference=function(t,r){var o=[];for(var h in t)h in r||o.push(h);return o},s.makeRequest=Vo,s.mapObject=Se,s.mercatorXfromLng=_1,s.mercatorYfromLat=x1,s.mercatorZfromAltitude=b1,s.mul=Sg,s.multiply=Ai,s.mvt=ac,s.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},s.normalize=function(t,r){var o=r[0],h=r[1],d=r[2],y=o*o+h*h+d*d;return y>0&&(y=1/Math.sqrt(y)),t[0]=r[0]*y,t[1]=r[1]*y,t[2]=r[2]*y,t},s.number=kr,s.offscreenCanvasSupported=ss,s.ortho=function(t,r,o,h,d,y,v){var E=1/(r-o),T=1/(h-d),P=1/(y-v);return t[0]=-2*E,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*T,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*P,t[11]=0,t[12]=(r+o)*E,t[13]=(d+h)*T,t[14]=(v+y)*P,t[15]=1,t},s.parseGlyphPBF=function(t){return new Ud(t).readFields(qP,[])},s.pbf=Ud,s.performSymbolLayout=function(t,r,o,h,d,y,v){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var E=t.layers[0].layout,T=t.layers[0]._unevaluatedLayout._values,P={};if(t.textSizeData.kind==="composite"){var k=t.textSizeData,A=k.maxZoom;P.compositeTextSizes=[T["text-size"].possiblyEvaluate(new an(k.minZoom),v),T["text-size"].possiblyEvaluate(new an(A),v)]}if(t.iconSizeData.kind==="composite"){var F=t.iconSizeData,U=F.maxZoom;P.compositeIconSizes=[T["icon-size"].possiblyEvaluate(new an(F.minZoom),v),T["icon-size"].possiblyEvaluate(new an(U),v)]}P.layoutTextSize=T["text-size"].possiblyEvaluate(new an(t.zoom+1),v),P.layoutIconSize=T["icon-size"].possiblyEvaluate(new an(t.zoom+1),v),P.textMaxSize=T["text-size"].possiblyEvaluate(new an(18));for(var ne=24*E.get("text-line-height"),re=E.get("text-rotation-alignment")==="map"&&E.get("symbol-placement")!=="point",he=E.get("text-keep-upright"),ue=E.get("text-size"),_e=function(){var Me=Ie[Ee],Fe=E.get("text-font").evaluate(Me,{},v).join(","),qe=ue.evaluate(Me,{},v),Je=P.layoutTextSize.evaluate(Me,{},v),bt=P.layoutIconSize.evaluate(Me,{},v),it={horizontal:{},vertical:void 0},Pt=Me.text,ot=[0,0];if(Pt){var Qt=Pt.toString(),Ot=24*E.get("text-letter-spacing").evaluate(Me,{},v),_t=function(un){for(var On=0,An=un;On<An.length;On+=1)if(gn=An[On].charCodeAt(0),et.Arabic(gn)||et["Arabic Supplement"](gn)||et["Arabic Extended-A"](gn)||et["Arabic Presentation Forms-A"](gn)||et["Arabic Presentation Forms-B"](gn))return!1;var gn;return!0}(Qt)?Ot:0,rn=E.get("text-anchor").evaluate(Me,{},v),Xt=E.get("text-variable-anchor");if(!Xt){var dn=E.get("text-radial-offset").evaluate(Me,{},v);ot=dn?u1(rn,[24*dn,Bg]):E.get("text-offset").evaluate(Me,{},v).map(function(un){return 24*un})}var kt=re?"center":E.get("text-justify").evaluate(Me,{},v),wn=E.get("symbol-placement"),Jn=wn==="point"?24*E.get("text-max-width").evaluate(Me,{},v):0,pr=function(){t.allowVerticalPlacement&&Wp(Qt)&&(it.vertical=$d(Pt,r,o,d,Fe,Jn,ne,rn,"left",_t,ot,_o.vertical,!0,wn,Je,qe))};if(!re&&Xt){for(var or=kt==="auto"?Xt.map(function(un){return Ng(un)}):[kt],Qn=!1,hr=0;hr<or.length;hr++){var Gr=or[hr];if(!it.horizontal[Gr])if(Qn)it.horizontal[Gr]=it.horizontal[0];else{var Hr=$d(Pt,r,o,d,Fe,Jn,ne,"center",Gr,_t,ot,_o.horizontal,!1,wn,Je,qe);Hr&&(it.horizontal[Gr]=Hr,Qn=Hr.positionedLines.length===1)}}pr()}else{kt==="auto"&&(kt=Ng(rn));var Si=$d(Pt,r,o,d,Fe,Jn,ne,rn,kt,_t,ot,_o.horizontal,!1,wn,Je,qe);Si&&(it.horizontal[kt]=Si),pr(),Wp(Qt)&&re&&he&&(it.vertical=$d(Pt,r,o,d,Fe,Jn,ne,rn,kt,_t,ot,_o.vertical,!1,wn,Je,qe))}}var ii=void 0,Ti=!1;if(Me.icon&&Me.icon.name){var xr=h[Me.icon.name];xr&&(ii=function(un,On,An){var gn=Dg(An),Ri=On[0]-un.displaySize[0]*gn.horizontalAlign,gi=On[1]-un.displaySize[1]*gn.verticalAlign;return{image:un,top:gi,bottom:gi+un.displaySize[1],left:Ri,right:Ri+un.displaySize[0]}}(d[Me.icon.name],E.get("icon-offset").evaluate(Me,{},v),E.get("icon-anchor").evaluate(Me,{},v)),Ti=xr.sdf,t.sdfIcons===void 0?t.sdfIcons=xr.sdf:t.sdfIcons!==xr.sdf&&Qe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xr.pixelRatio!==t.pixelRatio||E.get("icon-rotate").constantOr(1)!==0)&&(t.iconsNeedLinear=!0))}var oi=p1(it.horizontal)||it.vertical;t.iconsInText=!!oi&&oi.iconsInText,(oi||ii)&&function(un,On,An,gn,Ri,gi,Wn,Ar,vi,En,$a){var xo=gi.textMaxSize.evaluate(On,{});xo===void 0&&(xo=Wn);var qa,br=un.layers[0].layout,Wa=br.get("icon-offset").evaluate(On,{},$a),Go=p1(An.horizontal),gc=Wn/24,su=un.tilePixelRatio*gc,vc=un.tilePixelRatio*xo/24,Ms=un.tilePixelRatio*Ar,_c=un.tilePixelRatio*br.get("symbol-spacing"),Qd=br.get("text-padding")*un.tilePixelRatio,xc=br.get("icon-padding")*un.tilePixelRatio,hh=br.get("text-max-angle")/180*Math.PI,em=br.get("text-rotation-alignment")==="map"&&br.get("symbol-placement")!=="point",tm=br.get("icon-rotation-alignment")==="map"&&br.get("symbol-placement")!=="point",As=br.get("symbol-placement"),fh=_c/2,bc=br.get("icon-text-fit");gn&&bc!=="none"&&(un.allowVerticalPlacement&&An.vertical&&(qa=Qx(gn,An.vertical,bc,br.get("icon-text-fit-padding"),Wa,gc)),Go&&(gn=Qx(gn,Go,bc,br.get("icon-text-fit-padding"),Wa,gc)));var al=function(dI,bh){bh.x<0||bh.x>=8192||bh.y<0||bh.y>=8192||function(wr,ya,mI,sl,Hg,I1,sm,Za,lm,wh,um,cm,Xg,k1,Eh,M1,A1,z1,R1,L1,bo,pm,O1,Ga,yI){var D1,uu,Cc,Pc,Ic,kc=wr.addToLineVertexArray(ya,mI),F1=0,B1=0,N1=0,U1=0,Kg=-1,Yg=-1,zs={},V1=te(""),Jg=0,Qg=0;if(Za._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Jg=(D1=Za.layout.get("text-offset").evaluate(bo,{},Ga).map(function(Th){return 24*Th}))[0],Qg=D1[1]):(Jg=24*Za.layout.get("text-radial-offset").evaluate(bo,{},Ga),Qg=Bg),wr.allowVerticalPlacement&&sl.vertical){var j1=Za.layout.get("text-rotate").evaluate(bo,{},Ga)+90;Pc=new Hd(lm,ya,wh,um,cm,sl.vertical,Xg,k1,Eh,j1),sm&&(Ic=new Hd(lm,ya,wh,um,cm,sm,A1,z1,Eh,j1))}if(Hg){var ev=Za.layout.get("icon-rotate").evaluate(bo,{}),$1=Za.layout.get("icon-text-fit")!=="none",q1=s1(Hg,ev,O1,$1),tv=sm?s1(sm,ev,O1,$1):void 0;Cc=new Hd(lm,ya,wh,um,cm,Hg,A1,z1,!1,ev),F1=4*q1.length;var W1=wr.iconSizeData,Sh=null;W1.kind==="source"?(Sh=[128*Za.layout.get("icon-size").evaluate(bo,{})])[0]>32640&&Qe(wr.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):W1.kind==="composite"&&((Sh=[128*pm.compositeIconSizes[0].evaluate(bo,{},Ga),128*pm.compositeIconSizes[1].evaluate(bo,{},Ga)])[0]>32640||Sh[1]>32640)&&Qe(wr.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),wr.addSymbols(wr.icon,q1,Sh,L1,R1,bo,!1,ya,kc.lineStartIndex,kc.lineLength,-1,Ga),Kg=wr.icon.placedSymbolArray.length-1,tv&&(B1=4*tv.length,wr.addSymbols(wr.icon,tv,Sh,L1,R1,bo,_o.vertical,ya,kc.lineStartIndex,kc.lineLength,-1,Ga),Yg=wr.icon.placedSymbolArray.length-1)}for(var Z1 in sl.horizontal){var hm=sl.horizontal[Z1];if(!uu){V1=te(hm.text);var gI=Za.layout.get("text-rotate").evaluate(bo,{},Ga);uu=new Hd(lm,ya,wh,um,cm,hm,Xg,k1,Eh,gI)}var G1=hm.positionedLines.length===1;if(N1+=c1(wr,ya,hm,I1,Za,Eh,bo,M1,kc,sl.vertical?_o.horizontal:_o.horizontalOnly,G1?Object.keys(sl.horizontal):[Z1],zs,Kg,pm,Ga),G1)break}sl.vertical&&(U1+=c1(wr,ya,sl.vertical,I1,Za,Eh,bo,M1,kc,_o.vertical,["vertical"],zs,Yg,pm,Ga));var vI=uu?uu.boxStartIndex:wr.collisionBoxArray.length,_I=uu?uu.boxEndIndex:wr.collisionBoxArray.length,xI=Pc?Pc.boxStartIndex:wr.collisionBoxArray.length,bI=Pc?Pc.boxEndIndex:wr.collisionBoxArray.length,wI=Cc?Cc.boxStartIndex:wr.collisionBoxArray.length,EI=Cc?Cc.boxEndIndex:wr.collisionBoxArray.length,SI=Ic?Ic.boxStartIndex:wr.collisionBoxArray.length,TI=Ic?Ic.boxEndIndex:wr.collisionBoxArray.length,Ha=-1,fm=function(Th,X1){return Th&&Th.circleDiameter?Math.max(Th.circleDiameter,X1):X1};Ha=fm(uu,Ha),Ha=fm(Pc,Ha),Ha=fm(Cc,Ha);var H1=(Ha=fm(Ic,Ha))>-1?1:0;H1&&(Ha*=yI/24),wr.glyphOffsetArray.length>=Rn.MAX_GLYPHS&&Qe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),bo.sortKey!==void 0&&wr.addToSortKeyRanges(wr.symbolInstances.length,bo.sortKey),wr.symbolInstances.emplaceBack(ya.x,ya.y,zs.right>=0?zs.right:-1,zs.center>=0?zs.center:-1,zs.left>=0?zs.left:-1,zs.vertical||-1,Kg,Yg,V1,vI,_I,xI,bI,wI,EI,SI,TI,wh,N1,U1,F1,B1,H1,0,Xg,Jg,Qg,Ha)}(un,bh,dI,An,gn,Ri,qa,un.layers[0],un.collisionBoxArray,On.index,On.sourceLayerIndex,un.index,su,Qd,em,vi,Ms,xc,tm,Wa,On,gi,En,$a,Wn)};if(As==="line")for(var wc=0,nm=a1(On.geometry,0,0,8192,8192);wc<nm.length;wc+=1)for(var rm=nm[wc],dh=0,mh=YP(rm,_c,hh,An.vertical||Go,gn,24,vc,un.overscaling,8192);dh<mh.length;dh+=1){var im=mh[dh];Go&&tI(un,Go.text,fh,im)||al(rm,im)}else if(As==="line-center")for(var yh=0,gh=On.geometry;yh<gh.length;yh+=1){var vh=gh[yh];if(vh.length>1){var om=KP(vh,hh,An.vertical||Go,gn,24,vc);om&&al(vh,om)}}else if(On.type==="Polygon")for(var Ec=0,am=Ag(On.geometry,0);Ec<am.length;Ec+=1){var Sc=am[Ec],_h=QP(Sc,16);al(Sc[0],new cc(_h.x,_h.y,0))}else if(On.type==="LineString")for(var lu=0,xh=On.geometry;lu<xh.length;lu+=1){var Tc=xh[lu];al(Tc,new cc(Tc[0].x,Tc[0].y,0))}else if(On.type==="Point")for(var Wg=0,C1=On.geometry;Wg<C1.length;Wg+=1)for(var Zg=0,P1=C1[Wg];Zg<P1.length;Zg+=1){var Gg=P1[Zg];al([Gg],new cc(Gg.x,Gg.y,0))}}(t,Me,it,ii,h,P,Je,bt,ot,Ti,v)},Ee=0,Ie=t.features;Ee<Ie.length;Ee+=1)_e();y&&t.generateCollisionDebugBuffers()},s.perspective=function(t,r,o,h,d){var y,v=1/Math.tan(r/2);return t[0]=v/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=v,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,d!=null&&d!==1/0?(t[10]=(d+h)*(y=1/(h-d)),t[14]=2*d*h*y):(t[10]=-1,t[14]=-2*h),t},s.pick=function(t,r){for(var o={},h=0;h<r.length;h++){var d=r[h];d in t&&(o[d]=t[d])}return o},s.plugin=ro,s.polygonIntersectsPolygon=Ua,s.postMapLoadEvent=Qr,s.postTurnstileEvent=xt,s.potpack=Xx,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.register=ht,s.registerForPluginStateChange=function(t){return t({pluginStatus:Zi,pluginURL:pa}),Gp.on("pluginStateChange",t),t},s.renderColorRamp=Mx,s.rotate=function(t,r,o){var h=r[0],d=r[1],y=r[2],v=r[3],E=Math.sin(o),T=Math.cos(o);return t[0]=h*T+y*E,t[1]=d*T+v*E,t[2]=h*-E+y*T,t[3]=d*-E+v*T,t},s.rotateX=function(t,r,o){var h=Math.sin(o),d=Math.cos(o),y=r[4],v=r[5],E=r[6],T=r[7],P=r[8],k=r[9],A=r[10],F=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=y*d+P*h,t[5]=v*d+k*h,t[6]=E*d+A*h,t[7]=T*d+F*h,t[8]=P*d-y*h,t[9]=k*d-v*h,t[10]=A*d-E*h,t[11]=F*d-T*h,t},s.rotateZ=function(t,r,o){var h=Math.sin(o),d=Math.cos(o),y=r[0],v=r[1],E=r[2],T=r[3],P=r[4],k=r[5],A=r[6],F=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=y*d+P*h,t[1]=v*d+k*h,t[2]=E*d+A*h,t[3]=T*d+F*h,t[4]=P*d-y*h,t[5]=k*d-v*h,t[6]=A*d-E*h,t[7]=F*d-T*h,t},s.scale=function(t,r,o){var h=o[0],d=o[1],y=o[2];return t[0]=r[0]*h,t[1]=r[1]*h,t[2]=r[2]*h,t[3]=r[3]*h,t[4]=r[4]*d,t[5]=r[5]*d,t[6]=r[6]*d,t[7]=r[7]*d,t[8]=r[8]*y,t[9]=r[9]*y,t[10]=r[10]*y,t[11]=r[11]*y,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},s.scale$1=function(t,r,o){return t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t[3]=r[3]*o,t},s.scale$2=function(t,r,o){return t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t},s.setCacheLimits=function(t,r){di=t,ia=r},s.setRTLTextPlugin=function(t,r,o){if(o===void 0&&(o=!1),Zi==="deferred"||Zi==="loading"||Zi==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");pa=Yt.resolveURL(t),Zi="deferred",Ku=r,Xl(),o||Ao()},s.sphericalToCartesian=function(t){var r=t[0],o=t[1],h=t[2];return o+=90,o*=Math.PI/180,h*=Math.PI/180,{x:r*Math.cos(o)*Math.sin(h),y:r*Math.sin(o)*Math.sin(h),z:r*Math.cos(h)}},s.sqrLen=function(t){var r=t[0],o=t[1];return r*r+o*o},s.styleSpec=Z,s.sub=function(t,r,o){return t[0]=r[0]-o[0],t[1]=r[1]-o[1],t[2]=r[2]-o[2],t},s.symbolSize=XP,s.transformMat3=function(t,r,o){var h=r[0],d=r[1],y=r[2];return t[0]=h*o[0]+d*o[3]+y*o[6],t[1]=h*o[1]+d*o[4]+y*o[7],t[2]=h*o[2]+d*o[5]+y*o[8],t},s.transformMat4=nc,s.translate=function(t,r,o){var h,d,y,v,E,T,P,k,A,F,U,ne,re=o[0],he=o[1],ue=o[2];return r===t?(t[12]=r[0]*re+r[4]*he+r[8]*ue+r[12],t[13]=r[1]*re+r[5]*he+r[9]*ue+r[13],t[14]=r[2]*re+r[6]*he+r[10]*ue+r[14],t[15]=r[3]*re+r[7]*he+r[11]*ue+r[15]):(d=r[1],y=r[2],v=r[3],E=r[4],T=r[5],P=r[6],k=r[7],A=r[8],F=r[9],U=r[10],ne=r[11],t[0]=h=r[0],t[1]=d,t[2]=y,t[3]=v,t[4]=E,t[5]=T,t[6]=P,t[7]=k,t[8]=A,t[9]=F,t[10]=U,t[11]=ne,t[12]=h*re+E*he+A*ue+r[12],t[13]=d*re+T*he+F*ue+r[13],t[14]=y*re+P*he+U*ue+r[14],t[15]=v*re+k*he+ne*ue+r[15]),t},s.triggerPluginCompletionEvent=Rd,s.uniqueId=H,s.validateCustomStyleLayer=function(t){var r=[],o=t.id;return o===void 0&&r.push({message:"layers."+o+': missing required property "id"'}),t.render===void 0&&r.push({message:"layers."+o+': missing required method "render"'}),t.renderingMode&&t.renderingMode!=="2d"&&t.renderingMode!=="3d"&&r.push({message:"layers."+o+': property "renderingMode" must be either "2d" or "3d"'}),r},s.validateLight=wg,s.validateStyle=Wl,s.values=function(t){var r=[];for(var o in t)r.push(t[o]);return r},s.vectorTile=ac,s.version="1.13.2",s.warnOnce=Qe,s.webpSupported=Ht,s.window=R,s.wrap=B}),m(["./shared"],function(s){function _(z){var D=typeof z;if(D==="number"||D==="boolean"||D==="string"||z==null)return JSON.stringify(z);if(Array.isArray(z)){for(var N="[",X=0,oe=z;X<oe.length;X+=1)N+=_(oe[X])+",";return N+"]"}for(var de=Object.keys(z).sort(),ve="{",Z=0;Z<de.length;Z++)ve+=JSON.stringify(de[Z])+":"+_(z[de[Z]])+",";return ve+"}"}function b(z){for(var D="",N=0,X=s.refProperties;N<X.length;N+=1)D+="/"+_(z[X[N]]);return D}var C=function(z){this.keyCache={},z&&this.replace(z)};C.prototype.replace=function(z){this._layerConfigs={},this._layers={},this.update(z,[])},C.prototype.update=function(z,D){for(var N=this,X=0,oe=z;X<oe.length;X+=1){var de=oe[X];this._layerConfigs[de.id]=de;var ve=this._layers[de.id]=s.createStyleLayer(de);ve._featureFilter=s.featureFilter(ve.filter),this.keyCache[de.id]&&delete this.keyCache[de.id]}for(var Z=0,se=D;Z<se.length;Z+=1){var be=se[Z];delete this.keyCache[be],delete this._layerConfigs[be],delete this._layers[be]}this.familiesBySource={};for(var Ue=0,je=function(Xe,Ye){for(var qt={},tt=0;tt<Xe.length;tt++){var nn=Ye&&Ye[Xe[tt].id]||b(Xe[tt]);Ye&&(Ye[Xe[tt].id]=nn);var kn=qt[nn];kn||(kn=qt[nn]=[]),kn.push(Xe[tt])}var en=[];for(var pn in qt)en.push(qt[pn]);return en}(s.values(this._layerConfigs),this.keyCache);Ue<je.length;Ue+=1){var ze=je[Ue].map(function(Xe){return N._layers[Xe.id]}),Ve=ze[0];if(Ve.visibility!=="none"){var mt=Ve.source||"",ct=this.familiesBySource[mt];ct||(ct=this.familiesBySource[mt]={});var Le=Ve.sourceLayer||"_geojsonTileLayer",nt=ct[Le];nt||(nt=ct[Le]=[]),nt.push(ze)}}};var M=function(z){var D={},N=[];for(var X in z){var oe=z[X],de=D[X]={};for(var ve in oe){var Z=oe[+ve];if(Z&&Z.bitmap.width!==0&&Z.bitmap.height!==0){var se={x:0,y:0,w:Z.bitmap.width+2,h:Z.bitmap.height+2};N.push(se),de[ve]={rect:se,metrics:Z.metrics}}}}var be=s.potpack(N),Ue=new s.AlphaImage({width:be.w||1,height:be.h||1});for(var je in z){var ze=z[je];for(var Ve in ze){var mt=ze[+Ve];if(mt&&mt.bitmap.width!==0&&mt.bitmap.height!==0){var ct=D[je][Ve].rect;s.AlphaImage.copy(mt.bitmap,Ue,{x:0,y:0},{x:ct.x+1,y:ct.y+1},mt.bitmap)}}}this.image=Ue,this.positions=D};s.register("GlyphAtlas",M);var O=function(z){this.tileID=new s.OverscaledTileID(z.tileID.overscaledZ,z.tileID.wrap,z.tileID.canonical.z,z.tileID.canonical.x,z.tileID.canonical.y),this.uid=z.uid,this.zoom=z.zoom,this.pixelRatio=z.pixelRatio,this.tileSize=z.tileSize,this.source=z.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=z.showCollisionBoxes,this.collectResourceTiming=!!z.collectResourceTiming,this.returnDependencies=!!z.returnDependencies,this.promoteId=z.promoteId};function R(z,D,N){for(var X=new s.EvaluationParameters(D),oe=0,de=z;oe<de.length;oe+=1)de[oe].recalculate(X,N)}function Y(z,D){var N=s.getArrayBuffer(z.request,function(X,oe,de,ve){X?D(X):oe&&D(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(oe)),rawData:oe,cacheControl:de,expires:ve})});return function(){N.cancel(),D()}}O.prototype.parse=function(z,D,N,X,oe){var de=this;this.status="parsing",this.data=z,this.collisionBoxArray=new s.CollisionBoxArray;var ve=new s.DictionaryCoder(Object.keys(z.layers).sort()),Z=new s.FeatureIndex(this.tileID,this.promoteId);Z.bucketLayerIDs=[];var se,be,Ue,je,ze={},Ve={featureIndex:Z,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:N},mt=D.familiesBySource[this.source];for(var ct in mt){var Le=z.layers[ct];if(Le){Le.version===1&&s.warnOnce('Vector tile source "'+this.source+'" layer "'+ct+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var nt=ve.encode(ct),Xe=[],Ye=0;Ye<Le.length;Ye++){var qt=Le.feature(Ye),tt=Z.getId(qt,ct);Xe.push({feature:qt,id:tt,index:Ye,sourceLayerIndex:nt})}for(var nn=0,kn=mt[ct];nn<kn.length;nn+=1){var en=kn[nn],pn=en[0];pn.minzoom&&this.zoom<Math.floor(pn.minzoom)||pn.maxzoom&&this.zoom>=pn.maxzoom||pn.visibility!=="none"&&(R(en,this.zoom,N),(ze[pn.id]=pn.createBucket({index:Z.bucketLayerIDs.length,layers:en,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:nt,sourceID:this.source})).populate(Xe,Ve,this.tileID.canonical),Z.bucketLayerIDs.push(en.map(function(xn){return xn.id})))}}}var Wt=s.mapObject(Ve.glyphDependencies,function(xn){return Object.keys(xn).map(Number)});Object.keys(Wt).length?X.send("getGlyphs",{uid:this.uid,stacks:Wt},function(xn,Zt){se||(se=xn,be=Zt,Mn.call(de))}):be={};var vr=Object.keys(Ve.iconDependencies);vr.length?X.send("getImages",{icons:vr,source:this.source,tileID:this.tileID,type:"icons"},function(xn,Zt){se||(se=xn,Ue=Zt,Mn.call(de))}):Ue={};var ln=Object.keys(Ve.patternDependencies);function Mn(){if(se)return oe(se);if(be&&Ue&&je){var xn=new M(be),Zt=new s.ImageAtlas(Ue,je);for(var tn in ze){var li=ze[tn];li instanceof s.SymbolBucket?(R(li.layers,this.zoom,N),s.performSymbolLayout(li,be,xn.positions,Ue,Zt.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):li.hasPattern&&(li instanceof s.LineBucket||li instanceof s.FillBucket||li instanceof s.FillExtrusionBucket)&&(R(li.layers,this.zoom,N),li.addFeatures(Ve,this.tileID.canonical,Zt.patternPositions))}this.status="done",oe(null,{buckets:s.values(ze).filter(function(Sa){return!Sa.isEmpty()}),featureIndex:Z,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xn.image,imageAtlas:Zt,glyphMap:this.returnDependencies?be:null,iconMap:this.returnDependencies?Ue:null,glyphPositions:this.returnDependencies?xn.positions:null})}}ln.length?X.send("getImages",{icons:ln,source:this.source,tileID:this.tileID,type:"patterns"},function(xn,Zt){se||(se=xn,je=Zt,Mn.call(de))}):je={},Mn.call(this)};var ee=function(z,D,N,X){this.actor=z,this.layerIndex=D,this.availableImages=N,this.loadVectorData=X||Y,this.loading={},this.loaded={}};ee.prototype.loadTile=function(z,D){var N=this,X=z.uid;this.loading||(this.loading={});var oe=!!(z&&z.request&&z.request.collectResourceTiming)&&new s.RequestPerformance(z.request),de=this.loading[X]=new O(z);de.abort=this.loadVectorData(z,function(ve,Z){if(delete N.loading[X],ve||!Z)return de.status="done",N.loaded[X]=de,D(ve);var se=Z.rawData,be={};Z.expires&&(be.expires=Z.expires),Z.cacheControl&&(be.cacheControl=Z.cacheControl);var Ue={};if(oe){var je=oe.finish();je&&(Ue.resourceTiming=JSON.parse(JSON.stringify(je)))}de.vectorTile=Z.vectorTile,de.parse(Z.vectorTile,N.layerIndex,N.availableImages,N.actor,function(ze,Ve){if(ze||!Ve)return D(ze);D(null,s.extend({rawTileData:se.slice(0)},Ve,be,Ue))}),N.loaded=N.loaded||{},N.loaded[X]=de})},ee.prototype.reloadTile=function(z,D){var N=this,X=this.loaded,oe=z.uid,de=this;if(X&&X[oe]){var ve=X[oe];ve.showCollisionBoxes=z.showCollisionBoxes;var Z=function(se,be){var Ue=ve.reloadCallback;Ue&&(delete ve.reloadCallback,ve.parse(ve.vectorTile,de.layerIndex,N.availableImages,de.actor,Ue)),D(se,be)};ve.status==="parsing"?ve.reloadCallback=Z:ve.status==="done"&&(ve.vectorTile?ve.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,Z):Z())}},ee.prototype.abortTile=function(z,D){var N=this.loading,X=z.uid;N&&N[X]&&N[X].abort&&(N[X].abort(),delete N[X]),D()},ee.prototype.removeTile=function(z,D){var N=this.loaded,X=z.uid;N&&N[X]&&delete N[X],D()};var J=s.window.ImageBitmap,q=function(){this.loaded={}};function B(z,D){if(z.length!==0){$(z[0],D);for(var N=1;N<z.length;N++)$(z[N],!D)}}function $(z,D){for(var N=0,X=0,oe=z.length,de=oe-1;X<oe;de=X++)N+=(z[X][0]-z[de][0])*(z[de][1]+z[X][1]);N>=0!=!!D&&z.reverse()}q.prototype.loadTile=function(z,D){var N=z.uid,X=z.encoding,oe=z.rawImageData,de=J&&oe instanceof J?this.getImageData(oe):oe,ve=new s.DEMData(N,de,X);this.loaded=this.loaded||{},this.loaded[N]=ve,D(null,ve)},q.prototype.getImageData=function(z){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(z.width,z.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=z.width,this.offscreenCanvas.height=z.height,this.offscreenCanvasContext.drawImage(z,0,0,z.width,z.height);var D=this.offscreenCanvasContext.getImageData(-1,-1,z.width+2,z.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:D.width,height:D.height},D.data)},q.prototype.removeTile=function(z){var D=this.loaded,N=z.uid;D&&D[N]&&delete D[N]};var Q=s.vectorTile.VectorTileFeature.prototype.toGeoJSON,H=function(z){this._feature=z,this.extent=s.EXTENT,this.type=z.type,this.properties=z.tags,"id"in z&&!isNaN(z.id)&&(this.id=parseInt(z.id,10))};H.prototype.loadGeometry=function(){if(this._feature.type===1){for(var z=[],D=0,N=this._feature.geometry;D<N.length;D+=1){var X=N[D];z.push([new s.Point$1(X[0],X[1])])}return z}for(var oe=[],de=0,ve=this._feature.geometry;de<ve.length;de+=1){for(var Z=[],se=0,be=ve[de];se<be.length;se+=1){var Ue=be[se];Z.push(new s.Point$1(Ue[0],Ue[1]))}oe.push(Z)}return oe},H.prototype.toGeoJSON=function(z,D,N){return Q.call(this,z,D,N)};var ye=function(z){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=z.length,this._features=z};ye.prototype.feature=function(z){return new H(this._features[z])};var me=s.vectorTile.VectorTileFeature,xe=Te;function Te(z,D){this.options=D||{},this.features=z,this.length=z.length}function Se(z,D){this.id=typeof z.id=="number"?z.id:void 0,this.type=z.type,this.rawGeometry=z.type===1?[z.geometry]:z.geometry,this.properties=z.tags,this.extent=D||4096}Te.prototype.feature=function(z){return new Se(this.features[z],this.options.extent)},Se.prototype.loadGeometry=function(){var z=this.rawGeometry;this.geometry=[];for(var D=0;D<z.length;D++){for(var N=z[D],X=[],oe=0;oe<N.length;oe++)X.push(new s.Point$1(N[oe][0],N[oe][1]));this.geometry.push(X)}return this.geometry},Se.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var z=this.geometry,D=1/0,N=-1/0,X=1/0,oe=-1/0,de=0;de<z.length;de++)for(var ve=z[de],Z=0;Z<ve.length;Z++){var se=ve[Z];D=Math.min(D,se.x),N=Math.max(N,se.x),X=Math.min(X,se.y),oe=Math.max(oe,se.y)}return[D,X,N,oe]},Se.prototype.toGeoJSON=me.prototype.toGeoJSON;var Ne=yt,He=xe;function yt(z){var D=new s.pbf;return function(N,X){for(var oe in N.layers)X.writeMessage(3,Qe,N.layers[oe])}(z,D),D.finish()}function Qe(z,D){var N;D.writeVarintField(15,z.version||1),D.writeStringField(1,z.name||""),D.writeVarintField(5,z.extent||4096);var X={keys:[],values:[],keycache:{},valuecache:{}};for(N=0;N<z.length;N++)X.feature=z.feature(N),D.writeMessage(2,Ke,X);var oe=X.keys;for(N=0;N<oe.length;N++)D.writeStringField(3,oe[N]);var de=X.values;for(N=0;N<de.length;N++)D.writeMessage(4,Gt,de[N])}function Ke(z,D){var N=z.feature;N.id!==void 0&&D.writeVarintField(1,N.id),D.writeMessage(2,ft,z),D.writeVarintField(3,N.type),D.writeMessage(4,Ft,N)}function ft(z,D){var N=z.feature,X=z.keys,oe=z.values,de=z.keycache,ve=z.valuecache;for(var Z in N.properties){var se=de[Z];se===void 0&&(X.push(Z),de[Z]=se=X.length-1),D.writeVarint(se);var be=N.properties[Z],Ue=typeof be;Ue!=="string"&&Ue!=="boolean"&&Ue!=="number"&&(be=JSON.stringify(be));var je=Ue+":"+be,ze=ve[je];ze===void 0&&(oe.push(be),ve[je]=ze=oe.length-1),D.writeVarint(ze)}}function st(z,D){return(D<<3)+(7&z)}function gt(z){return z<<1^z>>31}function Ft(z,D){for(var N=z.loadGeometry(),X=z.type,oe=0,de=0,ve=N.length,Z=0;Z<ve;Z++){var se=N[Z],be=1;X===1&&(be=se.length),D.writeVarint(st(1,be));for(var Ue=X===3?se.length-1:se.length,je=0;je<Ue;je++){je===1&&X!==1&&D.writeVarint(st(2,Ue-1));var ze=se[je].x-oe,Ve=se[je].y-de;D.writeVarint(gt(ze)),D.writeVarint(gt(Ve)),oe+=ze,de+=Ve}X===3&&D.writeVarint(st(7,1))}}function Gt(z,D){var N=typeof z;N==="string"?D.writeStringField(1,z):N==="boolean"?D.writeBooleanField(7,z):N==="number"&&(z%1!=0?D.writeDoubleField(3,z):z<0?D.writeSVarintField(6,z):D.writeVarintField(5,z))}function vn(z,D,N,X){$e(z,N,X),$e(D,2*N,2*X),$e(D,2*N+1,2*X+1)}function $e(z,D,N){var X=z[D];z[D]=z[N],z[N]=X}function rt(z,D,N,X){var oe=z-N,de=D-X;return oe*oe+de*de}Ne.fromVectorTileJs=yt,Ne.fromGeojsonVt=function(z,D){D=D||{};var N={};for(var X in z)N[X]=new xe(z[X].features,D),N[X].name=X,N[X].version=D.version,N[X].extent=D.extent;return yt({layers:N})},Ne.GeoJSONWrapper=He;var It=function(z){return z[0]},$t=function(z){return z[1]},cn=function(z,D,N,X,oe){D===void 0&&(D=It),N===void 0&&(N=$t),X===void 0&&(X=64),oe===void 0&&(oe=Float64Array),this.nodeSize=X,this.points=z;for(var de=z.length<65536?Uint16Array:Uint32Array,ve=this.ids=new de(z.length),Z=this.coords=new oe(2*z.length),se=0;se<z.length;se++)ve[se]=se,Z[2*se]=D(z[se]),Z[2*se+1]=N(z[se]);(function be(Ue,je,ze,Ve,mt,ct){if(!(mt-Ve<=ze)){var Le=Ve+mt>>1;(function nt(Xe,Ye,qt,tt,nn,kn){for(;nn>tt;){if(nn-tt>600){var en=nn-tt+1,pn=qt-tt+1,Wt=Math.log(en),vr=.5*Math.exp(2*Wt/3),ln=.5*Math.sqrt(Wt*vr*(en-vr)/en)*(pn-en/2<0?-1:1);nt(Xe,Ye,qt,Math.max(tt,Math.floor(qt-pn*vr/en+ln)),Math.min(nn,Math.floor(qt+(en-pn)*vr/en+ln)),kn)}var Mn=Ye[2*qt+kn],xn=tt,Zt=nn;for(vn(Xe,Ye,tt,qt),Ye[2*nn+kn]>Mn&&vn(Xe,Ye,tt,nn);xn<Zt;){for(vn(Xe,Ye,xn,Zt),xn++,Zt--;Ye[2*xn+kn]<Mn;)xn++;for(;Ye[2*Zt+kn]>Mn;)Zt--}Ye[2*tt+kn]===Mn?vn(Xe,Ye,tt,Zt):vn(Xe,Ye,++Zt,nn),Zt<=qt&&(tt=Zt+1),qt<=Zt&&(nn=Zt-1)}})(Ue,je,Le,Ve,mt,ct%2),be(Ue,je,ze,Ve,Le-1,ct+1),be(Ue,je,ze,Le+1,mt,ct+1)}})(ve,Z,X,0,ve.length-1,0)};cn.prototype.range=function(z,D,N,X){return function(oe,de,ve,Z,se,be,Ue){for(var je,ze,Ve=[0,oe.length-1,0],mt=[];Ve.length;){var ct=Ve.pop(),Le=Ve.pop(),nt=Ve.pop();if(Le-nt<=Ue)for(var Xe=nt;Xe<=Le;Xe++)ze=de[2*Xe+1],(je=de[2*Xe])>=ve&&je<=se&&ze>=Z&&ze<=be&&mt.push(oe[Xe]);else{var Ye=Math.floor((nt+Le)/2);ze=de[2*Ye+1],(je=de[2*Ye])>=ve&&je<=se&&ze>=Z&&ze<=be&&mt.push(oe[Ye]);var qt=(ct+1)%2;(ct===0?ve<=je:Z<=ze)&&(Ve.push(nt),Ve.push(Ye-1),Ve.push(qt)),(ct===0?se>=je:be>=ze)&&(Ve.push(Ye+1),Ve.push(Le),Ve.push(qt))}}return mt}(this.ids,this.coords,z,D,N,X,this.nodeSize)},cn.prototype.within=function(z,D,N){return function(X,oe,de,ve,Z,se){for(var be=[0,X.length-1,0],Ue=[],je=Z*Z;be.length;){var ze=be.pop(),Ve=be.pop(),mt=be.pop();if(Ve-mt<=se)for(var ct=mt;ct<=Ve;ct++)rt(oe[2*ct],oe[2*ct+1],de,ve)<=je&&Ue.push(X[ct]);else{var Le=Math.floor((mt+Ve)/2),nt=oe[2*Le],Xe=oe[2*Le+1];rt(nt,Xe,de,ve)<=je&&Ue.push(X[Le]);var Ye=(ze+1)%2;(ze===0?de-Z<=nt:ve-Z<=Xe)&&(be.push(mt),be.push(Le-1),be.push(Ye)),(ze===0?de+Z>=nt:ve+Z>=Xe)&&(be.push(Le+1),be.push(Ve),be.push(Ye))}}return Ue}(this.ids,this.coords,z,D,N,this.nodeSize)};var sr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(z){return z}},jt=function(z){this.options=Bn(Object.create(sr),z),this.trees=new Array(this.options.maxZoom+1)};function Yt(z,D,N,X,oe){return{x:z,y:D,zoom:1/0,id:N,parentId:-1,numPoints:X,properties:oe}}function St(z,D){var N=z.geometry.coordinates,X=N[1];return{x:Gn(N[0]),y:Nt(X),zoom:1/0,index:D,parentId:-1}}function Ht(z){return{type:"Feature",id:z.id,properties:zn(z),geometry:{type:"Point",coordinates:[(X=z.x,360*(X-.5)),(D=z.y,N=(180-360*D)*Math.PI/180,360*Math.atan(Math.exp(N))/Math.PI-90)]}};var D,N,X}function zn(z){var D=z.numPoints,N=D>=1e4?Math.round(D/1e3)+"k":D>=1e3?Math.round(D/100)/10+"k":D;return Bn(Bn({},z.properties),{cluster:!0,cluster_id:z.id,point_count:D,point_count_abbreviated:N})}function Gn(z){return z/360+.5}function Nt(z){var D=Math.sin(z*Math.PI/180),N=.5-.25*Math.log((1+D)/(1-D))/Math.PI;return N<0?0:N>1?1:N}function Bn(z,D){for(var N in D)z[N]=D[N];return z}function Tn(z){return z.x}function Cn(z){return z.y}function bn(z,D,N,X,oe,de){var ve=oe-N,Z=de-X;if(ve!==0||Z!==0){var se=((z-N)*ve+(D-X)*Z)/(ve*ve+Z*Z);se>1?(N=oe,X=de):se>0&&(N+=ve*se,X+=Z*se)}return(ve=z-N)*ve+(Z=D-X)*Z}function Or(z,D,N,X){var oe={id:z===void 0?null:z,type:D,geometry:N,tags:X,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(de){var ve=de.geometry,Z=de.type;if(Z==="Point"||Z==="MultiPoint"||Z==="LineString")Tr(de,ve);else if(Z==="Polygon"||Z==="MultiLineString")for(var se=0;se<ve.length;se++)Tr(de,ve[se]);else if(Z==="MultiPolygon")for(se=0;se<ve.length;se++)for(var be=0;be<ve[se].length;be++)Tr(de,ve[se][be])}(oe),oe}function Tr(z,D){for(var N=0;N<D.length;N+=3)z.minX=Math.min(z.minX,D[N]),z.minY=Math.min(z.minY,D[N+1]),z.maxX=Math.max(z.maxX,D[N]),z.maxY=Math.max(z.maxY,D[N+1])}function _n(z,D,N,X){if(D.geometry){var oe=D.geometry.coordinates,de=D.geometry.type,ve=Math.pow(N.tolerance/((1<<N.maxZoom)*N.extent),2),Z=[],se=D.id;if(N.promoteId?se=D.properties[N.promoteId]:N.generateId&&(se=X||0),de==="Point")tr(oe,Z);else if(de==="MultiPoint")for(var be=0;be<oe.length;be++)tr(oe[be],Z);else if(de==="LineString")si(oe,Z,ve,!1);else if(de==="MultiLineString"){if(N.lineMetrics){for(be=0;be<oe.length;be++)si(oe[be],Z=[],ve,!1),z.push(Or(se,"LineString",Z,D.properties));return}yr(oe,Z,ve,!1)}else if(de==="Polygon")yr(oe,Z,ve,!0);else{if(de!=="MultiPolygon"){if(de==="GeometryCollection"){for(be=0;be<D.geometry.geometries.length;be++)_n(z,{id:se,geometry:D.geometry.geometries[be],properties:D.properties},N,X);return}throw new Error("Input data is not a valid GeoJSON object.")}for(be=0;be<oe.length;be++){var Ue=[];yr(oe[be],Ue,ve,!0),Z.push(Ue)}}z.push(Or(se,de,Z,D.properties))}}function tr(z,D){D.push(Cr(z[0])),D.push($r(z[1])),D.push(0)}function si(z,D,N,X){for(var oe,de,ve=0,Z=0;Z<z.length;Z++){var se=Cr(z[Z][0]),be=$r(z[Z][1]);D.push(se),D.push(be),D.push(0),Z>0&&(ve+=X?(oe*be-se*de)/2:Math.sqrt(Math.pow(se-oe,2)+Math.pow(be-de,2))),oe=se,de=be}var Ue=D.length-3;D[2]=1,function je(ze,Ve,mt,ct){for(var Le,nt=ct,Xe=mt-Ve>>1,Ye=mt-Ve,qt=ze[Ve],tt=ze[Ve+1],nn=ze[mt],kn=ze[mt+1],en=Ve+3;en<mt;en+=3){var pn=bn(ze[en],ze[en+1],qt,tt,nn,kn);if(pn>nt)Le=en,nt=pn;else if(pn===nt){var Wt=Math.abs(en-Xe);Wt<Ye&&(Le=en,Ye=Wt)}}nt>ct&&(Le-Ve>3&&je(ze,Ve,Le,ct),ze[Le+2]=nt,mt-Le>3&&je(ze,Le,mt,ct))}(D,0,Ue,N),D[Ue+2]=1,D.size=Math.abs(ve),D.start=0,D.end=D.size}function yr(z,D,N,X){for(var oe=0;oe<z.length;oe++){var de=[];si(z[oe],de,N,X),D.push(de)}}function Cr(z){return z/360+.5}function $r(z){var D=Math.sin(z*Math.PI/180),N=.5-.25*Math.log((1+D)/(1-D))/Math.PI;return N<0?0:N>1?1:N}function gr(z,D,N,X,oe,de,ve,Z){if(X/=D,de>=(N/=D)&&ve<X)return z;if(ve<N||de>=X)return null;for(var se=[],be=0;be<z.length;be++){var Ue=z[be],je=Ue.geometry,ze=Ue.type,Ve=oe===0?Ue.minX:Ue.minY,mt=oe===0?Ue.maxX:Ue.maxY;if(Ve>=N&&mt<X)se.push(Ue);else if(!(mt<N||Ve>=X)){var ct=[];if(ze==="Point"||ze==="MultiPoint")dt(je,ct,N,X,oe);else if(ze==="LineString")xt(je,ct,N,X,oe,!1,Z.lineMetrics);else if(ze==="MultiLineString")Qr(je,ct,N,X,oe,!1);else if(ze==="Polygon")Qr(je,ct,N,X,oe,!0);else if(ze==="MultiPolygon")for(var Le=0;Le<je.length;Le++){var nt=[];Qr(je[Le],nt,N,X,oe,!0),nt.length&&ct.push(nt)}if(ct.length){if(Z.lineMetrics&&ze==="LineString"){for(Le=0;Le<ct.length;Le++)se.push(Or(Ue.id,ze,ct[Le],Ue.tags));continue}ze!=="LineString"&&ze!=="MultiLineString"||(ct.length===1?(ze="LineString",ct=ct[0]):ze="MultiLineString"),ze!=="Point"&&ze!=="MultiPoint"||(ze=ct.length===3?"Point":"MultiPoint"),se.push(Or(Ue.id,ze,ct,Ue.tags))}}}return se.length?se:null}function dt(z,D,N,X,oe){for(var de=0;de<z.length;de+=3){var ve=z[de+oe];ve>=N&&ve<=X&&(D.push(z[de]),D.push(z[de+1]),D.push(z[de+2]))}}function xt(z,D,N,X,oe,de,ve){for(var Z,se,be=In(z),Ue=oe===0?ia:Ea,je=z.start,ze=0;ze<z.length-3;ze+=3){var Ve=z[ze],mt=z[ze+1],ct=z[ze+2],Le=z[ze+3],nt=z[ze+4],Xe=oe===0?Ve:mt,Ye=oe===0?Le:nt,qt=!1;ve&&(Z=Math.sqrt(Math.pow(Ve-Le,2)+Math.pow(mt-nt,2))),Xe<N?Ye>N&&(se=Ue(be,Ve,mt,Le,nt,N),ve&&(be.start=je+Z*se)):Xe>X?Ye<X&&(se=Ue(be,Ve,mt,Le,nt,X),ve&&(be.start=je+Z*se)):di(be,Ve,mt,ct),Ye<N&&Xe>=N&&(se=Ue(be,Ve,mt,Le,nt,N),qt=!0),Ye>X&&Xe<=X&&(se=Ue(be,Ve,mt,Le,nt,X),qt=!0),!de&&qt&&(ve&&(be.end=je+Z*se),D.push(be),be=In(z)),ve&&(je+=Z)}var tt=z.length-3;Ve=z[tt],mt=z[tt+1],ct=z[tt+2],(Xe=oe===0?Ve:mt)>=N&&Xe<=X&&di(be,Ve,mt,ct),tt=be.length-3,de&&tt>=3&&(be[tt]!==be[0]||be[tt+1]!==be[1])&&di(be,be[0],be[1],be[2]),be.length&&D.push(be)}function In(z){var D=[];return D.size=z.size,D.start=z.start,D.end=z.end,D}function Qr(z,D,N,X,oe,de){for(var ve=0;ve<z.length;ve++)xt(z[ve],D,N,X,oe,de,!1)}function di(z,D,N,X){z.push(D),z.push(N),z.push(X)}function ia(z,D,N,X,oe,de){var ve=(de-D)/(X-D);return z.push(de),z.push(N+(oe-N)*ve),z.push(1),ve}function Ea(z,D,N,X,oe,de){var ve=(de-N)/(oe-N);return z.push(D+(X-D)*ve),z.push(de),z.push(1),ve}function os(z,D){for(var N=[],X=0;X<z.length;X++){var oe,de=z[X],ve=de.type;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")oe=oa(de.geometry,D);else if(ve==="MultiLineString"||ve==="Polygon"){oe=[];for(var Z=0;Z<de.geometry.length;Z++)oe.push(oa(de.geometry[Z],D))}else if(ve==="MultiPolygon")for(oe=[],Z=0;Z<de.geometry.length;Z++){for(var se=[],be=0;be<de.geometry[Z].length;be++)se.push(oa(de.geometry[Z][be],D));oe.push(se)}N.push(Or(de.id,ve,oe,de.tags))}return N}function oa(z,D){var N=[];N.size=z.size,z.start!==void 0&&(N.start=z.start,N.end=z.end);for(var X=0;X<z.length;X+=3)N.push(z[X]+D,z[X+1],z[X+2]);return N}function as(z,D){if(z.transformed)return z;var N,X,oe,de=1<<z.z,ve=z.x,Z=z.y;for(N=0;N<z.features.length;N++){var se=z.features[N],be=se.geometry,Ue=se.type;if(se.geometry=[],Ue===1)for(X=0;X<be.length;X+=2)se.geometry.push(ss(be[X],be[X+1],D,de,ve,Z));else for(X=0;X<be.length;X++){var je=[];for(oe=0;oe<be[X].length;oe+=2)je.push(ss(be[X][oe],be[X][oe+1],D,de,ve,Z));se.geometry.push(je)}}return z.transformed=!0,z}function ss(z,D,N,X,oe,de){return[Math.round(N*(z*X-oe)),Math.round(N*(D*X-de))]}function aa(z,D,N,X,oe){for(var de=D===oe.maxZoom?0:oe.tolerance/((1<<D)*oe.extent),ve={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:N,y:X,z:D,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Z=0;Z<z.length;Z++){ve.numFeatures++,$s(ve,z[Z],de,oe);var se=z[Z].minX,be=z[Z].minY,Ue=z[Z].maxX,je=z[Z].maxY;se<ve.minX&&(ve.minX=se),be<ve.minY&&(ve.minY=be),Ue>ve.maxX&&(ve.maxX=Ue),je>ve.maxY&&(ve.maxY=je)}return ve}function $s(z,D,N,X){var oe=D.geometry,de=D.type,ve=[];if(de==="Point"||de==="MultiPoint")for(var Z=0;Z<oe.length;Z+=3)ve.push(oe[Z]),ve.push(oe[Z+1]),z.numPoints++,z.numSimplified++;else if(de==="LineString")sa(ve,oe,z,N,!1,!1);else if(de==="MultiLineString"||de==="Polygon")for(Z=0;Z<oe.length;Z++)sa(ve,oe[Z],z,N,de==="Polygon",Z===0);else if(de==="MultiPolygon")for(var se=0;se<oe.length;se++){var be=oe[se];for(Z=0;Z<be.length;Z++)sa(ve,be[Z],z,N,!0,Z===0)}if(ve.length){var Ue=D.tags||null;if(de==="LineString"&&X.lineMetrics){for(var je in Ue={},D.tags)Ue[je]=D.tags[je];Ue.mapbox_clip_start=oe.start/oe.size,Ue.mapbox_clip_end=oe.end/oe.size}var ze={geometry:ve,type:de==="Polygon"||de==="MultiPolygon"?3:de==="LineString"||de==="MultiLineString"?2:1,tags:Ue};D.id!==null&&(ze.id=D.id),z.features.push(ze)}}function sa(z,D,N,X,oe,de){var ve=X*X;if(X>0&&D.size<(oe?ve:X))N.numPoints+=D.length/3;else{for(var Z=[],se=0;se<D.length;se+=3)(X===0||D[se+2]>ve)&&(N.numSimplified++,Z.push(D[se]),Z.push(D[se+1])),N.numPoints++;oe&&function(be,Ue){for(var je=0,ze=0,Ve=be.length,mt=Ve-2;ze<Ve;mt=ze,ze+=2)je+=(be[ze]-be[mt])*(be[ze+1]+be[mt+1]);if(je>0===Ue)for(ze=0,Ve=be.length;ze<Ve/2;ze+=2){var ct=be[ze],Le=be[ze+1];be[ze]=be[Ve-2-ze],be[ze+1]=be[Ve-1-ze],be[Ve-2-ze]=ct,be[Ve-1-ze]=Le}}(Z,de),z.push(Z)}}function co(z,D){var N=(D=this.options=function(oe,de){for(var ve in de)oe[ve]=de[ve];return oe}(Object.create(this.options),D)).debug;if(N&&console.time("preprocess data"),D.maxZoom<0||D.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(D.promoteId&&D.generateId)throw new Error("promoteId and generateId cannot be used together.");var X=function(oe,de){var ve=[];if(oe.type==="FeatureCollection")for(var Z=0;Z<oe.features.length;Z++)_n(ve,oe.features[Z],de,Z);else _n(ve,oe.type==="Feature"?oe:{geometry:oe},de);return ve}(z,D);this.tiles={},this.tileCoords=[],N&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",D.indexMaxZoom,D.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(X=function(oe,de){var ve=de.buffer/de.extent,Z=oe,se=gr(oe,1,-1-ve,ve,0,-1,2,de),be=gr(oe,1,1-ve,2+ve,0,-1,2,de);return(se||be)&&(Z=gr(oe,1,-ve,1+ve,0,-1,2,de)||[],se&&(Z=os(se,1).concat(Z)),be&&(Z=Z.concat(os(be,-1)))),Z}(X,D)).length&&this.splitTile(X,0,0,0),N&&(X.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function po(z,D,N){return 32*((1<<z)*N+D)+z}function Vo(z,D){var N=z.tileID.canonical;if(!this._geoJSONIndex)return D(null,null);var X=this._geoJSONIndex.getTile(N.z,N.x,N.y);if(!X)return D(null,null);var oe=new ye(X.features),de=Ne(oe);de.byteOffset===0&&de.byteLength===de.buffer.byteLength||(de=new Uint8Array(de)),D(null,{vectorTile:oe,rawData:de.buffer})}jt.prototype.load=function(z){var D=this.options,N=D.log,X=D.minZoom,oe=D.maxZoom,de=D.nodeSize;N&&console.time("total time");var ve="prepare "+z.length+" points";N&&console.time(ve),this.points=z;for(var Z=[],se=0;se<z.length;se++)z[se].geometry&&Z.push(St(z[se],se));this.trees[oe+1]=new cn(Z,Tn,Cn,de,Float32Array),N&&console.timeEnd(ve);for(var be=oe;be>=X;be--){var Ue=+Date.now();Z=this._cluster(Z,be),this.trees[be]=new cn(Z,Tn,Cn,de,Float32Array),N&&console.log("z%d: %d clusters in %dms",be,Z.length,+Date.now()-Ue)}return N&&console.timeEnd("total time"),this},jt.prototype.getClusters=function(z,D){var N=((z[0]+180)%360+360)%360-180,X=Math.max(-90,Math.min(90,z[1])),oe=z[2]===180?180:((z[2]+180)%360+360)%360-180,de=Math.max(-90,Math.min(90,z[3]));if(z[2]-z[0]>=360)N=-180,oe=180;else if(N>oe){var ve=this.getClusters([N,X,180,de],D),Z=this.getClusters([-180,X,oe,de],D);return ve.concat(Z)}for(var se=this.trees[this._limitZoom(D)],be=[],Ue=0,je=se.range(Gn(N),Nt(de),Gn(oe),Nt(X));Ue<je.length;Ue+=1){var ze=se.points[je[Ue]];be.push(ze.numPoints?Ht(ze):this.points[ze.index])}return be},jt.prototype.getChildren=function(z){var D=this._getOriginId(z),N=this._getOriginZoom(z),X="No cluster with the specified id.",oe=this.trees[N];if(!oe)throw new Error(X);var de=oe.points[D];if(!de)throw new Error(X);for(var ve=this.options.radius/(this.options.extent*Math.pow(2,N-1)),Z=[],se=0,be=oe.within(de.x,de.y,ve);se<be.length;se+=1){var Ue=oe.points[be[se]];Ue.parentId===z&&Z.push(Ue.numPoints?Ht(Ue):this.points[Ue.index])}if(Z.length===0)throw new Error(X);return Z},jt.prototype.getLeaves=function(z,D,N){var X=[];return this._appendLeaves(X,z,D=D||10,N=N||0,0),X},jt.prototype.getTile=function(z,D,N){var X=this.trees[this._limitZoom(z)],oe=Math.pow(2,z),de=this.options,ve=de.radius/de.extent,Z=(N-ve)/oe,se=(N+1+ve)/oe,be={features:[]};return this._addTileFeatures(X.range((D-ve)/oe,Z,(D+1+ve)/oe,se),X.points,D,N,oe,be),D===0&&this._addTileFeatures(X.range(1-ve/oe,Z,1,se),X.points,oe,N,oe,be),D===oe-1&&this._addTileFeatures(X.range(0,Z,ve/oe,se),X.points,-1,N,oe,be),be.features.length?be:null},jt.prototype.getClusterExpansionZoom=function(z){for(var D=this._getOriginZoom(z)-1;D<=this.options.maxZoom;){var N=this.getChildren(z);if(D++,N.length!==1)break;z=N[0].properties.cluster_id}return D},jt.prototype._appendLeaves=function(z,D,N,X,oe){for(var de=0,ve=this.getChildren(D);de<ve.length;de+=1){var Z=ve[de],se=Z.properties;if(se&&se.cluster?oe+se.point_count<=X?oe+=se.point_count:oe=this._appendLeaves(z,se.cluster_id,N,X,oe):oe<X?oe++:z.push(Z),z.length===N)break}return oe},jt.prototype._addTileFeatures=function(z,D,N,X,oe,de){for(var ve=0,Z=z;ve<Z.length;ve+=1){var se=D[Z[ve]],be=se.numPoints,Ue={type:1,geometry:[[Math.round(this.options.extent*(se.x*oe-N)),Math.round(this.options.extent*(se.y*oe-X))]],tags:be?zn(se):this.points[se.index].properties},je=void 0;be?je=se.id:this.options.generateId?je=se.index:this.points[se.index].id&&(je=this.points[se.index].id),je!==void 0&&(Ue.id=je),de.features.push(Ue)}},jt.prototype._limitZoom=function(z){return Math.max(this.options.minZoom,Math.min(+z,this.options.maxZoom+1))},jt.prototype._cluster=function(z,D){for(var N=[],X=this.options,oe=X.reduce,de=X.minPoints,ve=X.radius/(X.extent*Math.pow(2,D)),Z=0;Z<z.length;Z++){var se=z[Z];if(!(se.zoom<=D)){se.zoom=D;for(var be=this.trees[D+1],Ue=be.within(se.x,se.y,ve),je=se.numPoints||1,ze=je,Ve=0,mt=Ue;Ve<mt.length;Ve+=1){var ct=be.points[mt[Ve]];ct.zoom>D&&(ze+=ct.numPoints||1)}if(ze>=de){for(var Le=se.x*je,nt=se.y*je,Xe=oe&&je>1?this._map(se,!0):null,Ye=(Z<<5)+(D+1)+this.points.length,qt=0,tt=Ue;qt<tt.length;qt+=1){var nn=be.points[tt[qt]];if(!(nn.zoom<=D)){nn.zoom=D;var kn=nn.numPoints||1;Le+=nn.x*kn,nt+=nn.y*kn,nn.parentId=Ye,oe&&(Xe||(Xe=this._map(se,!0)),oe(Xe,this._map(nn)))}}se.parentId=Ye,N.push(Yt(Le/ze,nt/ze,Ye,ze,Xe))}else if(N.push(se),ze>1)for(var en=0,pn=Ue;en<pn.length;en+=1){var Wt=be.points[pn[en]];Wt.zoom<=D||(Wt.zoom=D,N.push(Wt))}}}return N},jt.prototype._getOriginId=function(z){return z-this.points.length>>5},jt.prototype._getOriginZoom=function(z){return(z-this.points.length)%32},jt.prototype._map=function(z,D){if(z.numPoints)return D?Bn({},z.properties):z.properties;var N=this.points[z.index].properties,X=this.options.map(N);return D&&X===N?Bn({},X):X},co.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},co.prototype.splitTile=function(z,D,N,X,oe,de,ve){for(var Z=[z,D,N,X],se=this.options,be=se.debug;Z.length;){X=Z.pop(),N=Z.pop(),D=Z.pop(),z=Z.pop();var Ue=1<<D,je=po(D,N,X),ze=this.tiles[je];if(!ze&&(be>1&&console.time("creation"),ze=this.tiles[je]=aa(z,D,N,X,se),this.tileCoords.push({z:D,x:N,y:X}),be)){be>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",D,N,X,ze.numFeatures,ze.numPoints,ze.numSimplified),console.timeEnd("creation"));var Ve="z"+D;this.stats[Ve]=(this.stats[Ve]||0)+1,this.total++}if(ze.source=z,oe){if(D===se.maxZoom||D===oe)continue;var mt=1<<oe-D;if(N!==Math.floor(de/mt)||X!==Math.floor(ve/mt))continue}else if(D===se.indexMaxZoom||ze.numPoints<=se.indexMaxPoints)continue;if(ze.source=null,z.length!==0){be>1&&console.time("clipping");var ct,Le,nt,Xe,Ye,qt,tt=.5*se.buffer/se.extent,nn=.5-tt,kn=.5+tt,en=1+tt;ct=Le=nt=Xe=null,Ye=gr(z,Ue,N-tt,N+kn,0,ze.minX,ze.maxX,se),qt=gr(z,Ue,N+nn,N+en,0,ze.minX,ze.maxX,se),z=null,Ye&&(ct=gr(Ye,Ue,X-tt,X+kn,1,ze.minY,ze.maxY,se),Le=gr(Ye,Ue,X+nn,X+en,1,ze.minY,ze.maxY,se),Ye=null),qt&&(nt=gr(qt,Ue,X-tt,X+kn,1,ze.minY,ze.maxY,se),Xe=gr(qt,Ue,X+nn,X+en,1,ze.minY,ze.maxY,se),qt=null),be>1&&console.timeEnd("clipping"),Z.push(ct||[],D+1,2*N,2*X),Z.push(Le||[],D+1,2*N,2*X+1),Z.push(nt||[],D+1,2*N+1,2*X),Z.push(Xe||[],D+1,2*N+1,2*X+1)}}},co.prototype.getTile=function(z,D,N){var X=this.options,oe=X.extent,de=X.debug;if(z<0||z>24)return null;var ve=1<<z,Z=po(z,D=(D%ve+ve)%ve,N);if(this.tiles[Z])return as(this.tiles[Z],oe);de>1&&console.log("drilling down to z%d-%d-%d",z,D,N);for(var se,be=z,Ue=D,je=N;!se&&be>0;)be--,Ue=Math.floor(Ue/2),je=Math.floor(je/2),se=this.tiles[po(be,Ue,je)];return se&&se.source?(de>1&&console.log("found parent tile z%d-%d-%d",be,Ue,je),de>1&&console.time("drilling down"),this.splitTile(se.source,be,Ue,je,z,D,N),de>1&&console.timeEnd("drilling down"),this.tiles[Z]?as(this.tiles[Z],oe):null):null};var ls=function(z){function D(N,X,oe,de){z.call(this,N,X,oe,Vo),de&&(this.loadGeoJSON=de)}return z&&(D.__proto__=z),(D.prototype=Object.create(z&&z.prototype)).constructor=D,D.prototype.loadData=function(N,X){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=X,this._pendingLoadDataParams=N,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},D.prototype._loadData=function(){var N=this;if(this._pendingCallback&&this._pendingLoadDataParams){var X=this._pendingCallback,oe=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var de=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new s.RequestPerformance(oe.request);this.loadGeoJSON(oe,function(ve,Z){if(ve||!Z)return X(ve);if(typeof Z!="object")return X(new Error("Input data given to '"+oe.source+"' is not a valid GeoJSON object."));(function ze(Ve,mt){var ct,Le=Ve&&Ve.type;if(Le==="FeatureCollection")for(ct=0;ct<Ve.features.length;ct++)ze(Ve.features[ct],mt);else if(Le==="GeometryCollection")for(ct=0;ct<Ve.geometries.length;ct++)ze(Ve.geometries[ct],mt);else if(Le==="Feature")ze(Ve.geometry,mt);else if(Le==="Polygon")B(Ve.coordinates,mt);else if(Le==="MultiPolygon")for(ct=0;ct<Ve.coordinates.length;ct++)B(Ve.coordinates[ct],mt);return Ve})(Z,!0);try{if(oe.filter){var se=s.createExpression(oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(se.result==="error")throw new Error(se.value.map(function(ze){return ze.key+": "+ze.message}).join(", "));var be=Z.features.filter(function(ze){return se.value.evaluate({zoom:0},ze)});Z={type:"FeatureCollection",features:be}}N._geoJSONIndex=oe.cluster?new jt(function(ze){var Ve=ze.superclusterOptions,mt=ze.clusterProperties;if(!mt||!Ve)return Ve;for(var ct={},Le={},nt={accumulated:null,zoom:0},Xe={properties:null},Ye=Object.keys(mt),qt=0,tt=Ye;qt<tt.length;qt+=1){var nn=tt[qt],kn=mt[nn],en=kn[0],pn=s.createExpression(kn[1]),Wt=s.createExpression(typeof en=="string"?[en,["accumulated"],["get",nn]]:en);ct[nn]=pn.value,Le[nn]=Wt.value}return Ve.map=function(vr){Xe.properties=vr;for(var ln={},Mn=0,xn=Ye;Mn<xn.length;Mn+=1){var Zt=xn[Mn];ln[Zt]=ct[Zt].evaluate(nt,Xe)}return ln},Ve.reduce=function(vr,ln){Xe.properties=ln;for(var Mn=0,xn=Ye;Mn<xn.length;Mn+=1){var Zt=xn[Mn];nt.accumulated=vr[Zt],vr[Zt]=Le[Zt].evaluate(nt,Xe)}},Ve}(oe)).load(Z.features):function(ze,Ve){return new co(ze,Ve)}(Z,oe.geojsonVtOptions)}catch(ze){return X(ze)}N.loaded={};var Ue={};if(de){var je=de.finish();je&&(Ue.resourceTiming={},Ue.resourceTiming[oe.source]=JSON.parse(JSON.stringify(je)))}X(null,Ue)})}},D.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},D.prototype.reloadTile=function(N,X){var oe=this.loaded;return oe&&oe[N.uid]?z.prototype.reloadTile.call(this,N,X):this.loadTile(N,X)},D.prototype.loadGeoJSON=function(N,X){if(N.request)s.getJSON(N.request,X);else{if(typeof N.data!="string")return X(new Error("Input data given to '"+N.source+"' is not a valid GeoJSON object."));try{return X(null,JSON.parse(N.data))}catch{return X(new Error("Input data given to '"+N.source+"' is not a valid GeoJSON object."))}}},D.prototype.removeSource=function(N,X){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),X()},D.prototype.getClusterExpansionZoom=function(N,X){try{X(null,this._geoJSONIndex.getClusterExpansionZoom(N.clusterId))}catch(oe){X(oe)}},D.prototype.getClusterChildren=function(N,X){try{X(null,this._geoJSONIndex.getChildren(N.clusterId))}catch(oe){X(oe)}},D.prototype.getClusterLeaves=function(N,X){try{X(null,this._geoJSONIndex.getLeaves(N.clusterId,N.limit,N.offset))}catch(oe){X(oe)}},D}(ee),rr=function(z){var D=this;this.self=z,this.actor=new s.Actor(z,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:ee,geojson:ls},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(N,X){if(D.workerSourceTypes[N])throw new Error('Worker source with name "'+N+'" already registered.');D.workerSourceTypes[N]=X},this.self.registerRTLTextPlugin=function(N){if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=N.applyArabicShaping,s.plugin.processBidirectionalText=N.processBidirectionalText,s.plugin.processStyledBidirectionalText=N.processStyledBidirectionalText}};return rr.prototype.setReferrer=function(z,D){this.referrer=D},rr.prototype.setImages=function(z,D,N){for(var X in this.availableImages[z]=D,this.workerSources[z]){var oe=this.workerSources[z][X];for(var de in oe)oe[de].availableImages=D}N()},rr.prototype.setLayers=function(z,D,N){this.getLayerIndex(z).replace(D),N()},rr.prototype.updateLayers=function(z,D,N){this.getLayerIndex(z).update(D.layers,D.removedIds),N()},rr.prototype.loadTile=function(z,D,N){this.getWorkerSource(z,D.type,D.source).loadTile(D,N)},rr.prototype.loadDEMTile=function(z,D,N){this.getDEMWorkerSource(z,D.source).loadTile(D,N)},rr.prototype.reloadTile=function(z,D,N){this.getWorkerSource(z,D.type,D.source).reloadTile(D,N)},rr.prototype.abortTile=function(z,D,N){this.getWorkerSource(z,D.type,D.source).abortTile(D,N)},rr.prototype.removeTile=function(z,D,N){this.getWorkerSource(z,D.type,D.source).removeTile(D,N)},rr.prototype.removeDEMTile=function(z,D){this.getDEMWorkerSource(z,D.source).removeTile(D)},rr.prototype.removeSource=function(z,D,N){if(this.workerSources[z]&&this.workerSources[z][D.type]&&this.workerSources[z][D.type][D.source]){var X=this.workerSources[z][D.type][D.source];delete this.workerSources[z][D.type][D.source],X.removeSource!==void 0?X.removeSource(D,N):N()}},rr.prototype.loadWorkerSource=function(z,D,N){try{this.self.importScripts(D.url),N()}catch(X){N(X.toString())}},rr.prototype.syncRTLPluginState=function(z,D,N){try{s.plugin.setState(D);var X=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&X!=null){this.self.importScripts(X);var oe=s.plugin.isParsed();N(oe?void 0:new Error("RTL Text Plugin failed to import scripts from "+X),oe)}}catch(de){N(de.toString())}},rr.prototype.getAvailableImages=function(z){var D=this.availableImages[z];return D||(D=[]),D},rr.prototype.getLayerIndex=function(z){var D=this.layerIndexes[z];return D||(D=this.layerIndexes[z]=new C),D},rr.prototype.getWorkerSource=function(z,D,N){var X=this;return this.workerSources[z]||(this.workerSources[z]={}),this.workerSources[z][D]||(this.workerSources[z][D]={}),this.workerSources[z][D][N]||(this.workerSources[z][D][N]=new this.workerSourceTypes[D]({send:function(oe,de,ve){X.actor.send(oe,de,ve,z)}},this.getLayerIndex(z),this.getAvailableImages(z))),this.workerSources[z][D][N]},rr.prototype.getDEMWorkerSource=function(z,D){return this.demWorkerSources[z]||(this.demWorkerSources[z]={}),this.demWorkerSources[z][D]||(this.demWorkerSources[z][D]=new q),this.demWorkerSources[z][D]},rr.prototype.enforceCacheSizeLimit=function(z,D){s.enforceCacheSizeLimit(D)},typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new rr(self)),rr}),m(["./shared"],function(s){var _=s.createCommonjsModule(function(l){function c(g){return!u(g)}function u(g){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,S,I=new Blob([""],{type:"text/javascript"}),L=URL.createObjectURL(I);try{S=new Worker(L),w=!0}catch{w=!1}return S&&S.terminate(),URL.revokeObjectURL(L),w}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var w=document.createElement("canvas");w.width=w.height=1;var S=w.getContext("2d");if(!S)return!1;var I=S.getImageData(0,0,1,1);return I&&I.width===w.width}()?(f[x=g&&g.failIfMajorPerformanceCaveat]===void 0&&(f[x]=function(w){var S=function(L){var j=document.createElement("canvas"),W=Object.create(c.webGLContextAttributes);return W.failIfMajorPerformanceCaveat=L,j.probablySupportsContext?j.probablySupportsContext("webgl",W)||j.probablySupportsContext("experimental-webgl",W):j.supportsContext?j.supportsContext("webgl",W)||j.supportsContext("experimental-webgl",W):j.getContext("webgl",W)||j.getContext("experimental-webgl",W)}(w);if(!S)return!1;var I=S.createShader(S.VERTEX_SHADER);return!(!I||S.isContextLost())&&(S.shaderSource(I,"void main() {}"),S.compileShader(I),S.getShaderParameter(I,S.COMPILE_STATUS)===!0)}(x)),f[x]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var x}l.exports?l.exports=c:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=c,window.mapboxgl.notSupportedReason=u);var f={};c.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(l,c,u){var f=s.window.document.createElement(l);return c!==void 0&&(f.className=c),u&&u.appendChild(f),f},createNS:function(l,c){return s.window.document.createElementNS(l,c)}},C=s.window.document&&s.window.document.documentElement.style;function M(l){if(!C)return l[0];for(var c=0;c<l.length;c++)if(l[c]in C)return l[c];return l[0]}var O,R=M(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){C&&R&&(O=C[R],C[R]="none")},b.enableDrag=function(){C&&R&&(C[R]=O)};var Y=M(["transform","WebkitTransform"]);b.setTransform=function(l,c){l.style[Y]=c};var ee=!1;try{var J=Object.defineProperty({},"passive",{get:function(){ee=!0}});s.window.addEventListener("test",J,J),s.window.removeEventListener("test",J,J)}catch{ee=!1}b.addEventListener=function(l,c,u,f){f===void 0&&(f={}),l.addEventListener(c,u,"passive"in f&&ee?f:f.capture)},b.removeEventListener=function(l,c,u,f){f===void 0&&(f={}),l.removeEventListener(c,u,"passive"in f&&ee?f:f.capture)};var q=function(l){l.preventDefault(),l.stopPropagation(),s.window.removeEventListener("click",q,!0)};function B(l){var c=l.userImage;return!!(c&&c.render&&c.render())&&(l.data.replace(new Uint8Array(c.data.buffer)),!0)}b.suppressClick=function(){s.window.addEventListener("click",q,!0),s.window.setTimeout(function(){s.window.removeEventListener("click",q,!0)},0)},b.mousePos=function(l,c){var u=l.getBoundingClientRect();return new s.Point(c.clientX-u.left-l.clientLeft,c.clientY-u.top-l.clientTop)},b.touchPos=function(l,c){for(var u=l.getBoundingClientRect(),f=[],g=0;g<c.length;g++)f.push(new s.Point(c[g].clientX-u.left-l.clientLeft,c[g].clientY-u.top-l.clientTop));return f},b.mouseButton=function(l){return s.window.InstallTrigger!==void 0&&l.button===2&&l.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:l.button},b.remove=function(l){l.parentNode&&l.parentNode.removeChild(l)};var $=function(l){function c(){l.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.isLoaded=function(){return this.loaded},c.prototype.setLoaded=function(u){if(this.loaded!==u&&(this.loaded=u,u)){for(var f=0,g=this.requestors;f<g.length;f+=1){var x=g[f];this._notify(x.ids,x.callback)}this.requestors=[]}},c.prototype.getImage=function(u){return this.images[u]},c.prototype.addImage=function(u,f){this._validate(u,f)&&(this.images[u]=f)},c.prototype._validate=function(u,f){var g=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new s.ErrorEvent(new Error('Image "'+u+'" has invalid "stretchX" value'))),g=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new s.ErrorEvent(new Error('Image "'+u+'" has invalid "stretchY" value'))),g=!1),this._validateContent(f.content,f)||(this.fire(new s.ErrorEvent(new Error('Image "'+u+'" has invalid "content" value'))),g=!1),g},c.prototype._validateStretch=function(u,f){if(!u)return!0;for(var g=0,x=0,w=u;x<w.length;x+=1){var S=w[x];if(S[0]<g||S[1]<S[0]||f<S[1])return!1;g=S[1]}return!0},c.prototype._validateContent=function(u,f){return!(u&&(u.length!==4||u[0]<0||f.data.width<u[0]||u[1]<0||f.data.height<u[1]||u[2]<0||f.data.width<u[2]||u[3]<0||f.data.height<u[3]||u[2]<u[0]||u[3]<u[1]))},c.prototype.updateImage=function(u,f){f.version=this.images[u].version+1,this.images[u]=f,this.updatedImages[u]=!0},c.prototype.removeImage=function(u){var f=this.images[u];delete this.images[u],delete this.patterns[u],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()},c.prototype.listImages=function(){return Object.keys(this.images)},c.prototype.getImages=function(u,f){var g=!0;if(!this.isLoaded())for(var x=0,w=u;x<w.length;x+=1)this.images[w[x]]||(g=!1);this.isLoaded()||g?this._notify(u,f):this.requestors.push({ids:u,callback:f})},c.prototype._notify=function(u,f){for(var g={},x=0,w=u;x<w.length;x+=1){var S=w[x];this.images[S]||this.fire(new s.Event("styleimagemissing",{id:S}));var I=this.images[S];I?g[S]={data:I.data.clone(),pixelRatio:I.pixelRatio,sdf:I.sdf,version:I.version,stretchX:I.stretchX,stretchY:I.stretchY,content:I.content,hasRenderCallback:Boolean(I.userImage&&I.userImage.render)}:s.warnOnce('Image "'+S+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}f(null,g)},c.prototype.getPixelSize=function(){var u=this.atlasImage;return{width:u.width,height:u.height}},c.prototype.getPattern=function(u){var f=this.patterns[u],g=this.getImage(u);if(!g)return null;if(f&&f.position.version===g.version)return f.position;if(f)f.position.version=g.version;else{var x={w:g.data.width+2,h:g.data.height+2,x:0,y:0},w=new s.ImagePosition(x,g);this.patterns[u]={bin:x,position:w}}return this._updatePatternAtlas(),this.patterns[u].position},c.prototype.bind=function(u){var f=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(u,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)},c.prototype._updatePatternAtlas=function(){var u=[];for(var f in this.patterns)u.push(this.patterns[f].bin);var g=s.potpack(u),x=g.w,w=g.h,S=this.atlasImage;for(var I in S.resize({width:x||1,height:w||1}),this.patterns){var L=this.patterns[I].bin,j=L.x+1,W=L.y+1,G=this.images[I].data,ae=G.width,ie=G.height;s.RGBAImage.copy(G,S,{x:0,y:0},{x:j,y:W},{width:ae,height:ie}),s.RGBAImage.copy(G,S,{x:0,y:ie-1},{x:j,y:W-1},{width:ae,height:1}),s.RGBAImage.copy(G,S,{x:0,y:0},{x:j,y:W+ie},{width:ae,height:1}),s.RGBAImage.copy(G,S,{x:ae-1,y:0},{x:j-1,y:W},{width:1,height:ie}),s.RGBAImage.copy(G,S,{x:0,y:0},{x:j+ae,y:W},{width:1,height:ie})}this.dirty=!0},c.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},c.prototype.dispatchRenderCallbacks=function(u){for(var f=0,g=u;f<g.length;f+=1){var x=g[f];if(!this.callbackDispatchedThisFrame[x]){this.callbackDispatchedThisFrame[x]=!0;var w=this.images[x];B(w)&&this.updateImage(x,w)}}},c}(s.Evented),Q=me,H=me,ye=1e20;function me(l,c,u,f,g,x){this.fontSize=l||24,this.buffer=c===void 0?3:c,this.cutoff=f||.25,this.fontFamily=g||"sans-serif",this.fontWeight=x||"normal",this.radius=u||8;var w=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=w,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(w*w),this.gridInner=new Float64Array(w*w),this.f=new Float64Array(w),this.d=new Float64Array(w),this.z=new Float64Array(w+1),this.v=new Int16Array(w),this.middle=Math.round(w/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function xe(l,c,u,f,g,x,w){for(var S=0;S<c;S++){for(var I=0;I<u;I++)f[I]=l[I*c+S];for(Te(f,g,x,w,u),I=0;I<u;I++)l[I*c+S]=g[I]}for(I=0;I<u;I++){for(S=0;S<c;S++)f[S]=l[I*c+S];for(Te(f,g,x,w,c),S=0;S<c;S++)l[I*c+S]=Math.sqrt(g[S])}}function Te(l,c,u,f,g){u[0]=0,f[0]=-ye,f[1]=+ye;for(var x=1,w=0;x<g;x++){for(var S=(l[x]+x*x-(l[u[w]]+u[w]*u[w]))/(2*x-2*u[w]);S<=f[w];)w--,S=(l[x]+x*x-(l[u[w]]+u[w]*u[w]))/(2*x-2*u[w]);u[++w]=x,f[w]=S,f[w+1]=+ye}for(x=0,w=0;x<g;x++){for(;f[w+1]<x;)w++;c[x]=(x-u[w])*(x-u[w])+l[u[w]]}}me.prototype.draw=function(l){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(l,this.buffer,this.middle);for(var c=this.ctx.getImageData(0,0,this.size,this.size),u=new Uint8ClampedArray(this.size*this.size),f=0;f<this.size*this.size;f++){var g=c.data[4*f+3]/255;this.gridOuter[f]=g===1?0:g===0?ye:Math.pow(Math.max(0,.5-g),2),this.gridInner[f]=g===1?ye:g===0?0:Math.pow(Math.max(0,g-.5),2)}for(xe(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),xe(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),f=0;f<this.size*this.size;f++)u[f]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[f]-this.gridInner[f])/this.radius+this.cutoff))));return u},Q.default=H;var Se=function(l,c){this.requestManager=l,this.localIdeographFontFamily=c,this.entries={}};Se.prototype.setURL=function(l){this.url=l},Se.prototype.getGlyphs=function(l,c){var u=this,f=[];for(var g in l)for(var x=0,w=l[g];x<w.length;x+=1)f.push({stack:g,id:w[x]});s.asyncAll(f,function(S,I){var L=S.stack,j=S.id,W=u.entries[L];W||(W=u.entries[L]={glyphs:{},requests:{},ranges:{}});var G=W.glyphs[j];if(G===void 0){if(G=u._tinySDF(W,L,j))return W.glyphs[j]=G,void I(null,{stack:L,id:j,glyph:G});var ae=Math.floor(j/256);if(256*ae>65535)I(new Error("glyphs > 65535 not supported"));else if(W.ranges[ae])I(null,{stack:L,id:j,glyph:G});else{var ie=W.requests[ae];ie||(ie=W.requests[ae]=[],Se.loadGlyphRange(L,ae,u.url,u.requestManager,function(pe,te){if(te){for(var ce in te)u._doesCharSupportLocalGlyph(+ce)||(W.glyphs[+ce]=te[+ce]);W.ranges[ae]=!0}for(var ge=0,we=ie;ge<we.length;ge+=1)(0,we[ge])(pe,te);delete W.requests[ae]})),ie.push(function(pe,te){pe?I(pe):te&&I(null,{stack:L,id:j,glyph:te[j]||null})})}}else I(null,{stack:L,id:j,glyph:G})},function(S,I){if(S)c(S);else if(I){for(var L={},j=0,W=I;j<W.length;j+=1){var G=W[j],ae=G.stack,ie=G.id,pe=G.glyph;(L[ae]||(L[ae]={}))[ie]=pe&&{id:pe.id,bitmap:pe.bitmap.clone(),metrics:pe.metrics}}c(null,L)}})},Se.prototype._doesCharSupportLocalGlyph=function(l){return!!this.localIdeographFontFamily&&(s.isChar["CJK Unified Ideographs"](l)||s.isChar["Hangul Syllables"](l)||s.isChar.Hiragana(l)||s.isChar.Katakana(l))},Se.prototype._tinySDF=function(l,c,u){var f=this.localIdeographFontFamily;if(f&&this._doesCharSupportLocalGlyph(u)){var g=l.tinySDF;if(!g){var x="400";/bold/i.test(c)?x="900":/medium/i.test(c)?x="500":/light/i.test(c)&&(x="200"),g=l.tinySDF=new Se.TinySDF(24,3,8,.25,f,x)}return{id:u,bitmap:new s.AlphaImage({width:30,height:30},g.draw(String.fromCharCode(u))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},Se.loadGlyphRange=function(l,c,u,f,g){var x=256*c,w=x+255,S=f.transformRequest(f.normalizeGlyphsURL(u).replace("{fontstack}",l).replace("{range}",x+"-"+w),s.ResourceType.Glyphs);s.getArrayBuffer(S,function(I,L){if(I)g(I);else if(L){for(var j={},W=0,G=s.parseGlyphPBF(L);W<G.length;W+=1){var ae=G[W];j[ae.id]=ae}g(null,j)}})},Se.TinySDF=Q;var Ne=function(){this.specification=s.styleSpec.light.position};Ne.prototype.possiblyEvaluate=function(l,c){return s.sphericalToCartesian(l.expression.evaluate(c))},Ne.prototype.interpolate=function(l,c,u){return{x:s.number(l.x,c.x,u),y:s.number(l.y,c.y,u),z:s.number(l.z,c.z,u)}};var He=new s.Properties({anchor:new s.DataConstantProperty(s.styleSpec.light.anchor),position:new Ne,color:new s.DataConstantProperty(s.styleSpec.light.color),intensity:new s.DataConstantProperty(s.styleSpec.light.intensity)}),yt=function(l){function c(u){l.call(this),this._transitionable=new s.Transitionable(He),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getLight=function(){return this._transitionable.serialize()},c.prototype.setLight=function(u,f){if(f===void 0&&(f={}),!this._validate(s.validateLight,u,f))for(var g in u){var x=u[g];s.endsWith(g,"-transition")?this._transitionable.setTransition(g.slice(0,-"-transition".length),x):this._transitionable.setValue(g,x)}},c.prototype.updateTransitions=function(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)},c.prototype.hasTransition=function(){return this._transitioning.hasTransition()},c.prototype.recalculate=function(u){this.properties=this._transitioning.possiblyEvaluate(u)},c.prototype._validate=function(u,f,g){return(!g||g.validate!==!1)&&s.emitValidationErrors(this,u.call(s.validateStyle,s.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:s.styleSpec})))},c}(s.Evented),Qe=function(l,c){this.width=l,this.height=c,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};Qe.prototype.getDash=function(l,c){var u=l.join(",")+String(c);return this.dashEntry[u]||(this.dashEntry[u]=this.addDash(l,c)),this.dashEntry[u]},Qe.prototype.getDashRanges=function(l,c,u){var f=[],g=l.length%2==1?-l[l.length-1]*u:0,x=l[0]*u,w=!0;f.push({left:g,right:x,isDash:w,zeroLength:l[0]===0});for(var S=l[0],I=1;I<l.length;I++){var L=l[I];f.push({left:g=S*u,right:x=(S+=L)*u,isDash:w=!w,zeroLength:L===0})}return f},Qe.prototype.addRoundDash=function(l,c,u){for(var f=c/2,g=-u;g<=u;g++)for(var x=this.width*(this.nextRow+u+g),w=0,S=l[w],I=0;I<this.width;I++){I/S.right>1&&(S=l[++w]);var L=Math.abs(I-S.left),j=Math.abs(I-S.right),W=Math.min(L,j),G=void 0,ae=g/u*(f+1);if(S.isDash){var ie=f-Math.abs(ae);G=Math.sqrt(W*W+ie*ie)}else G=f-Math.sqrt(W*W+ae*ae);this.data[x+I]=Math.max(0,Math.min(255,G+128))}},Qe.prototype.addRegularDash=function(l){for(var c=l.length-1;c>=0;--c){var u=l[c],f=l[c+1];u.zeroLength?l.splice(c,1):f&&f.isDash===u.isDash&&(f.left=u.left,l.splice(c,1))}var g=l[0],x=l[l.length-1];g.isDash===x.isDash&&(g.left=x.left-this.width,x.right=g.right+this.width);for(var w=this.width*this.nextRow,S=0,I=l[S],L=0;L<this.width;L++){L/I.right>1&&(I=l[++S]);var j=Math.abs(L-I.left),W=Math.abs(L-I.right),G=Math.min(j,W);this.data[w+L]=Math.max(0,Math.min(255,(I.isDash?G:-G)+128))}},Qe.prototype.addDash=function(l,c){var u=c?7:0,f=2*u+1;if(this.nextRow+f>this.height)return s.warnOnce("LineAtlas out of space"),null;for(var g=0,x=0;x<l.length;x++)g+=l[x];if(g!==0){var w=this.width/g,S=this.getDashRanges(l,this.width,w);c?this.addRoundDash(S,w,u):this.addRegularDash(S)}var I={y:(this.nextRow+u+.5)/this.height,height:2*u/this.height,width:g};return this.nextRow+=f,this.dirty=!0,I},Qe.prototype.bind=function(l){var c=l.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.ALPHA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.width,this.height,0,c.ALPHA,c.UNSIGNED_BYTE,this.data))};var Ke=function l(c,u){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=s.uniqueId();for(var f=this.workerPool.acquire(this.id),g=0;g<f.length;g++){var x=new l.Actor(f[g],u,this.id);x.name="Worker "+g,this.actors.push(x)}};function ft(l,c,u){var f=function(g,x){if(g)return u(g);if(x){var w=s.pick(s.extend(x,l),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(w.vectorLayers=x.vector_layers,w.vectorLayerIds=w.vectorLayers.map(function(S){return S.id})),w.tiles=c.canonicalizeTileset(w,l.url),u(null,w)}};return l.url?s.getJSON(c.transformRequest(c.normalizeSourceURL(l.url),s.ResourceType.Source),f):s.browser.frame(function(){return f(null,l)})}Ke.prototype.broadcast=function(l,c,u){s.asyncAll(this.actors,function(f,g){f.send(l,c,g)},u=u||function(){})},Ke.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Ke.prototype.remove=function(){this.actors.forEach(function(l){l.remove()}),this.actors=[],this.workerPool.release(this.id)},Ke.Actor=s.Actor;var st=function(l,c,u){this.bounds=s.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=c||0,this.maxzoom=u||24};st.prototype.validateBounds=function(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]},st.prototype.contains=function(l){var c=Math.pow(2,l.z),u=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*c),f=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*c),g=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*c),x=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*c);return l.x>=u&&l.x<g&&l.y>=f&&l.y<x};var gt=function(l){function c(u,f,g,x){if(l.call(this),this.id=u,this.dispatcher=g,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(f,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.load=function(){var u=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ft(this._options,this.map._requestManager,function(f,g){u._tileJSONRequest=null,u._loaded=!0,f?u.fire(new s.ErrorEvent(f)):g&&(s.extend(u,g),g.bounds&&(u.tileBounds=new st(g.bounds,u.minzoom,u.maxzoom)),s.postTurnstileEvent(g.tiles,u.map._requestManager._customAccessToken),s.postMapLoadEvent(g.tiles,u.map._getMapId(),u.map._requestManager._skuToken,u.map._requestManager._customAccessToken),u.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),u.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},c.prototype.loaded=function(){return this._loaded},c.prototype.hasTile=function(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)},c.prototype.onAdd=function(u){this.map=u,this.load()},c.prototype.setSourceProperty=function(u){this._tileJSONRequest&&this._tileJSONRequest.cancel(),u(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},c.prototype.setTiles=function(u){var f=this;return this.setSourceProperty(function(){f._options.tiles=u}),this},c.prototype.setUrl=function(u){var f=this;return this.setSourceProperty(function(){f.url=u,f._options.url=u}),this},c.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},c.prototype.serialize=function(){return s.extend({},this._options)},c.prototype.loadTile=function(u,f){var g=this.map._requestManager.normalizeTileURL(u.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(g,s.ResourceType.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function w(S,I){return delete u.request,u.aborted?f(null):S&&S.status!==404?f(S):(I&&I.resourceTiming&&(u.resourceTiming=I.resourceTiming),this.map._refreshExpiredTiles&&I&&u.setExpiryData(I),u.loadVectorData(I,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),f(null),void(u.reloadCallback&&(this.loadTile(u,u.reloadCallback),u.reloadCallback=null)))}x.request.collectResourceTiming=this._collectResourceTiming,u.actor&&u.state!=="expired"?u.state==="loading"?u.reloadCallback=f:u.request=u.actor.send("reloadTile",x,w.bind(this)):(u.actor=this.dispatcher.getActor(),u.request=u.actor.send("loadTile",x,w.bind(this)))},c.prototype.abortTile=function(u){u.request&&(u.request.cancel(),delete u.request),u.actor&&u.actor.send("abortTile",{uid:u.uid,type:this.type,source:this.id},void 0)},c.prototype.unloadTile=function(u){u.unloadVectorData(),u.actor&&u.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id},void 0)},c.prototype.hasTransition=function(){return!1},c}(s.Evented),Ft=function(l){function c(u,f,g,x){l.call(this),this.id=u,this.dispatcher=g,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},f),s.extend(this,s.pick(f,["url","scheme","tileSize"]))}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.load=function(){var u=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ft(this._options,this.map._requestManager,function(f,g){u._tileJSONRequest=null,u._loaded=!0,f?u.fire(new s.ErrorEvent(f)):g&&(s.extend(u,g),g.bounds&&(u.tileBounds=new st(g.bounds,u.minzoom,u.maxzoom)),s.postTurnstileEvent(g.tiles),s.postMapLoadEvent(g.tiles,u.map._getMapId(),u.map._requestManager._skuToken),u.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),u.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},c.prototype.loaded=function(){return this._loaded},c.prototype.onAdd=function(u){this.map=u,this.load()},c.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},c.prototype.serialize=function(){return s.extend({},this._options)},c.prototype.hasTile=function(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)},c.prototype.loadTile=function(u,f){var g=this,x=this.map._requestManager.normalizeTileURL(u.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);u.request=s.getImage(this.map._requestManager.transformRequest(x,s.ResourceType.Tile),function(w,S){if(delete u.request,u.aborted)u.state="unloaded",f(null);else if(w)u.state="errored",f(w);else if(S){g.map._refreshExpiredTiles&&u.setExpiryData(S),delete S.cacheControl,delete S.expires;var I=g.map.painter.context,L=I.gl;u.texture=g.map.painter.getTileTexture(S.width),u.texture?u.texture.update(S,{useMipmap:!0}):(u.texture=new s.Texture(I,S,L.RGBA,{useMipmap:!0}),u.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),I.extTextureFilterAnisotropic&&L.texParameterf(L.TEXTURE_2D,I.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,I.extTextureFilterAnisotropicMax)),u.state="loaded",s.cacheEntryPossiblyAdded(g.dispatcher),f(null)}})},c.prototype.abortTile=function(u,f){u.request&&(u.request.cancel(),delete u.request),f()},c.prototype.unloadTile=function(u,f){u.texture&&this.map.painter.saveTileTexture(u.texture),f()},c.prototype.hasTransition=function(){return!1},c}(s.Evented),Gt=function(l){function c(u,f,g,x){l.call(this,u,f,g,x),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox"}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},c.prototype.loadTile=function(u,f){var g=this.map._requestManager.normalizeTileURL(u.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function x(w,S){w&&(u.state="errored",f(w)),S&&(u.dem=S,u.needsHillshadePrepare=!0,u.state="loaded",f(null))}u.request=s.getImage(this.map._requestManager.transformRequest(g,s.ResourceType.Tile),function(w,S){if(delete u.request,u.aborted)u.state="unloaded",f(null);else if(w)u.state="errored",f(w);else if(S){this.map._refreshExpiredTiles&&u.setExpiryData(S),delete S.cacheControl,delete S.expires;var I=s.window.ImageBitmap&&S instanceof s.window.ImageBitmap&&s.offscreenCanvasSupported()?S:s.browser.getImageData(S,1),L={uid:u.uid,coord:u.tileID,source:this.id,rawImageData:I,encoding:this.encoding};u.actor&&u.state!=="expired"||(u.actor=this.dispatcher.getActor(),u.actor.send("loadDEMTile",L,x.bind(this)))}}.bind(this)),u.neighboringTiles=this._getNeighboringTiles(u.tileID)},c.prototype._getNeighboringTiles=function(u){var f=u.canonical,g=Math.pow(2,f.z),x=(f.x-1+g)%g,w=f.x===0?u.wrap-1:u.wrap,S=(f.x+1+g)%g,I=f.x+1===g?u.wrap+1:u.wrap,L={};return L[new s.OverscaledTileID(u.overscaledZ,w,f.z,x,f.y).key]={backfilled:!1},L[new s.OverscaledTileID(u.overscaledZ,I,f.z,S,f.y).key]={backfilled:!1},f.y>0&&(L[new s.OverscaledTileID(u.overscaledZ,w,f.z,x,f.y-1).key]={backfilled:!1},L[new s.OverscaledTileID(u.overscaledZ,u.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},L[new s.OverscaledTileID(u.overscaledZ,I,f.z,S,f.y-1).key]={backfilled:!1}),f.y+1<g&&(L[new s.OverscaledTileID(u.overscaledZ,w,f.z,x,f.y+1).key]={backfilled:!1},L[new s.OverscaledTileID(u.overscaledZ,u.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},L[new s.OverscaledTileID(u.overscaledZ,I,f.z,S,f.y+1).key]={backfilled:!1}),L},c.prototype.unloadTile=function(u){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&u.actor.send("removeDEMTile",{uid:u.uid,source:this.id})},c}(Ft),vn=function(l){function c(u,f,g,x){l.call(this),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=g.getActor(),this.setEventedParent(x),this._data=f.data,this._options=s.extend({},f),this._collectResourceTiming=f.collectResourceTiming,this._resourceTiming=[],f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;var w=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(f.buffer!==void 0?f.buffer:128)*w,tolerance:(f.tolerance!==void 0?f.tolerance:.375)*w,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:f.clusterMaxZoom!==void 0?Math.min(f.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:s.EXTENT,radius:(f.clusterRadius||50)*w,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.load=function(){var u=this;this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(f){if(f)u.fire(new s.ErrorEvent(f));else{var g={dataType:"source",sourceDataType:"metadata"};u._collectResourceTiming&&u._resourceTiming&&u._resourceTiming.length>0&&(g.resourceTiming=u._resourceTiming,u._resourceTiming=[]),u.fire(new s.Event("data",g))}})},c.prototype.onAdd=function(u){this.map=u,this.load()},c.prototype.setData=function(u){var f=this;return this._data=u,this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(g){if(g)f.fire(new s.ErrorEvent(g));else{var x={dataType:"source",sourceDataType:"content"};f._collectResourceTiming&&f._resourceTiming&&f._resourceTiming.length>0&&(x.resourceTiming=f._resourceTiming,f._resourceTiming=[]),f.fire(new s.Event("data",x))}}),this},c.prototype.getClusterExpansionZoom=function(u,f){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:u,source:this.id},f),this},c.prototype.getClusterChildren=function(u,f){return this.actor.send("geojson.getClusterChildren",{clusterId:u,source:this.id},f),this},c.prototype.getClusterLeaves=function(u,f,g,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:u,limit:f,offset:g},x),this},c.prototype._updateWorkerData=function(u){var f=this;this._loaded=!1;var g=s.extend({},this.workerOptions),x=this._data;typeof x=="string"?(g.request=this.map._requestManager.transformRequest(s.browser.resolveURL(x),s.ResourceType.Source),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(x),this.actor.send(this.type+".loadData",g,function(w,S){f._removed||S&&S.abandoned||(f._loaded=!0,S&&S.resourceTiming&&S.resourceTiming[f.id]&&(f._resourceTiming=S.resourceTiming[f.id].slice(0)),f.actor.send(f.type+".coalesce",{source:g.source},null),u(w))})},c.prototype.loaded=function(){return this._loaded},c.prototype.loadTile=function(u,f){var g=this,x=u.actor?"reloadTile":"loadTile";u.actor=this.actor,u.request=this.actor.send(x,{type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(w,S){return delete u.request,u.unloadVectorData(),u.aborted?f(null):w?f(w):(u.loadVectorData(S,g.map.painter,x==="reloadTile"),f(null))})},c.prototype.abortTile=function(u){u.request&&(u.request.cancel(),delete u.request),u.aborted=!0},c.prototype.unloadTile=function(u){u.unloadVectorData(),this.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id})},c.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},c.prototype.serialize=function(){return s.extend({},this._options,{type:this.type,data:this._data})},c.prototype.hasTransition=function(){return!1},c}(s.Evented),$e=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),rt=function(l){function c(u,f,g,x){l.call(this),this.id=u,this.dispatcher=g,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=f}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.load=function(u,f){var g=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),function(x,w){g._loaded=!0,x?g.fire(new s.ErrorEvent(x)):w&&(g.image=w,u&&(g.coordinates=u),f&&f(),g._finishLoading())})},c.prototype.loaded=function(){return this._loaded},c.prototype.updateImage=function(u){var f=this;return this.image&&u.url?(this.options.url=u.url,this.load(u.coordinates,function(){f.texture=null}),this):this},c.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))},c.prototype.onAdd=function(u){this.map=u,this.load()},c.prototype.setCoordinates=function(u){var f=this;this.coordinates=u;var g=u.map(s.MercatorCoordinate.fromLngLat);this.tileID=function(w){for(var S=1/0,I=1/0,L=-1/0,j=-1/0,W=0,G=w;W<G.length;W+=1){var ae=G[W];S=Math.min(S,ae.x),I=Math.min(I,ae.y),L=Math.max(L,ae.x),j=Math.max(j,ae.y)}var ie=Math.max(L-S,j-I),pe=Math.max(0,Math.floor(-Math.log(ie)/Math.LN2)),te=Math.pow(2,pe);return new s.CanonicalTileID(pe,Math.floor((S+L)/2*te),Math.floor((I+j)/2*te))}(g),this.minzoom=this.maxzoom=this.tileID.z;var x=g.map(function(w){return f.tileID.getTilePoint(w)._round()});return this._boundsArray=new s.StructArrayLayout4i8,this._boundsArray.emplaceBack(x[0].x,x[0].y,0,0),this._boundsArray.emplaceBack(x[1].x,x[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(x[3].x,x[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(x[2].x,x[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this},c.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var u=this.map.painter.context,f=u.gl;for(var g in this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,$e.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new s.Texture(u,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this.tiles){var x=this.tiles[g];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}},c.prototype.loadTile=function(u,f){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={},f(null)):(u.state="errored",f(null))},c.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},c.prototype.hasTransition=function(){return!1},c}(s.Evented),It=function(l){function c(u,f,g,x){l.call(this,u,f,g,x),this.roundZoom=!0,this.type="video",this.options=f}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.load=function(){var u=this;this._loaded=!1;var f=this.options;this.urls=[];for(var g=0,x=f.urls;g<x.length;g+=1)this.urls.push(this.map._requestManager.transformRequest(x[g],s.ResourceType.Source).url);s.getVideo(this.urls,function(w,S){u._loaded=!0,w?u.fire(new s.ErrorEvent(w)):S&&(u.video=S,u.video.loop=!0,u.video.addEventListener("playing",function(){u.map.triggerRepaint()}),u.map&&u.video.play(),u._finishLoading())})},c.prototype.pause=function(){this.video&&this.video.pause()},c.prototype.play=function(){this.video&&this.video.play()},c.prototype.seek=function(u){if(this.video){var f=this.video.seekable;u<f.start(0)||u>f.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+f.start(0)+" and "+f.end(0)+"-second mark."))):this.video.currentTime=u}},c.prototype.getVideo=function(){return this.video},c.prototype.onAdd=function(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},c.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var u=this.map.painter.context,f=u.gl;for(var g in this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,$e.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(u,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this.tiles){var x=this.tiles[g];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}},c.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},c.prototype.hasTransition=function(){return this.video&&!this.video.paused},c}(rt),$t=function(l){function c(u,f,g,x){l.call(this,u,f,g,x),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(function(w){return!Array.isArray(w)||w.length!==2||w.some(function(S){return typeof S!="number"})})||this.fire(new s.ErrorEvent(new s.ValidationError("sources."+u,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+u,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+u,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError("sources."+u,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+u,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},c.prototype.getCanvas=function(){return this.canvas},c.prototype.onAdd=function(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()},c.prototype.onRemove=function(){this.pause()},c.prototype.prepare=function(){var u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var f=this.map.painter.context,g=f.gl;for(var x in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,$e.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(f,this.canvas,g.RGBA,{premultiply:!0}),this.tiles){var w=this.tiles[x];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture)}}},c.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},c.prototype.hasTransition=function(){return this._playing},c.prototype._hasInvalidDimensions=function(){for(var u=0,f=[this.canvas.width,this.canvas.height];u<f.length;u+=1){var g=f[u];if(isNaN(g)||g<=0)return!0}return!1},c}(rt),cn={vector:gt,raster:Ft,"raster-dem":Gt,geojson:vn,video:It,image:rt,canvas:$t};function sr(l,c){var u=s.identity([]);return s.translate(u,u,[1,1,0]),s.scale(u,u,[.5*l.width,.5*l.height,1]),s.multiply(u,u,l.calculatePosMatrix(c.toUnwrapped()))}function jt(l,c,u,f,g,x){var w=function(pe,te,ce){if(pe)for(var ge=0,we=pe;ge<we.length;ge+=1){var Ae=te[we[ge]];if(Ae&&Ae.source===ce&&Ae.type==="fill-extrusion")return!0}else for(var ke in te){var Re=te[ke];if(Re.source===ce&&Re.type==="fill-extrusion")return!0}return!1}(g&&g.layers,c,l.id),S=x.maxPitchScaleFactor(),I=l.tilesIn(f,S,w);I.sort(Yt);for(var L=[],j=0,W=I;j<W.length;j+=1){var G=W[j];L.push({wrappedTileID:G.tileID.wrapped().key,queryResults:G.tile.queryRenderedFeatures(c,u,l._state,G.queryGeometry,G.cameraQueryGeometry,G.scale,g,x,S,sr(l.transform,G.tileID))})}var ae=function(pe){for(var te={},ce={},ge=0,we=pe;ge<we.length;ge+=1){var Ae=we[ge],ke=Ae.queryResults,Re=Ae.wrappedTileID,Be=ce[Re]=ce[Re]||{};for(var Ge in ke)for(var Ze=ke[Ge],lt=Be[Ge]=Be[Ge]||{},Ct=te[Ge]=te[Ge]||[],At=0,Mt=Ze;At<Mt.length;At+=1){var yn=Mt[At];lt[yn.featureIndex]||(lt[yn.featureIndex]=!0,Ct.push(yn))}}return te}(L);for(var ie in ae)ae[ie].forEach(function(pe){var te=pe.feature,ce=l.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=ce});return ae}function Yt(l,c){var u=l.tileID,f=c.tileID;return u.overscaledZ-f.overscaledZ||u.canonical.y-f.canonical.y||u.wrap-f.wrap||u.canonical.x-f.canonical.x}var St=function(l,c){this.max=l,this.onRemove=c,this.reset()};St.prototype.reset=function(){for(var l in this.data)for(var c=0,u=this.data[l];c<u.length;c+=1){var f=u[c];f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value)}return this.data={},this.order=[],this},St.prototype.add=function(l,c,u){var f=this,g=l.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);var x={value:c,timeout:void 0};if(u!==void 0&&(x.timeout=setTimeout(function(){f.remove(l,x)},u)),this.data[g].push(x),this.order.push(g),this.order.length>this.max){var w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this},St.prototype.has=function(l){return l.wrapped().key in this.data},St.prototype.getAndRemove=function(l){return this.has(l)?this._getAndRemoveByKey(l.wrapped().key):null},St.prototype._getAndRemoveByKey=function(l){var c=this.data[l].shift();return c.timeout&&clearTimeout(c.timeout),this.data[l].length===0&&delete this.data[l],this.order.splice(this.order.indexOf(l),1),c.value},St.prototype.getByKey=function(l){var c=this.data[l];return c?c[0].value:null},St.prototype.get=function(l){return this.has(l)?this.data[l.wrapped().key][0].value:null},St.prototype.remove=function(l,c){if(!this.has(l))return this;var u=l.wrapped().key,f=c===void 0?0:this.data[u].indexOf(c),g=this.data[u][f];return this.data[u].splice(f,1),g.timeout&&clearTimeout(g.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(g.value),this.order.splice(this.order.indexOf(u),1),this},St.prototype.setMaxSize=function(l){for(this.max=l;this.order.length>this.max;){var c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this},St.prototype.filter=function(l){var c=[];for(var u in this.data)for(var f=0,g=this.data[u];f<g.length;f+=1){var x=g[f];l(x.value)||c.push(x)}for(var w=0,S=c;w<S.length;w+=1){var I=S[w];this.remove(I.value.tileID,I)}};var Ht=function(l,c,u){this.context=l;var f=l.gl;this.buffer=f.createBuffer(),this.dynamicDraw=Boolean(u),this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer};Ht.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ht.prototype.updateData=function(l){var c=this.context.gl;this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)},Ht.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var zn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Gn=function(l,c,u,f){this.length=c.length,this.attributes=u,this.itemSize=c.bytesPerElement,this.dynamicDraw=f,this.context=l;var g=l.gl;this.buffer=g.createBuffer(),l.bindVertexBuffer.set(this.buffer),g.bufferData(g.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer};Gn.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Gn.prototype.updateData=function(l){var c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,l.arrayBuffer)},Gn.prototype.enableAttributes=function(l,c){for(var u=0;u<this.attributes.length;u++){var f=c.attributes[this.attributes[u].name];f!==void 0&&l.enableVertexAttribArray(f)}},Gn.prototype.setVertexAttribPointers=function(l,c,u){for(var f=0;f<this.attributes.length;f++){var g=this.attributes[f],x=c.attributes[g.name];x!==void 0&&l.vertexAttribPointer(x,g.components,l[zn[g.type]],!1,this.itemSize,g.offset+this.itemSize*(u||0))}},Gn.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Nt=function(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Nt.prototype.get=function(){return this.current},Nt.prototype.set=function(l){},Nt.prototype.getDefault=function(){return this.default},Nt.prototype.setDefault=function(){this.set(this.default)};var Bn=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return s.Color.transparent},c.prototype.set=function(u){var f=this.current;(u.r!==f.r||u.g!==f.g||u.b!==f.b||u.a!==f.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)},c}(Nt),Tn=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return 1},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)},c}(Nt),Cn=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return 0},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)},c}(Nt),bn=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return[!0,!0,!0,!0]},c.prototype.set=function(u){var f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)},c}(Nt),Or=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return!0},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)},c}(Nt),Tr=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return 255},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)},c}(Nt),_n=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},c.prototype.set=function(u){var f=this.current;(u.func!==f.func||u.ref!==f.ref||u.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)},c}(Nt),tr=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){var u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]},c.prototype.set=function(u){var f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)},c}(Nt),si=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;u?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=u,this.dirty=!1}},c}(Nt),yr=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return[0,1]},c.prototype.set=function(u){var f=this.current;(u[0]!==f[0]||u[1]!==f[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)},c}(Nt),Cr=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;u?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=u,this.dirty=!1}},c}(Nt),$r=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.LESS},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)},c}(Nt),gr=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;u?f.enable(f.BLEND):f.disable(f.BLEND),this.current=u,this.dirty=!1}},c}(Nt),dt=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){var u=this.gl;return[u.ONE,u.ZERO]},c.prototype.set=function(u){var f=this.current;(u[0]!==f[0]||u[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)},c}(Nt),xt=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return s.Color.transparent},c.prototype.set=function(u){var f=this.current;(u.r!==f.r||u.g!==f.g||u.b!==f.b||u.a!==f.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)},c}(Nt),In=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.FUNC_ADD},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)},c}(Nt),Qr=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;u?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=u,this.dirty=!1}},c}(Nt),di=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.BACK},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)},c}(Nt),ia=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.CCW},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)},c}(Nt),Ea=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)},c}(Nt),os=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.TEXTURE0},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)},c}(Nt),oa=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){var u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]},c.prototype.set=function(u){var f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)},c}(Nt),as=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,u),this.current=u,this.dirty=!1}},c}(Nt),ss=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,u),this.current=u,this.dirty=!1}},c}(Nt),aa=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;f.bindTexture(f.TEXTURE_2D,u),this.current=u,this.dirty=!1}},c}(Nt),$s=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}},c}(Nt),sa=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){var f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1},c}(Nt),co=function(l){function c(u){l.call(this,u),this.vao=u.extVertexArrayObject}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){this.vao&&(u!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(u),this.current=u,this.dirty=!1)},c}(Nt),po=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return 4},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}},c}(Nt),Vo=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}},c}(Nt),ls=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}},c}(Nt),rr=function(l){function c(u,f){l.call(this,u),this.context=u,this.parent=f}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c}(Nt),z=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.setDirty=function(){this.dirty=!0},c.prototype.set=function(u){if(u!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}},c}(rr),D=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.set=function(u){if(u!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,u),this.current=u,this.dirty=!1}},c}(rr),N=function(l,c,u,f){this.context=l,this.width=c,this.height=u;var g=this.framebuffer=l.gl.createFramebuffer();this.colorAttachment=new z(l,g),f&&(this.depthAttachment=new D(l,g))};N.prototype.destroy=function(){var l=this.context.gl,c=this.colorAttachment.get();if(c&&l.deleteTexture(c),this.depthAttachment){var u=this.depthAttachment.get();u&&l.deleteRenderbuffer(u)}l.deleteFramebuffer(this.framebuffer)};var X=function(l,c,u){this.func=l,this.mask=c,this.range=u};X.ReadOnly=!1,X.ReadWrite=!0,X.disabled=new X(519,X.ReadOnly,[0,1]);var oe=function(l,c,u,f,g,x){this.test=l,this.ref=c,this.mask=u,this.fail=f,this.depthFail=g,this.pass=x};oe.disabled=new oe({func:519,mask:0},0,0,7680,7680,7680);var de=function(l,c,u){this.blendFunction=l,this.blendColor=c,this.mask=u};de.disabled=new de(de.Replace=[1,0],s.Color.transparent,[!1,!1,!1,!1]),de.unblended=new de(de.Replace,s.Color.transparent,[!0,!0,!0,!0]),de.alphaBlended=new de([1,771],s.Color.transparent,[!0,!0,!0,!0]);var ve=function(l,c,u){this.enable=l,this.mode=c,this.frontFace=u};ve.disabled=new ve(!1,1029,2305),ve.backCCW=new ve(!0,1029,2305);var Z=function(l){this.gl=l,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Bn(this),this.clearDepth=new Tn(this),this.clearStencil=new Cn(this),this.colorMask=new bn(this),this.depthMask=new Or(this),this.stencilMask=new Tr(this),this.stencilFunc=new _n(this),this.stencilOp=new tr(this),this.stencilTest=new si(this),this.depthRange=new yr(this),this.depthTest=new Cr(this),this.depthFunc=new $r(this),this.blend=new gr(this),this.blendFunc=new dt(this),this.blendColor=new xt(this),this.blendEquation=new In(this),this.cullFace=new Qr(this),this.cullFaceSide=new di(this),this.frontFace=new ia(this),this.program=new Ea(this),this.activeTexture=new os(this),this.viewport=new oa(this),this.bindFramebuffer=new as(this),this.bindRenderbuffer=new ss(this),this.bindTexture=new aa(this),this.bindVertexBuffer=new $s(this),this.bindElementBuffer=new sa(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new co(this),this.pixelStoreUnpack=new po(this),this.pixelStoreUnpackPremultiplyAlpha=new Vo(this),this.pixelStoreUnpackFlipY=new ls(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=l.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(l.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)};Z.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Z.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Z.prototype.createIndexBuffer=function(l,c){return new Ht(this,l,c)},Z.prototype.createVertexBuffer=function(l,c,u){return new Gn(this,l,c,u)},Z.prototype.createRenderbuffer=function(l,c,u){var f=this.gl,g=f.createRenderbuffer();return this.bindRenderbuffer.set(g),f.renderbufferStorage(f.RENDERBUFFER,l,c,u),this.bindRenderbuffer.set(null),g},Z.prototype.createFramebuffer=function(l,c,u){return new N(this,l,c,u)},Z.prototype.clear=function(l){var c=l.color,u=l.depth,f=this.gl,g=0;c&&(g|=f.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(g|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),f.clear(g)},Z.prototype.setCullFace=function(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))},Z.prototype.setDepthMode=function(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)},Z.prototype.setStencilMode=function(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)},Z.prototype.setColorMode=function(l){s.deepEqual(l.blendFunction,de.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)},Z.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var se=function(l){function c(u,f,g){var x=this;l.call(this),this.id=u,this.dispatcher=g,this.on("data",function(w){w.dataType==="source"&&w.sourceDataType==="metadata"&&(x._sourceLoaded=!0),x._sourceLoaded&&!x._paused&&w.dataType==="source"&&w.sourceDataType==="content"&&(x.reload(),x.transform&&x.update(x.transform))}),this.on("error",function(){x._sourceErrored=!0}),this._source=function(w,S,I,L){var j=new cn[S.type](w,S,I,L);if(j.id!==w)throw new Error("Expected Source id to be "+w+" instead of "+j.id);return s.bindAll(["load","abort","unload","serialize","prepare"],j),j}(u,f,g,this),this._tiles={},this._cache=new St(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new s.SourceFeatureState}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.onAdd=function(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(u)},c.prototype.onRemove=function(u){this._source&&this._source.onRemove&&this._source.onRemove(u)},c.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var u in this._tiles){var f=this._tiles[u];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0},c.prototype.getSource=function(){return this._source},c.prototype.pause=function(){this._paused=!0},c.prototype.resume=function(){if(this._paused){var u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform)}},c.prototype._loadTile=function(u,f){return this._source.loadTile(u,f)},c.prototype._unloadTile=function(u){if(this._source.unloadTile)return this._source.unloadTile(u,function(){})},c.prototype._abortTile=function(u){if(this._source.abortTile)return this._source.abortTile(u,function(){})},c.prototype.serialize=function(){return this._source.serialize()},c.prototype.prepare=function(u){for(var f in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var g=this._tiles[f];g.upload(u),g.prepare(this.map.style.imageManager)}},c.prototype.getIds=function(){return s.values(this._tiles).map(function(u){return u.tileID}).sort(be).map(function(u){return u.key})},c.prototype.getRenderableIds=function(u){var f=this,g=[];for(var x in this._tiles)this._isIdRenderable(x,u)&&g.push(this._tiles[x]);return u?g.sort(function(w,S){var I=w.tileID,L=S.tileID,j=new s.Point(I.canonical.x,I.canonical.y)._rotate(f.transform.angle),W=new s.Point(L.canonical.x,L.canonical.y)._rotate(f.transform.angle);return I.overscaledZ-L.overscaledZ||W.y-j.y||W.x-j.x}).map(function(w){return w.tileID.key}):g.map(function(w){return w.tileID}).sort(be).map(function(w){return w.key})},c.prototype.hasRenderableParent=function(u){var f=this.findLoadedParent(u,0);return!!f&&this._isIdRenderable(f.tileID.key)},c.prototype._isIdRenderable=function(u,f){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(f||!this._tiles[u].holdingForFade())},c.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var u in this._cache.reset(),this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")},c.prototype._reloadTile=function(u,f){var g=this._tiles[u];g&&(g.state!=="loading"&&(g.state=f),this._loadTile(g,this._tileLoaded.bind(this,g,u,f)))},c.prototype._tileLoaded=function(u,f,g,x){if(x)return u.state="errored",void(x.status!==404?this._source.fire(new s.ErrorEvent(x,{tile:u})):this.update(this.transform));u.timeAdded=s.browser.now(),g==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(f,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),this._source.fire(new s.Event("data",{dataType:"source",tile:u,coord:u.tileID}))},c.prototype._backfillDEM=function(u){for(var f=this.getRenderableIds(),g=0;g<f.length;g++){var x=f[g];if(u.neighboringTiles&&u.neighboringTiles[x]){var w=this.getTileByID(x);S(u,w),S(w,u)}}function S(I,L){I.needsHillshadePrepare=!0;var j=L.tileID.canonical.x-I.tileID.canonical.x,W=L.tileID.canonical.y-I.tileID.canonical.y,G=Math.pow(2,I.tileID.canonical.z),ae=L.tileID.key;j===0&&W===0||Math.abs(W)>1||(Math.abs(j)>1&&(Math.abs(j+G)===1?j+=G:Math.abs(j-G)===1&&(j-=G)),L.dem&&I.dem&&(I.dem.backfillBorder(L.dem,j,W),I.neighboringTiles&&I.neighboringTiles[ae]&&(I.neighboringTiles[ae].backfilled=!0)))}},c.prototype.getTile=function(u){return this.getTileByID(u.key)},c.prototype.getTileByID=function(u){return this._tiles[u]},c.prototype._retainLoadedChildren=function(u,f,g,x){for(var w in this._tiles){var S=this._tiles[w];if(!(x[w]||!S.hasData()||S.tileID.overscaledZ<=f||S.tileID.overscaledZ>g)){for(var I=S.tileID;S&&S.tileID.overscaledZ>f+1;){var L=S.tileID.scaledTo(S.tileID.overscaledZ-1);(S=this._tiles[L.key])&&S.hasData()&&(I=L)}for(var j=I;j.overscaledZ>f;)if(u[(j=j.scaledTo(j.overscaledZ-1)).key]){x[I.key]=I;break}}}},c.prototype.findLoadedParent=function(u,f){if(u.key in this._loadedParentTiles){var g=this._loadedParentTiles[u.key];return g&&g.tileID.overscaledZ>=f?g:null}for(var x=u.overscaledZ-1;x>=f;x--){var w=u.scaledTo(x),S=this._getLoadedTile(w);if(S)return S}},c.prototype._getLoadedTile=function(u){var f=this._tiles[u.key];return f&&f.hasData()?f:this._cache.getByKey(u.wrapped().key)},c.prototype.updateCacheSize=function(u){var f=Math.ceil(u.width/this._source.tileSize)+1,g=Math.ceil(u.height/this._source.tileSize)+1,x=Math.floor(f*g*5),w=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,x):x;this._cache.setMaxSize(w)},c.prototype.handleWrapJump=function(u){var f=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,f){var g={};for(var x in this._tiles){var w=this._tiles[x];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+f),g[w.tileID.key]=w}for(var S in this._tiles=g,this._timers)clearTimeout(this._timers[S]),delete this._timers[S];for(var I in this._tiles)this._setTileReloadTimer(I,this._tiles[I])}},c.prototype.update=function(u){var f=this;if(this.transform=u,this._sourceLoaded&&!this._paused){var g;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?g=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Be){return new s.OverscaledTileID(Be.canonical.z,Be.wrap,Be.canonical.z,Be.canonical.x,Be.canonical.y)}):(g=u.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(g=g.filter(function(Be){return f._source.hasTile(Be)}))):g=[];var x=u.coveringZoomLevel(this._source),w=Math.max(x-c.maxOverzooming,this._source.minzoom),S=Math.max(x+c.maxUnderzooming,this._source.minzoom),I=this._updateRetainedTiles(g,x);if(Ue(this._source.type)){for(var L={},j={},W=0,G=Object.keys(I);W<G.length;W+=1){var ae=G[W],ie=I[ae],pe=this._tiles[ae];if(pe&&!(pe.fadeEndTime&&pe.fadeEndTime<=s.browser.now())){var te=this.findLoadedParent(ie,w);te&&(this._addTile(te.tileID),L[te.tileID.key]=te.tileID),j[ae]=ie}}for(var ce in this._retainLoadedChildren(j,x,S,I),L)I[ce]||(this._coveredTiles[ce]=!0,I[ce]=L[ce])}for(var ge in I)this._tiles[ge].clearFadeHold();for(var we=0,Ae=s.keysDifference(this._tiles,I);we<Ae.length;we+=1){var ke=Ae[we],Re=this._tiles[ke];Re.hasSymbolBuckets&&!Re.holdingForFade()?Re.setHoldDuration(this.map._fadeDuration):Re.hasSymbolBuckets&&!Re.symbolFadeFinished()||this._removeTile(ke)}this._updateLoadedParentTileCache()}},c.prototype.releaseSymbolFadeTiles=function(){for(var u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)},c.prototype._updateRetainedTiles=function(u,f){for(var g={},x={},w=Math.max(f-c.maxOverzooming,this._source.minzoom),S=Math.max(f+c.maxUnderzooming,this._source.minzoom),I={},L=0,j=u;L<j.length;L+=1){var W=j[L],G=this._addTile(W);g[W.key]=W,G.hasData()||f<this._source.maxzoom&&(I[W.key]=W)}this._retainLoadedChildren(I,f,S,g);for(var ae=0,ie=u;ae<ie.length;ae+=1){var pe=ie[ae],te=this._tiles[pe.key];if(!te.hasData()){if(f+1>this._source.maxzoom){var ce=pe.children(this._source.maxzoom)[0],ge=this.getTile(ce);if(ge&&ge.hasData()){g[ce.key]=ce;continue}}else{var we=pe.children(this._source.maxzoom);if(g[we[0].key]&&g[we[1].key]&&g[we[2].key]&&g[we[3].key])continue}for(var Ae=te.wasRequested(),ke=pe.overscaledZ-1;ke>=w;--ke){var Re=pe.scaledTo(ke);if(x[Re.key]||(x[Re.key]=!0,!(te=this.getTile(Re))&&Ae&&(te=this._addTile(Re)),te&&(g[Re.key]=Re,Ae=te.wasRequested(),te.hasData())))break}}}return g},c.prototype._updateLoadedParentTileCache=function(){for(var u in this._loadedParentTiles={},this._tiles){for(var f=[],g=void 0,x=this._tiles[u].tileID;x.overscaledZ>0;){if(x.key in this._loadedParentTiles){g=this._loadedParentTiles[x.key];break}f.push(x.key);var w=x.scaledTo(x.overscaledZ-1);if(g=this._getLoadedTile(w))break;x=w}for(var S=0,I=f;S<I.length;S+=1)this._loadedParentTiles[I[S]]=g}},c.prototype._addTile=function(u){var f=this._tiles[u.key];if(f)return f;(f=this._cache.getAndRemove(u))&&(this._setTileReloadTimer(u.key,f),f.tileID=u,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,f)));var g=Boolean(f);return g||(f=new s.Tile(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(f,this._tileLoaded.bind(this,f,u.key,f.state))),f?(f.uses++,this._tiles[u.key]=f,g||this._source.fire(new s.Event("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f):null},c.prototype._setTileReloadTimer=function(u,f){var g=this;u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);var x=f.getExpiryTimeout();x&&(this._timers[u]=setTimeout(function(){g._reloadTile(u,"expired"),delete g._timers[u]},x))},c.prototype._removeTile=function(u){var f=this._tiles[u];f&&(f.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))},c.prototype.clearTiles=function(){for(var u in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(u);this._cache.reset()},c.prototype.tilesIn=function(u,f,g){var x=this,w=[],S=this.transform;if(!S)return w;for(var I=g?S.getCameraQueryGeometry(u):u,L=u.map(function(ke){return S.pointCoordinate(ke)}),j=I.map(function(ke){return S.pointCoordinate(ke)}),W=this.getIds(),G=1/0,ae=1/0,ie=-1/0,pe=-1/0,te=0,ce=j;te<ce.length;te+=1){var ge=ce[te];G=Math.min(G,ge.x),ae=Math.min(ae,ge.y),ie=Math.max(ie,ge.x),pe=Math.max(pe,ge.y)}for(var we=function(ke){var Re=x._tiles[W[ke]];if(!Re.holdingForFade()){var Be=Re.tileID,Ge=Math.pow(2,S.zoom-Re.tileID.overscaledZ),Ze=f*Re.queryPadding*s.EXTENT/Re.tileSize/Ge,lt=[Be.getTilePoint(new s.MercatorCoordinate(G,ae)),Be.getTilePoint(new s.MercatorCoordinate(ie,pe))];if(lt[0].x-Ze<s.EXTENT&&lt[0].y-Ze<s.EXTENT&&lt[1].x+Ze>=0&&lt[1].y+Ze>=0){var Ct=L.map(function(Mt){return Be.getTilePoint(Mt)}),At=j.map(function(Mt){return Be.getTilePoint(Mt)});w.push({tile:Re,tileID:Be,queryGeometry:Ct,cameraQueryGeometry:At,scale:Ge})}}},Ae=0;Ae<W.length;Ae++)we(Ae);return w},c.prototype.getVisibleCoordinates=function(u){for(var f=this,g=this.getRenderableIds(u).map(function(I){return f._tiles[I].tileID}),x=0,w=g;x<w.length;x+=1){var S=w[x];S.posMatrix=this.transform.calculatePosMatrix(S.toUnwrapped())}return g},c.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ue(this._source.type))for(var u in this._tiles){var f=this._tiles[u];if(f.fadeEndTime!==void 0&&f.fadeEndTime>=s.browser.now())return!0}return!1},c.prototype.setFeatureState=function(u,f,g){this._state.updateState(u=u||"_geojsonTileLayer",f,g)},c.prototype.removeFeatureState=function(u,f,g){this._state.removeFeatureState(u=u||"_geojsonTileLayer",f,g)},c.prototype.getFeatureState=function(u,f){return this._state.getState(u=u||"_geojsonTileLayer",f)},c.prototype.setDependencies=function(u,f,g){var x=this._tiles[u];x&&x.setDependencies(f,g)},c.prototype.reloadTilesForDependencies=function(u,f){for(var g in this._tiles)this._tiles[g].hasDependency(u,f)&&this._reloadTile(g,"reloading");this._cache.filter(function(x){return!x.hasDependency(u,f)})},c}(s.Evented);function be(l,c){var u=Math.abs(2*l.wrap)-+(l.wrap<0),f=Math.abs(2*c.wrap)-+(c.wrap<0);return l.overscaledZ-c.overscaledZ||f-u||c.canonical.y-l.canonical.y||c.canonical.x-l.canonical.x}function Ue(l){return l==="raster"||l==="image"||l==="video"}function je(){return new s.window.Worker(tc.workerUrl)}se.maxOverzooming=10,se.maxUnderzooming=3;var ze="mapboxgl_preloaded_worker_pool",Ve=function(){this.active={}};Ve.prototype.acquire=function(l){if(!this.workers)for(this.workers=[];this.workers.length<Ve.workerCount;)this.workers.push(new je);return this.active[l]=!0,this.workers.slice()},Ve.prototype.release=function(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(function(c){c.terminate()}),this.workers=null)},Ve.prototype.isPreloaded=function(){return!!this.active[ze]},Ve.prototype.numActive=function(){return Object.keys(this.active).length};var mt,ct=Math.floor(s.browser.hardwareConcurrency/2);function Le(){return mt||(mt=new Ve),mt}function nt(l,c){var u={};for(var f in l)f!=="ref"&&(u[f]=l[f]);return s.refProperties.forEach(function(g){g in c&&(u[g]=c[g])}),u}function Xe(l){l=l.slice();for(var c=Object.create(null),u=0;u<l.length;u++)c[l[u].id]=l[u];for(var f=0;f<l.length;f++)"ref"in l[f]&&(l[f]=nt(l[f],c[l[f].ref]));return l}Ve.workerCount=Math.max(Math.min(ct,6),1);var Ye={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function qt(l,c,u){u.push({command:Ye.addSource,args:[l,c[l]]})}function tt(l,c,u){c.push({command:Ye.removeSource,args:[l]}),u[l]=!0}function nn(l,c,u,f){tt(l,u,f),qt(l,c,u)}function kn(l,c,u){var f;for(f in l[u])if(l[u].hasOwnProperty(f)&&f!=="data"&&!s.deepEqual(l[u][f],c[u][f]))return!1;for(f in c[u])if(c[u].hasOwnProperty(f)&&f!=="data"&&!s.deepEqual(l[u][f],c[u][f]))return!1;return!0}function en(l,c,u,f,g,x){var w;for(w in c=c||{},l=l||{})l.hasOwnProperty(w)&&(s.deepEqual(l[w],c[w])||u.push({command:x,args:[f,w,c[w],g]}));for(w in c)c.hasOwnProperty(w)&&!l.hasOwnProperty(w)&&(s.deepEqual(l[w],c[w])||u.push({command:x,args:[f,w,c[w],g]}))}function pn(l){return l.id}function Wt(l,c){return l[c.id]=c,l}var vr=function(l,c){this.reset(l,c)};vr.prototype.reset=function(l,c){this.points=l||[],this._distances=[0];for(var u=1;u<this.points.length;u++)this._distances[u]=this._distances[u-1]+this.points[u].dist(this.points[u-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding},vr.prototype.lerp=function(l){if(this.points.length===1)return this.points[0];l=s.clamp(l,0,1);for(var c=1,u=this._distances[c],f=l*this.paddedLength+this.padding;u<f&&c<this._distances.length;)u=this._distances[++c];var g=c-1,x=this._distances[g],w=u-x,S=w>0?(f-x)/w:0;return this.points[g].mult(1-S).add(this.points[c].mult(S))};var ln=function(l,c,u){var f=this.boxCells=[],g=this.circleCells=[];this.xCellCount=Math.ceil(l/u),this.yCellCount=Math.ceil(c/u);for(var x=0;x<this.xCellCount*this.yCellCount;x++)f.push([]),g.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=c,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0};function Mn(l,c,u,f,g){var x=s.create();return c?(s.scale(x,x,[1/g,1/g,1]),u||s.rotateZ(x,x,f.angle)):s.multiply(x,f.labelPlaneMatrix,l),x}function xn(l,c,u,f,g){if(c){var x=s.clone(l);return s.scale(x,x,[g,g,1]),u||s.rotateZ(x,x,-f.angle),x}return f.glCoordMatrix}function Zt(l,c){var u=[l.x,l.y,0,1];ur(u,u,c);var f=u[3];return{point:new s.Point(u[0]/f,u[1]/f),signedDistanceFromCamera:f}}function tn(l,c){return .5+l/c*.5}function li(l,c){var u=l[0]/l[3],f=l[1]/l[3];return u>=-c[0]&&u<=c[0]&&f>=-c[1]&&f<=c[1]}function Sa(l,c,u,f,g,x,w,S){var I=f?l.textSizeData:l.iconSizeData,L=s.evaluateSizeForZoom(I,u.transform.zoom),j=[256/u.width*2+1,256/u.height*2+1],W=f?l.text.dynamicLayoutVertexArray:l.icon.dynamicLayoutVertexArray;W.clear();for(var G=l.lineVertexArray,ae=f?l.text.placedSymbolArray:l.icon.placedSymbolArray,ie=u.transform.width/u.transform.height,pe=!1,te=0;te<ae.length;te++){var ce=ae.get(te);if(ce.hidden||ce.writingMode===s.WritingMode.vertical&&!pe)qr(ce.numGlyphs,W);else{pe=!1;var ge=[ce.anchorX,ce.anchorY,0,1];if(s.transformMat4(ge,ge,c),li(ge,j)){var we=tn(u.transform.cameraToCenterDistance,ge[3]),Ae=s.evaluateSizeForFeature(I,L,ce),ke=w?Ae/we:Ae*we,Re=new s.Point(ce.anchorX,ce.anchorY),Be=Zt(Re,g).point,Ge={},Ze=Ta(ce,ke,!1,S,c,g,x,l.glyphOffsetArray,G,W,Be,Re,Ge,ie);pe=Ze.useVertical,(Ze.notEnoughRoom||pe||Ze.needsFlipping&&Ta(ce,ke,!0,S,c,g,x,l.glyphOffsetArray,G,W,Be,Re,Ge,ie).notEnoughRoom)&&qr(ce.numGlyphs,W)}else qr(ce.numGlyphs,W)}}f?l.text.dynamicLayoutVertexBuffer.updateData(W):l.icon.dynamicLayoutVertexBuffer.updateData(W)}function lr(l,c,u,f,g,x,w,S,I,L,j){var W=S.glyphStartIndex+S.numGlyphs,G=S.lineStartIndex,ae=S.lineStartIndex+S.lineLength,ie=c.getoffsetX(S.glyphStartIndex),pe=c.getoffsetX(W-1),te=Xn(l*ie,u,f,g,x,w,S.segment,G,ae,I,L,j);if(!te)return null;var ce=Xn(l*pe,u,f,g,x,w,S.segment,G,ae,I,L,j);return ce?{first:te,last:ce}:null}function Hn(l,c,u,f){return l===s.WritingMode.horizontal&&Math.abs(u.y-c.y)>Math.abs(u.x-c.x)*f?{useVertical:!0}:(l===s.WritingMode.vertical?c.y<u.y:c.x>u.x)?{needsFlipping:!0}:null}function Ta(l,c,u,f,g,x,w,S,I,L,j,W,G,ae){var ie,pe=c/24,te=l.lineOffsetX*pe,ce=l.lineOffsetY*pe;if(l.numGlyphs>1){var ge=l.glyphStartIndex+l.numGlyphs,we=l.lineStartIndex,Ae=l.lineStartIndex+l.lineLength,ke=lr(pe,S,te,ce,u,j,W,l,I,x,G);if(!ke)return{notEnoughRoom:!0};var Re=Zt(ke.first.point,w).point,Be=Zt(ke.last.point,w).point;if(f&&!u){var Ge=Hn(l.writingMode,Re,Be,ae);if(Ge)return Ge}ie=[ke.first];for(var Ze=l.glyphStartIndex+1;Ze<ge-1;Ze++)ie.push(Xn(pe*S.getoffsetX(Ze),te,ce,u,j,W,l.segment,we,Ae,I,x,G));ie.push(ke.last)}else{if(f&&!u){var lt=Zt(W,g).point,Ct=l.lineStartIndex+l.segment+1,At=new s.Point(I.getx(Ct),I.gety(Ct)),Mt=Zt(At,g),yn=Mt.signedDistanceFromCamera>0?Mt.point:la(W,At,lt,1,g),pt=Hn(l.writingMode,lt,yn,ae);if(pt)return pt}var Vt=Xn(pe*S.getoffsetX(l.glyphStartIndex),te,ce,u,j,W,l.segment,l.lineStartIndex,l.lineStartIndex+l.lineLength,I,x,G);if(!Vt)return{notEnoughRoom:!0};ie=[Vt]}for(var Jt=0,Ut=ie;Jt<Ut.length;Jt+=1){var Bt=Ut[Jt];s.addDynamicAttributes(L,Bt.point,Bt.angle)}return{}}function la(l,c,u,f,g){var x=Zt(l.add(l.sub(c)._unit()),g).point,w=u.sub(x);return u.add(w._mult(f/w.mag()))}function Xn(l,c,u,f,g,x,w,S,I,L,j,W){var G=f?l-c:l+c,ae=G>0?1:-1,ie=0;f&&(ae*=-1,ie=Math.PI),ae<0&&(ie+=Math.PI);for(var pe=ae>0?S+w:S+w+1,te=g,ce=g,ge=0,we=0,Ae=Math.abs(G),ke=[];ge+we<=Ae;){if((pe+=ae)<S||pe>=I)return null;if(ce=te,ke.push(te),(te=W[pe])===void 0){var Re=new s.Point(L.getx(pe),L.gety(pe)),Be=Zt(Re,j);if(Be.signedDistanceFromCamera>0)te=W[pe]=Be.point;else{var Ge=pe-ae;te=la(ge===0?x:new s.Point(L.getx(Ge),L.gety(Ge)),Re,ce,Ae-ge+1,j)}}ge+=we,we=ce.dist(te)}var Ze=(Ae-ge)/we,lt=te.sub(ce),Ct=lt.mult(Ze)._add(ce);Ct._add(lt._unit()._perp()._mult(u*ae));var At=ie+Math.atan2(te.y-ce.y,te.x-ce.x);return ke.push(Ct),{point:Ct,angle:At,path:ke}}ln.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},ln.prototype.insert=function(l,c,u,f,g){this._forEachCell(c,u,f,g,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(c),this.bboxes.push(u),this.bboxes.push(f),this.bboxes.push(g)},ln.prototype.insertCircle=function(l,c,u,f){this._forEachCell(c-f,u-f,c+f,u+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(c),this.circles.push(u),this.circles.push(f)},ln.prototype._insertBoxCell=function(l,c,u,f,g,x){this.boxCells[g].push(x)},ln.prototype._insertCircleCell=function(l,c,u,f,g,x){this.circleCells[g].push(x)},ln.prototype._query=function(l,c,u,f,g,x){if(u<0||l>this.width||f<0||c>this.height)return!g&&[];var w=[];if(l<=0&&c<=0&&this.width<=u&&this.height<=f){if(g)return!0;for(var S=0;S<this.boxKeys.length;S++)w.push({key:this.boxKeys[S],x1:this.bboxes[4*S],y1:this.bboxes[4*S+1],x2:this.bboxes[4*S+2],y2:this.bboxes[4*S+3]});for(var I=0;I<this.circleKeys.length;I++){var L=this.circles[3*I],j=this.circles[3*I+1],W=this.circles[3*I+2];w.push({key:this.circleKeys[I],x1:L-W,y1:j-W,x2:L+W,y2:j+W})}return x?w.filter(x):w}return this._forEachCell(l,c,u,f,this._queryCell,w,{hitTest:g,seenUids:{box:{},circle:{}}},x),g?w.length>0:w},ln.prototype._queryCircle=function(l,c,u,f,g){var x=l-u,w=l+u,S=c-u,I=c+u;if(w<0||x>this.width||I<0||S>this.height)return!f&&[];var L=[];return this._forEachCell(x,S,w,I,this._queryCellCircle,L,{hitTest:f,circle:{x:l,y:c,radius:u},seenUids:{box:{},circle:{}}},g),f?L.length>0:L},ln.prototype.query=function(l,c,u,f,g){return this._query(l,c,u,f,!1,g)},ln.prototype.hitTest=function(l,c,u,f,g){return this._query(l,c,u,f,!0,g)},ln.prototype.hitTestCircle=function(l,c,u,f){return this._queryCircle(l,c,u,!0,f)},ln.prototype._queryCell=function(l,c,u,f,g,x,w,S){var I=w.seenUids,L=this.boxCells[g];if(L!==null)for(var j=this.bboxes,W=0,G=L;W<G.length;W+=1){var ae=G[W];if(!I.box[ae]){I.box[ae]=!0;var ie=4*ae;if(l<=j[ie+2]&&c<=j[ie+3]&&u>=j[ie+0]&&f>=j[ie+1]&&(!S||S(this.boxKeys[ae]))){if(w.hitTest)return x.push(!0),!0;x.push({key:this.boxKeys[ae],x1:j[ie],y1:j[ie+1],x2:j[ie+2],y2:j[ie+3]})}}}var pe=this.circleCells[g];if(pe!==null)for(var te=this.circles,ce=0,ge=pe;ce<ge.length;ce+=1){var we=ge[ce];if(!I.circle[we]){I.circle[we]=!0;var Ae=3*we;if(this._circleAndRectCollide(te[Ae],te[Ae+1],te[Ae+2],l,c,u,f)&&(!S||S(this.circleKeys[we]))){if(w.hitTest)return x.push(!0),!0;var ke=te[Ae],Re=te[Ae+1],Be=te[Ae+2];x.push({key:this.circleKeys[we],x1:ke-Be,y1:Re-Be,x2:ke+Be,y2:Re+Be})}}}},ln.prototype._queryCellCircle=function(l,c,u,f,g,x,w,S){var I=w.circle,L=w.seenUids,j=this.boxCells[g];if(j!==null)for(var W=this.bboxes,G=0,ae=j;G<ae.length;G+=1){var ie=ae[G];if(!L.box[ie]){L.box[ie]=!0;var pe=4*ie;if(this._circleAndRectCollide(I.x,I.y,I.radius,W[pe+0],W[pe+1],W[pe+2],W[pe+3])&&(!S||S(this.boxKeys[ie])))return x.push(!0),!0}}var te=this.circleCells[g];if(te!==null)for(var ce=this.circles,ge=0,we=te;ge<we.length;ge+=1){var Ae=we[ge];if(!L.circle[Ae]){L.circle[Ae]=!0;var ke=3*Ae;if(this._circlesCollide(ce[ke],ce[ke+1],ce[ke+2],I.x,I.y,I.radius)&&(!S||S(this.circleKeys[Ae])))return x.push(!0),!0}}},ln.prototype._forEachCell=function(l,c,u,f,g,x,w,S){for(var I=this._convertToXCellCoord(l),L=this._convertToYCellCoord(c),j=this._convertToXCellCoord(u),W=this._convertToYCellCoord(f),G=I;G<=j;G++)for(var ae=L;ae<=W;ae++)if(g.call(this,l,c,u,f,this.xCellCount*ae+G,x,w,S))return},ln.prototype._convertToXCellCoord=function(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))},ln.prototype._convertToYCellCoord=function(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))},ln.prototype._circlesCollide=function(l,c,u,f,g,x){var w=f-l,S=g-c,I=u+x;return I*I>w*w+S*S},ln.prototype._circleAndRectCollide=function(l,c,u,f,g,x,w){var S=(x-f)/2,I=Math.abs(l-(f+S));if(I>S+u)return!1;var L=(w-g)/2,j=Math.abs(c-(g+L));if(j>L+u)return!1;if(I<=S||j<=L)return!0;var W=I-S,G=j-L;return W*W+G*G<=u*u};var ua=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function qr(l,c){for(var u=0;u<l;u++){var f=c.length;c.resize(f+4),c.float32.set(ua,3*f)}}function ur(l,c,u){var f=c[0],g=c[1];return l[0]=u[0]*f+u[4]*g+u[12],l[1]=u[1]*f+u[5]*g+u[13],l[3]=u[3]*f+u[7]*g+u[15],l}var Pr=function(l,c,u){c===void 0&&(c=new ln(l.width+200,l.height+200,25)),u===void 0&&(u=new ln(l.width+200,l.height+200,25)),this.transform=l,this.grid=c,this.ignoredGrid=u,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+100,this.screenBottomBoundary=l.height+100,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200};function Nn(l,c,u){return c*(s.EXTENT/(l.tileSize*Math.pow(2,u-l.tileID.overscaledZ)))}Pr.prototype.placeCollisionBox=function(l,c,u,f,g){var x=this.projectAndGetPerspectiveRatio(f,l.anchorPointX,l.anchorPointY),w=u*x.perspectiveRatio,S=l.x1*w+x.point.x,I=l.y1*w+x.point.y,L=l.x2*w+x.point.x,j=l.y2*w+x.point.y;return!this.isInsideGrid(S,I,L,j)||!c&&this.grid.hitTest(S,I,L,j,g)?{box:[],offscreen:!1}:{box:[S,I,L,j],offscreen:this.isOffscreen(S,I,L,j)}},Pr.prototype.placeCollisionCircles=function(l,c,u,f,g,x,w,S,I,L,j,W,G){var ae=[],ie=new s.Point(c.anchorX,c.anchorY),pe=Zt(ie,x),te=tn(this.transform.cameraToCenterDistance,pe.signedDistanceFromCamera),ce=(L?g/te:g*te)/s.ONE_EM,ge=Zt(ie,w).point,we=lr(ce,f,c.lineOffsetX*ce,c.lineOffsetY*ce,!1,ge,ie,c,u,w,{}),Ae=!1,ke=!1,Re=!0;if(we){for(var Be=.5*W*te+G,Ge=new s.Point(-100,-100),Ze=new s.Point(this.screenRightBoundary,this.screenBottomBoundary),lt=new vr,Ct=we.first,At=we.last,Mt=[],yn=Ct.path.length-1;yn>=1;yn--)Mt.push(Ct.path[yn]);for(var pt=1;pt<At.path.length;pt++)Mt.push(At.path[pt]);var Vt=2.5*Be;if(S){var Jt=Mt.map(function(vo){return Zt(vo,S)});Mt=Jt.some(function(vo){return vo.signedDistanceFromCamera<=0})?[]:Jt.map(function(vo){return vo.point})}var Ut=[];if(Mt.length>0){for(var Bt=Mt[0].clone(),Kt=Mt[0].clone(),Dt=1;Dt<Mt.length;Dt++)Bt.x=Math.min(Bt.x,Mt[Dt].x),Bt.y=Math.min(Bt.y,Mt[Dt].y),Kt.x=Math.max(Kt.x,Mt[Dt].x),Kt.y=Math.max(Kt.y,Mt[Dt].y);Ut=Bt.x>=Ge.x&&Kt.x<=Ze.x&&Bt.y>=Ge.y&&Kt.y<=Ze.y?[Mt]:Kt.x<Ge.x||Bt.x>Ze.x||Kt.y<Ge.y||Bt.y>Ze.y?[]:s.clipLine([Mt],Ge.x,Ge.y,Ze.x,Ze.y)}for(var Lt=0,Wr=Ut;Lt<Wr.length;Lt+=1){var cr;lt.reset(Wr[Lt],.25*Be),cr=lt.length<=.5*Be?1:Math.ceil(lt.paddedLength/Vt)+1;for(var yi=0;yi<cr;yi++){var ni=yi/Math.max(cr-1,1),ir=lt.lerp(ni),_r=ir.x+100,Hi=ir.y+100;ae.push(_r,Hi,Be,0);var wi=_r-Be,Ua=Hi-Be,Mi=_r+Be,Lo=Hi+Be;if(Re=Re&&this.isOffscreen(wi,Ua,Mi,Lo),ke=ke||this.isInsideGrid(wi,Ua,Mi,Lo),!l&&this.grid.hitTestCircle(_r,Hi,Be,j)&&(Ae=!0,!I))return{circles:[],offscreen:!1,collisionDetected:Ae}}}}return{circles:!I&&Ae||!ke?[]:ae,offscreen:Re,collisionDetected:Ae}},Pr.prototype.queryRenderedSymbols=function(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var c=[],u=1/0,f=1/0,g=-1/0,x=-1/0,w=0,S=l;w<S.length;w+=1){var I=S[w],L=new s.Point(I.x+100,I.y+100);u=Math.min(u,L.x),f=Math.min(f,L.y),g=Math.max(g,L.x),x=Math.max(x,L.y),c.push(L)}for(var j={},W={},G=0,ae=this.grid.query(u,f,g,x).concat(this.ignoredGrid.query(u,f,g,x));G<ae.length;G+=1){var ie=ae[G],pe=ie.key;if(j[pe.bucketInstanceId]===void 0&&(j[pe.bucketInstanceId]={}),!j[pe.bucketInstanceId][pe.featureIndex]){var te=[new s.Point(ie.x1,ie.y1),new s.Point(ie.x2,ie.y1),new s.Point(ie.x2,ie.y2),new s.Point(ie.x1,ie.y2)];s.polygonIntersectsPolygon(c,te)&&(j[pe.bucketInstanceId][pe.featureIndex]=!0,W[pe.bucketInstanceId]===void 0&&(W[pe.bucketInstanceId]=[]),W[pe.bucketInstanceId].push(pe.featureIndex))}}return W},Pr.prototype.insertCollisionBox=function(l,c,u,f,g){(c?this.ignoredGrid:this.grid).insert({bucketInstanceId:u,featureIndex:f,collisionGroupID:g},l[0],l[1],l[2],l[3])},Pr.prototype.insertCollisionCircles=function(l,c,u,f,g){for(var x=c?this.ignoredGrid:this.grid,w={bucketInstanceId:u,featureIndex:f,collisionGroupID:g},S=0;S<l.length;S+=4)x.insertCircle(w,l[S],l[S+1],l[S+2])},Pr.prototype.projectAndGetPerspectiveRatio=function(l,c,u){var f=[c,u,0,1];return ur(f,f,l),{point:new s.Point((f[0]/f[3]+1)/2*this.transform.width+100,(-f[1]/f[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/f[3]*.5}},Pr.prototype.isOffscreen=function(l,c,u,f){return u<100||l>=this.screenRightBoundary||f<100||c>this.screenBottomBoundary},Pr.prototype.isInsideGrid=function(l,c,u,f){return u>=0&&l<this.gridRightBoundary&&f>=0&&c<this.gridBottomBoundary},Pr.prototype.getViewportMatrix=function(){var l=s.identity([]);return s.translate(l,l,[-100,-100,0]),l};var Ui=function(l,c,u,f){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?c:-c))):f&&u?1:0,this.placed=u};Ui.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var mi=function(l,c,u,f,g){this.text=new Ui(l?l.text:null,c,u,g),this.icon=new Ui(l?l.icon:null,c,f,g)};mi.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ol=function(l,c,u){this.text=l,this.icon=c,this.skipFade=u},Vi=function(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]},Ap=function(l,c,u,f,g){this.bucketInstanceId=l,this.featureIndex=c,this.sourceLayerIndex=u,this.bucketIndex=f,this.tileID=g},V=function(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}};function K(l,c,u,f,g){var x=s.getAnchorAlignment(l),w=-(x.horizontalAlign-.5)*c,S=-(x.verticalAlign-.5)*u,I=s.evaluateVariableOffset(l,f);return new s.Point(w+I[0]*g,S+I[1]*g)}function fe(l,c,u,f,g,x){var w=l.x1,S=l.x2,I=l.y1,L=l.y2,j=l.anchorPointX,W=l.anchorPointY,G=new s.Point(c,u);return f&&G._rotate(g?x:-x),{x1:w+G.x,y1:I+G.y,x2:S+G.x,y2:L+G.y,anchorPointX:j,anchorPointY:W}}V.prototype.get=function(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){var c=++this.maxGroupID;this.collisionGroups[l]={ID:c,predicate:function(u){return u.collisionGroupID===c}}}return this.collisionGroups[l]};var Ce=function(l,c,u,f){this.transform=l.clone(),this.collisionIndex=new Pr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=c,this.retainedQueryData={},this.collisionGroups=new V(u),this.collisionCircleArrays={},this.prevPlacement=f,f&&(f.prevPlacement=void 0),this.placedOrientations={}};function We(l,c,u,f,g){l.emplaceBack(c?1:0,u?1:0,f||0,g||0),l.emplaceBack(c?1:0,u?1:0,f||0,g||0),l.emplaceBack(c?1:0,u?1:0,f||0,g||0),l.emplaceBack(c?1:0,u?1:0,f||0,g||0)}Ce.prototype.getBucketParts=function(l,c,u,f){var g=u.getBucket(c),x=u.latestFeatureIndex;if(g&&x&&c.id===g.layerIds[0]){var w=u.collisionBoxArray,S=g.layers[0].layout,I=Math.pow(2,this.transform.zoom-u.tileID.overscaledZ),L=u.tileSize/s.EXTENT,j=this.transform.calculatePosMatrix(u.tileID.toUnwrapped()),W=S.get("text-pitch-alignment")==="map",G=S.get("text-rotation-alignment")==="map",ae=Nn(u,1,this.transform.zoom),ie=Mn(j,W,G,this.transform,ae),pe=null;if(W){var te=xn(j,W,G,this.transform,ae);pe=s.multiply([],this.transform.labelPlaneMatrix,te)}this.retainedQueryData[g.bucketInstanceId]=new Ap(g.bucketInstanceId,x,g.sourceLayerIndex,g.index,u.tileID);var ce={bucket:g,layout:S,posMatrix:j,textLabelPlaneMatrix:ie,labelToScreenMatrix:pe,scale:I,textPixelRatio:L,holdingForFade:u.holdingForFade(),collisionBoxArray:w,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(g.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(g.sourceID)};if(f)for(var ge=0,we=g.sortKeyRanges;ge<we.length;ge+=1){var Ae=we[ge];l.push({sortKey:Ae.sortKey,symbolInstanceStart:Ae.symbolInstanceStart,symbolInstanceEnd:Ae.symbolInstanceEnd,parameters:ce})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:g.symbolInstances.length,parameters:ce})}},Ce.prototype.attemptAnchorPlacement=function(l,c,u,f,g,x,w,S,I,L,j,W,G,ae,ie){var pe,te=[W.textOffset0,W.textOffset1],ce=K(l,u,f,te,g),ge=this.collisionIndex.placeCollisionBox(fe(c,ce.x,ce.y,x,w,this.transform.angle),j,S,I,L.predicate);if(!ie||this.collisionIndex.placeCollisionBox(fe(ie,ce.x,ce.y,x,w,this.transform.angle),j,S,I,L.predicate).box.length!==0)return ge.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID].text&&(pe=this.prevPlacement.variableOffsets[W.crossTileID].anchor),this.variableOffsets[W.crossTileID]={textOffset:te,width:u,height:f,anchor:l,textBoxScale:g,prevAnchor:pe},this.markUsedJustification(G,l,W,ae),G.allowVerticalPlacement&&(this.markUsedOrientation(G,ae,W),this.placedOrientations[W.crossTileID]=ae),{shift:ce,placedGlyphBoxes:ge}):void 0},Ce.prototype.placeLayerBucketPart=function(l,c,u){var f=this,g=l.parameters,x=g.bucket,w=g.layout,S=g.posMatrix,I=g.textLabelPlaneMatrix,L=g.labelToScreenMatrix,j=g.textPixelRatio,W=g.holdingForFade,G=g.collisionBoxArray,ae=g.partiallyEvaluatedTextSize,ie=g.collisionGroup,pe=w.get("text-optional"),te=w.get("icon-optional"),ce=w.get("text-allow-overlap"),ge=w.get("icon-allow-overlap"),we=w.get("text-rotation-alignment")==="map",Ae=w.get("text-pitch-alignment")==="map",ke=w.get("icon-text-fit")!=="none",Re=w.get("symbol-z-order")==="viewport-y",Be=ce&&(ge||!x.hasIconData()||te),Ge=ge&&(ce||!x.hasTextData()||pe);!x.collisionArrays&&G&&x.deserializeCollisionBoxes(G);var Ze=function(pt,Vt){if(!c[pt.crossTileID])if(W)f.placements[pt.crossTileID]=new Ol(!1,!1,!1);else{var Jt,Ut=!1,Bt=!1,Kt=!0,Dt=null,Lt={box:null,offscreen:null},Wr={box:null,offscreen:null},cr=null,yi=null,ni=0,ir=0,_r=0;Vt.textFeatureIndex?ni=Vt.textFeatureIndex:pt.useRuntimeCollisionCircles&&(ni=pt.featureIndex),Vt.verticalTextFeatureIndex&&(ir=Vt.verticalTextFeatureIndex);var Hi=Vt.textBox;if(Hi){var wi=function(Sn){var io=s.WritingMode.horizontal;if(x.allowVerticalPlacement&&!Sn&&f.prevPlacement){var Ai=f.prevPlacement.placedOrientations[pt.crossTileID];Ai&&(f.placedOrientations[pt.crossTileID]=Ai,f.markUsedOrientation(x,io=Ai,pt))}return io},Ua=function(Sn,io){if(x.allowVerticalPlacement&&pt.numVerticalGlyphVertices>0&&Vt.verticalTextBox)for(var Ai=0,Cs=x.writingModes;Ai<Cs.length&&(Cs[Ai]===s.WritingMode.vertical?(Lt=io(),Wr=Lt):Lt=Sn(),!(Lt&&Lt.box&&Lt.box.length));Ai+=1);else Lt=Sn()};if(w.get("text-variable-anchor")){var Mi=w.get("text-variable-anchor");if(f.prevPlacement&&f.prevPlacement.variableOffsets[pt.crossTileID]){var Lo=f.prevPlacement.variableOffsets[pt.crossTileID];Mi.indexOf(Lo.anchor)>0&&(Mi=Mi.filter(function(Sn){return Sn!==Lo.anchor})).unshift(Lo.anchor)}var vo=function(Sn,io,Ai){for(var Cs=Sn.x2-Sn.x1,Sg=Sn.y2-Sn.y1,nc=pt.textBoxScale,Tg=ke&&!ge?io:null,nu={box:[],offscreen:!1},Od=ce?2*Mi.length:Mi.length,rl=0;rl<Od;++rl){var rc=f.attemptAnchorPlacement(Mi[rl%Mi.length],Sn,Cs,Sg,nc,we,Ae,j,S,ie,rl>=Mi.length,pt,x,Ai,Tg);if(rc&&(nu=rc.placedGlyphBoxes)&&nu.box&&nu.box.length){Ut=!0,Dt=rc.shift;break}}return nu};Ua(function(){return vo(Hi,Vt.iconBox,s.WritingMode.horizontal)},function(){var Sn=Vt.verticalTextBox;return x.allowVerticalPlacement&&!(Lt&&Lt.box&&Lt.box.length)&&pt.numVerticalGlyphVertices>0&&Sn?vo(Sn,Vt.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}}),Lt&&(Ut=Lt.box,Kt=Lt.offscreen);var Ql=wi(Lt&&Lt.box);if(!Ut&&f.prevPlacement){var tl=f.prevPlacement.variableOffsets[pt.crossTileID];tl&&(f.variableOffsets[pt.crossTileID]=tl,f.markUsedJustification(x,tl.anchor,pt,Ql))}}else{var Va=function(Sn,io){var Ai=f.collisionIndex.placeCollisionBox(Sn,ce,j,S,ie.predicate);return Ai&&Ai.box&&Ai.box.length&&(f.markUsedOrientation(x,io,pt),f.placedOrientations[pt.crossTileID]=io),Ai};Ua(function(){return Va(Hi,s.WritingMode.horizontal)},function(){var Sn=Vt.verticalTextBox;return x.allowVerticalPlacement&&pt.numVerticalGlyphVertices>0&&Sn?Va(Sn,s.WritingMode.vertical):{box:null,offscreen:null}}),wi(Lt&&Lt.box&&Lt.box.length)}}if(Ut=(Jt=Lt)&&Jt.box&&Jt.box.length>0,Kt=Jt&&Jt.offscreen,pt.useRuntimeCollisionCircles){var nl=x.text.placedSymbolArray.get(pt.centerJustifiedTextSymbolIndex),eu=s.evaluateSizeForFeature(x.textSizeData,ae,nl),Wo=w.get("text-padding");cr=f.collisionIndex.placeCollisionCircles(ce,nl,x.lineVertexArray,x.glyphOffsetArray,eu,S,I,L,u,Ae,ie.predicate,pt.collisionCircleDiameter,Wo),Ut=ce||cr.circles.length>0&&!cr.collisionDetected,Kt=Kt&&cr.offscreen}if(Vt.iconFeatureIndex&&(_r=Vt.iconFeatureIndex),Vt.iconBox){var tu=function(Sn){var io=ke&&Dt?fe(Sn,Dt.x,Dt.y,we,Ae,f.transform.angle):Sn;return f.collisionIndex.placeCollisionBox(io,ge,j,S,ie.predicate)};Bt=Wr&&Wr.box&&Wr.box.length&&Vt.verticalIconBox?(yi=tu(Vt.verticalIconBox)).box.length>0:(yi=tu(Vt.iconBox)).box.length>0,Kt=Kt&&yi.offscreen}var Zo=pe||pt.numHorizontalGlyphVertices===0&&pt.numVerticalGlyphVertices===0,Zr=te||pt.numIconVertices===0;if(Zo||Zr?Zr?Zo||(Bt=Bt&&Ut):Ut=Bt&&Ut:Bt=Ut=Bt&&Ut,Ut&&Jt&&Jt.box&&f.collisionIndex.insertCollisionBox(Jt.box,w.get("text-ignore-placement"),x.bucketInstanceId,Wr&&Wr.box&&ir?ir:ni,ie.ID),Bt&&yi&&f.collisionIndex.insertCollisionBox(yi.box,w.get("icon-ignore-placement"),x.bucketInstanceId,_r,ie.ID),cr&&(Ut&&f.collisionIndex.insertCollisionCircles(cr.circles,w.get("text-ignore-placement"),x.bucketInstanceId,ni,ie.ID),u)){var fa=x.bucketInstanceId,ja=f.collisionCircleArrays[fa];ja===void 0&&(ja=f.collisionCircleArrays[fa]=new Vi);for(var Ts=0;Ts<cr.circles.length;Ts+=4)ja.circles.push(cr.circles[Ts+0]),ja.circles.push(cr.circles[Ts+1]),ja.circles.push(cr.circles[Ts+2]),ja.circles.push(cr.collisionDetected?1:0)}f.placements[pt.crossTileID]=new Ol(Ut||Be,Bt||Ge,Kt||x.justReloaded),c[pt.crossTileID]=!0}};if(Re)for(var lt=x.getSortedSymbolIndexes(this.transform.angle),Ct=lt.length-1;Ct>=0;--Ct){var At=lt[Ct];Ze(x.symbolInstances.get(At),x.collisionArrays[At])}else for(var Mt=l.symbolInstanceStart;Mt<l.symbolInstanceEnd;Mt++)Ze(x.symbolInstances.get(Mt),x.collisionArrays[Mt]);if(u&&x.bucketInstanceId in this.collisionCircleArrays){var yn=this.collisionCircleArrays[x.bucketInstanceId];s.invert(yn.invProjMatrix,S),yn.viewportMatrix=this.collisionIndex.getViewportMatrix()}x.justReloaded=!1},Ce.prototype.markUsedJustification=function(l,c,u,f){var g;g=f===s.WritingMode.vertical?u.verticalPlacedTextSymbolIndex:{left:u.leftJustifiedTextSymbolIndex,center:u.centerJustifiedTextSymbolIndex,right:u.rightJustifiedTextSymbolIndex}[s.getAnchorJustification(c)];for(var x=0,w=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex,u.verticalPlacedTextSymbolIndex];x<w.length;x+=1){var S=w[x];S>=0&&(l.text.placedSymbolArray.get(S).crossTileID=g>=0&&S!==g?0:u.crossTileID)}},Ce.prototype.markUsedOrientation=function(l,c,u){for(var f=c===s.WritingMode.horizontal||c===s.WritingMode.horizontalOnly?c:0,g=c===s.WritingMode.vertical?c:0,x=0,w=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex];x<w.length;x+=1)l.text.placedSymbolArray.get(w[x]).placedOrientation=f;u.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(u.verticalPlacedTextSymbolIndex).placedOrientation=g)},Ce.prototype.commit=function(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;var c=this.prevPlacement,u=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;var f=c?c.symbolFadeChange(l):1,g=c?c.opacities:{},x=c?c.variableOffsets:{},w=c?c.placedOrientations:{};for(var S in this.placements){var I=this.placements[S],L=g[S];L?(this.opacities[S]=new mi(L,f,I.text,I.icon),u=u||I.text!==L.text.placed||I.icon!==L.icon.placed):(this.opacities[S]=new mi(null,f,I.text,I.icon,I.skipFade),u=u||I.text||I.icon)}for(var j in g){var W=g[j];if(!this.opacities[j]){var G=new mi(W,f,!1,!1);G.isHidden()||(this.opacities[j]=G,u=u||W.text.placed||W.icon.placed)}}for(var ae in x)this.variableOffsets[ae]||!this.opacities[ae]||this.opacities[ae].isHidden()||(this.variableOffsets[ae]=x[ae]);for(var ie in w)this.placedOrientations[ie]||!this.opacities[ie]||this.opacities[ie].isHidden()||(this.placedOrientations[ie]=w[ie]);u?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:l)},Ce.prototype.updateLayerOpacities=function(l,c){for(var u={},f=0,g=c;f<g.length;f+=1){var x=g[f],w=x.getBucket(l);w&&x.latestFeatureIndex&&l.id===w.layerIds[0]&&this.updateBucketOpacities(w,u,x.collisionBoxArray)}},Ce.prototype.updateBucketOpacities=function(l,c,u){var f=this;l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();var g=l.layers[0].layout,x=new mi(null,0,!1,!1,!0),w=g.get("text-allow-overlap"),S=g.get("icon-allow-overlap"),I=g.get("text-variable-anchor"),L=g.get("text-rotation-alignment")==="map",j=g.get("text-pitch-alignment")==="map",W=g.get("icon-text-fit")!=="none",G=new mi(null,0,w&&(S||!l.hasIconData()||g.get("icon-optional")),S&&(w||!l.hasTextData()||g.get("text-optional")),!0);!l.collisionArrays&&u&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(u);for(var ae=function(ce,ge,we){for(var Ae=0;Ae<ge/4;Ae++)ce.opacityVertexArray.emplaceBack(we)},ie=function(ce){var ge=l.symbolInstances.get(ce),we=ge.numHorizontalGlyphVertices,Ae=ge.numVerticalGlyphVertices,ke=ge.crossTileID,Re=f.opacities[ke];c[ke]?Re=x:Re||(f.opacities[ke]=Re=G),c[ke]=!0;var Be=ge.numIconVertices>0,Ge=f.placedOrientations[ge.crossTileID],Ze=Ge===s.WritingMode.vertical,lt=Ge===s.WritingMode.horizontal||Ge===s.WritingMode.horizontalOnly;if(we>0||Ae>0){var Ct=sd(Re.text);ae(l.text,we,Ze?qs:Ct),ae(l.text,Ae,lt?qs:Ct);var At=Re.text.isHidden();[ge.rightJustifiedTextSymbolIndex,ge.centerJustifiedTextSymbolIndex,ge.leftJustifiedTextSymbolIndex].forEach(function(Lt){Lt>=0&&(l.text.placedSymbolArray.get(Lt).hidden=At||Ze?1:0)}),ge.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(ge.verticalPlacedTextSymbolIndex).hidden=At||lt?1:0);var Mt=f.variableOffsets[ge.crossTileID];Mt&&f.markUsedJustification(l,Mt.anchor,ge,Ge);var yn=f.placedOrientations[ge.crossTileID];yn&&(f.markUsedJustification(l,"left",ge,yn),f.markUsedOrientation(l,yn,ge))}if(Be){var pt=sd(Re.icon),Vt=!(W&&ge.verticalPlacedIconSymbolIndex&&Ze);ge.placedIconSymbolIndex>=0&&(ae(l.icon,ge.numIconVertices,Vt?pt:qs),l.icon.placedSymbolArray.get(ge.placedIconSymbolIndex).hidden=Re.icon.isHidden()),ge.verticalPlacedIconSymbolIndex>=0&&(ae(l.icon,ge.numVerticalIconVertices,Vt?qs:pt),l.icon.placedSymbolArray.get(ge.verticalPlacedIconSymbolIndex).hidden=Re.icon.isHidden())}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){var Jt=l.collisionArrays[ce];if(Jt){var Ut=new s.Point(0,0);if(Jt.textBox||Jt.verticalTextBox){var Bt=!0;if(I){var Kt=f.variableOffsets[ke];Kt?(Ut=K(Kt.anchor,Kt.width,Kt.height,Kt.textOffset,Kt.textBoxScale),L&&Ut._rotate(j?f.transform.angle:-f.transform.angle)):Bt=!1}Jt.textBox&&We(l.textCollisionBox.collisionVertexArray,Re.text.placed,!Bt||Ze,Ut.x,Ut.y),Jt.verticalTextBox&&We(l.textCollisionBox.collisionVertexArray,Re.text.placed,!Bt||lt,Ut.x,Ut.y)}var Dt=Boolean(!lt&&Jt.verticalIconBox);Jt.iconBox&&We(l.iconCollisionBox.collisionVertexArray,Re.icon.placed,Dt,W?Ut.x:0,W?Ut.y:0),Jt.verticalIconBox&&We(l.iconCollisionBox.collisionVertexArray,Re.icon.placed,!Dt,W?Ut.x:0,W?Ut.y:0)}}},pe=0;pe<l.symbolInstances.length;pe++)ie(pe);if(l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.bucketInstanceId in this.collisionCircleArrays){var te=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=te.invProjMatrix,l.placementViewportMatrix=te.viewportMatrix,l.collisionCircleArray=te.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}},Ce.prototype.symbolFadeChange=function(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Ce.prototype.zoomAdjustment=function(l){return Math.max(0,(this.transform.zoom-l)/1.5)},Ce.prototype.hasTransitions=function(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration},Ce.prototype.stillRecent=function(l,c){var u=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*u>l},Ce.prototype.setStale=function(){this.stale=!0};var wt=Math.pow(2,25),mn=Math.pow(2,24),Ir=Math.pow(2,17),ei=Math.pow(2,16),ui=Math.pow(2,9),ho=Math.pow(2,8),ad=Math.pow(2,1);function sd(l){if(l.opacity===0&&!l.placed)return 0;if(l.opacity===1&&l.placed)return 4294967295;var c=l.placed?1:0,u=Math.floor(127*l.opacity);return u*wt+c*mn+u*Ir+c*ei+u*ui+c*ho+u*ad+c}var qs=0,zp=function(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&l.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};zp.prototype.continuePlacement=function(l,c,u,f,g){for(var x=this._bucketParts;this._currentTileIndex<l.length;)if(c.getBucketParts(x,f,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,g())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,x.sort(function(w,S){return w.sortKey-S.sortKey}));this._currentPartIndex<x.length;)if(c.placeLayerBucketPart(x[this._currentPartIndex],this._seenCrossTileIDs,u),this._currentPartIndex++,g())return!0;return!1};var Dl=function(l,c,u,f,g,x,w){this.placement=new Ce(l,g,x,w),this._currentPlacementIndex=c.length-1,this._forceFullPlacement=u,this._showCollisionBoxes=f,this._done=!1};Dl.prototype.isDone=function(){return this._done},Dl.prototype.continuePlacement=function(l,c,u){for(var f=this,g=s.browser.now(),x=function(){var I=s.browser.now()-g;return!f._forceFullPlacement&&I>2};this._currentPlacementIndex>=0;){var w=c[l[this._currentPlacementIndex]],S=this.placement.collisionIndex.transform.zoom;if(w.type==="symbol"&&(!w.minzoom||w.minzoom<=S)&&(!w.maxzoom||w.maxzoom>S)){if(this._inProgressLayer||(this._inProgressLayer=new zp(w)),this._inProgressLayer.continuePlacement(u[w.source],this.placement,this._showCollisionBoxes,w,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Dl.prototype.commit=function(l){return this.placement.commit(l),this.placement};var ld=512/s.EXTENT/2,Du=function(l,c,u){this.tileID=l,this.indexedSymbolInstances={},this.bucketInstanceId=u;for(var f=0;f<c.length;f++){var g=c.get(f),x=g.key;this.indexedSymbolInstances[x]||(this.indexedSymbolInstances[x]=[]),this.indexedSymbolInstances[x].push({crossTileID:g.crossTileID,coord:this.getScaledCoordinates(g,l)})}};Du.prototype.getScaledCoordinates=function(l,c){var u=ld/Math.pow(2,c.canonical.z-this.tileID.canonical.z);return{x:Math.floor((c.canonical.x*s.EXTENT+l.anchorX)*u),y:Math.floor((c.canonical.y*s.EXTENT+l.anchorY)*u)}},Du.prototype.findMatches=function(l,c,u){for(var f=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z),g=0;g<l.length;g++){var x=l.get(g);if(!x.crossTileID){var w=this.indexedSymbolInstances[x.key];if(w)for(var S=this.getScaledCoordinates(x,c),I=0,L=w;I<L.length;I+=1){var j=L[I];if(Math.abs(j.coord.x-S.x)<=f&&Math.abs(j.coord.y-S.y)<=f&&!u[j.crossTileID]){u[j.crossTileID]=!0,x.crossTileID=j.crossTileID;break}}}}};var fo=function(){this.maxCrossTileID=0};fo.prototype.generate=function(){return++this.maxCrossTileID};var Ca=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ca.prototype.handleWrapJump=function(l){var c=Math.round((l-this.lng)/360);if(c!==0)for(var u in this.indexes){var f=this.indexes[u],g={};for(var x in f){var w=f[x];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+c),g[w.tileID.key]=w}this.indexes[u]=g}this.lng=l},Ca.prototype.addBucket=function(l,c,u){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(var f=0;f<c.symbolInstances.length;f++)c.symbolInstances.get(f).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});var g=this.usedCrossTileIDs[l.overscaledZ];for(var x in this.indexes){var w=this.indexes[x];if(Number(x)>l.overscaledZ)for(var S in w){var I=w[S];I.tileID.isChildOf(l)&&I.findMatches(c.symbolInstances,l,g)}else{var L=w[l.scaledTo(Number(x)).key];L&&L.findMatches(c.symbolInstances,l,g)}}for(var j=0;j<c.symbolInstances.length;j++){var W=c.symbolInstances.get(j);W.crossTileID||(W.crossTileID=u.generate(),g[W.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new Du(l,c.symbolInstances,c.bucketInstanceId),!0},Ca.prototype.removeBucketCrossTileIDs=function(l,c){for(var u in c.indexedSymbolInstances)for(var f=0,g=c.indexedSymbolInstances[u];f<g.length;f+=1)delete this.usedCrossTileIDs[l][g[f].crossTileID]},Ca.prototype.removeStaleBuckets=function(l){var c=!1;for(var u in this.indexes){var f=this.indexes[u];for(var g in f)l[f[g].bucketInstanceId]||(this.removeBucketCrossTileIDs(u,f[g]),delete f[g],c=!0)}return c};var Pa=function(){this.layerIndexes={},this.crossTileIDs=new fo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Pa.prototype.addLayer=function(l,c,u){var f=this.layerIndexes[l.id];f===void 0&&(f=this.layerIndexes[l.id]=new Ca);var g=!1,x={};f.handleWrapJump(u);for(var w=0,S=c;w<S.length;w+=1){var I=S[w],L=I.getBucket(l);L&&l.id===L.layerIds[0]&&(L.bucketInstanceId||(L.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(I.tileID,L,this.crossTileIDs)&&(g=!0),x[L.bucketInstanceId]=!0)}return f.removeStaleBuckets(x)&&(g=!0),g},Pa.prototype.pruneUnusedLayers=function(l){var c={};for(var u in l.forEach(function(f){c[f]=!0}),this.layerIndexes)c[u]||delete this.layerIndexes[u]};var us=function(l,c){return s.emitValidationErrors(l,c&&c.filter(function(u){return u.identifier!=="source.canvas"}))},Ia=s.pick(Ye,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ka=s.pick(Ye,["setCenter","setZoom","setBearing","setPitch"]),Fu=function(){var l={},c=s.styleSpec.$version;for(var u in s.styleSpec.$root){var f,g=s.styleSpec.$root[u];g.required&&(f=u==="version"?c:g.type==="array"?[]:{})!=null&&(l[u]=f)}return l}(),ji=function(l){function c(u,f){var g=this;f===void 0&&(f={}),l.call(this),this.map=u,this.dispatcher=new Ke(Le(),this),this.imageManager=new $,this.imageManager.setEventedParent(this),this.glyphManager=new Se(u._requestManager,f.localIdeographFontFamily),this.lineAtlas=new Qe(256,512),this.crossTileSymbolIndex=new Pa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());var x=this;this._rtlTextPluginCallback=c.registerForPluginStateChange(function(w){x.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:w.pluginStatus,pluginURL:w.pluginURL},function(S,I){if(s.triggerPluginCompletionEvent(S),I&&I.every(function(j){return j}))for(var L in x.sourceCaches)x.sourceCaches[L].reload()})}),this.on("data",function(w){if(w.dataType==="source"&&w.sourceDataType==="metadata"){var S=g.sourceCaches[w.sourceId];if(S){var I=S.getSource();if(I&&I.vectorLayerIds)for(var L in g._layers){var j=g._layers[L];j.source===I.id&&g._validateLayer(j)}}}})}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.loadURL=function(u,f){var g=this;f===void 0&&(f={}),this.fire(new s.Event("dataloading",{dataType:"style"}));var x=typeof f.validate=="boolean"?f.validate:!s.isMapboxURL(u);u=this.map._requestManager.normalizeStyleURL(u,f.accessToken);var w=this.map._requestManager.transformRequest(u,s.ResourceType.Style);this._request=s.getJSON(w,function(S,I){g._request=null,S?g.fire(new s.ErrorEvent(S)):I&&g._load(I,x)})},c.prototype.loadJSON=function(u,f){var g=this;f===void 0&&(f={}),this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.browser.frame(function(){g._request=null,g._load(u,f.validate!==!1)})},c.prototype.loadEmpty=function(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Fu,!1)},c.prototype._load=function(u,f){if(!f||!us(this,s.validateStyle(u))){for(var g in this._loaded=!0,this.stylesheet=u,u.sources)this.addSource(g,u.sources[g],{validate:!1});u.sprite?this._loadSprite(u.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(u.glyphs);var x=Xe(this.stylesheet.layers);this._order=x.map(function(L){return L.id}),this._layers={},this._serializedLayers={};for(var w=0,S=x;w<S.length;w+=1){var I=S[w];(I=s.createStyleLayer(I)).setEventedParent(this,{layer:{id:I.id}}),this._layers[I.id]=I,this._serializedLayers[I.id]=I.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new yt(this.stylesheet.light),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}},c.prototype._loadSprite=function(u){var f=this;this._spriteRequest=function(g,x,w){var S,I,L,j=s.browser.devicePixelRatio>1?"@2x":"",W=s.getJSON(x.transformRequest(x.normalizeSpriteURL(g,j,".json"),s.ResourceType.SpriteJSON),function(ie,pe){W=null,L||(L=ie,S=pe,ae())}),G=s.getImage(x.transformRequest(x.normalizeSpriteURL(g,j,".png"),s.ResourceType.SpriteImage),function(ie,pe){G=null,L||(L=ie,I=pe,ae())});function ae(){if(L)w(L);else if(S&&I){var ie=s.browser.getImageData(I),pe={};for(var te in S){var ce=S[te],ge=ce.width,we=ce.height,Ae=ce.x,ke=ce.y,Re=ce.sdf,Be=ce.pixelRatio,Ge=ce.stretchX,Ze=ce.stretchY,lt=ce.content,Ct=new s.RGBAImage({width:ge,height:we});s.RGBAImage.copy(ie,Ct,{x:Ae,y:ke},{x:0,y:0},{width:ge,height:we}),pe[te]={data:Ct,pixelRatio:Be,sdf:Re,stretchX:Ge,stretchY:Ze,content:lt}}w(null,pe)}}return{cancel:function(){W&&(W.cancel(),W=null),G&&(G.cancel(),G=null)}}}(u,this.map._requestManager,function(g,x){if(f._spriteRequest=null,g)f.fire(new s.ErrorEvent(g));else if(x)for(var w in x)f.imageManager.addImage(w,x[w]);f.imageManager.setLoaded(!0),f._availableImages=f.imageManager.listImages(),f.dispatcher.broadcast("setImages",f._availableImages),f.fire(new s.Event("data",{dataType:"style"}))})},c.prototype._validateLayer=function(u){var f=this.sourceCaches[u.source];if(f){var g=u.sourceLayer;if(g){var x=f.getSource();(x.type==="geojson"||x.vectorLayerIds&&x.vectorLayerIds.indexOf(g)===-1)&&this.fire(new s.ErrorEvent(new Error('Source layer "'+g+'" does not exist on source "'+x.id+'" as specified by style layer "'+u.id+'"')))}}},c.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()},c.prototype._serializeLayers=function(u){for(var f=[],g=0,x=u;g<x.length;g+=1){var w=this._layers[x[g]];w.type!=="custom"&&f.push(w.serialize())}return f},c.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(var f in this._layers)if(this._layers[f].hasTransition())return!0;return!1},c.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},c.prototype.update=function(u){if(this._loaded){var f=this._changed;if(this._changed){var g=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);for(var w in(g.length||x.length)&&this._updateWorkerLayers(g,x),this._updatedSources){var S=this._updatedSources[w];S==="reload"?this._reloadSource(w):S==="clear"&&this._clearSource(w)}for(var I in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[I].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}var L={};for(var j in this.sourceCaches){var W=this.sourceCaches[j];L[j]=W.used,W.used=!1}for(var G=0,ae=this._order;G<ae.length;G+=1){var ie=this._layers[ae[G]];ie.recalculate(u,this._availableImages),!ie.isHidden(u.zoom)&&ie.source&&(this.sourceCaches[ie.source].used=!0)}for(var pe in L){var te=this.sourceCaches[pe];L[pe]!==te.used&&te.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:pe}))}this.light.recalculate(u),this.z=u.zoom,f&&this.fire(new s.Event("data",{dataType:"style"}))}},c.prototype._updateTilesForChangedImages=function(){var u=Object.keys(this._changedImages);if(u.length){for(var f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}},c.prototype._updateWorkerLayers=function(u,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(u),removedIds:f})},c.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},c.prototype.setState=function(u){var f=this;if(this._checkLoaded(),us(this,s.validateStyle(u)))return!1;(u=s.clone$1(u)).layers=Xe(u.layers);var g=function(w,S){if(!w)return[{command:Ye.setStyle,args:[S]}];var I=[];try{if(!s.deepEqual(w.version,S.version))return[{command:Ye.setStyle,args:[S]}];s.deepEqual(w.center,S.center)||I.push({command:Ye.setCenter,args:[S.center]}),s.deepEqual(w.zoom,S.zoom)||I.push({command:Ye.setZoom,args:[S.zoom]}),s.deepEqual(w.bearing,S.bearing)||I.push({command:Ye.setBearing,args:[S.bearing]}),s.deepEqual(w.pitch,S.pitch)||I.push({command:Ye.setPitch,args:[S.pitch]}),s.deepEqual(w.sprite,S.sprite)||I.push({command:Ye.setSprite,args:[S.sprite]}),s.deepEqual(w.glyphs,S.glyphs)||I.push({command:Ye.setGlyphs,args:[S.glyphs]}),s.deepEqual(w.transition,S.transition)||I.push({command:Ye.setTransition,args:[S.transition]}),s.deepEqual(w.light,S.light)||I.push({command:Ye.setLight,args:[S.light]});var L={},j=[];(function(G,ae,ie,pe){var te;for(te in ae=ae||{},G=G||{})G.hasOwnProperty(te)&&(ae.hasOwnProperty(te)||tt(te,ie,pe));for(te in ae)ae.hasOwnProperty(te)&&(G.hasOwnProperty(te)?s.deepEqual(G[te],ae[te])||(G[te].type==="geojson"&&ae[te].type==="geojson"&&kn(G,ae,te)?ie.push({command:Ye.setGeoJSONSourceData,args:[te,ae[te].data]}):nn(te,ae,ie,pe)):qt(te,ae,ie))})(w.sources,S.sources,j,L);var W=[];w.layers&&w.layers.forEach(function(G){L[G.source]?I.push({command:Ye.removeLayer,args:[G.id]}):W.push(G)}),I=I.concat(j),function(G,ae,ie){ae=ae||[];var pe,te,ce,ge,we,Ae,ke,Re=(G=G||[]).map(pn),Be=ae.map(pn),Ge=G.reduce(Wt,{}),Ze=ae.reduce(Wt,{}),lt=Re.slice(),Ct=Object.create(null);for(pe=0,te=0;pe<Re.length;pe++)Ze.hasOwnProperty(ce=Re[pe])?te++:(ie.push({command:Ye.removeLayer,args:[ce]}),lt.splice(lt.indexOf(ce,te),1));for(pe=0,te=0;pe<Be.length;pe++)lt[lt.length-1-pe]!==(ce=Be[Be.length-1-pe])&&(Ge.hasOwnProperty(ce)?(ie.push({command:Ye.removeLayer,args:[ce]}),lt.splice(lt.lastIndexOf(ce,lt.length-te),1)):te++,ie.push({command:Ye.addLayer,args:[Ze[ce],Ae=lt[lt.length-pe]]}),lt.splice(lt.length-pe,0,ce),Ct[ce]=!0);for(pe=0;pe<Be.length;pe++)if(ge=Ge[ce=Be[pe]],we=Ze[ce],!Ct[ce]&&!s.deepEqual(ge,we))if(s.deepEqual(ge.source,we.source)&&s.deepEqual(ge["source-layer"],we["source-layer"])&&s.deepEqual(ge.type,we.type)){for(ke in en(ge.layout,we.layout,ie,ce,null,Ye.setLayoutProperty),en(ge.paint,we.paint,ie,ce,null,Ye.setPaintProperty),s.deepEqual(ge.filter,we.filter)||ie.push({command:Ye.setFilter,args:[ce,we.filter]}),s.deepEqual(ge.minzoom,we.minzoom)&&s.deepEqual(ge.maxzoom,we.maxzoom)||ie.push({command:Ye.setLayerZoomRange,args:[ce,we.minzoom,we.maxzoom]}),ge)ge.hasOwnProperty(ke)&&ke!=="layout"&&ke!=="paint"&&ke!=="filter"&&ke!=="metadata"&&ke!=="minzoom"&&ke!=="maxzoom"&&(ke.indexOf("paint.")===0?en(ge[ke],we[ke],ie,ce,ke.slice(6),Ye.setPaintProperty):s.deepEqual(ge[ke],we[ke])||ie.push({command:Ye.setLayerProperty,args:[ce,ke,we[ke]]}));for(ke in we)we.hasOwnProperty(ke)&&!ge.hasOwnProperty(ke)&&ke!=="layout"&&ke!=="paint"&&ke!=="filter"&&ke!=="metadata"&&ke!=="minzoom"&&ke!=="maxzoom"&&(ke.indexOf("paint.")===0?en(ge[ke],we[ke],ie,ce,ke.slice(6),Ye.setPaintProperty):s.deepEqual(ge[ke],we[ke])||ie.push({command:Ye.setLayerProperty,args:[ce,ke,we[ke]]}))}else ie.push({command:Ye.removeLayer,args:[ce]}),Ae=lt[lt.lastIndexOf(ce)+1],ie.push({command:Ye.addLayer,args:[we,Ae]})}(W,S.layers,I)}catch(G){console.warn("Unable to compute style diff:",G),I=[{command:Ye.setStyle,args:[S]}]}return I}(this.serialize(),u).filter(function(w){return!(w.command in ka)});if(g.length===0)return!1;var x=g.filter(function(w){return!(w.command in Ia)});if(x.length>0)throw new Error("Unimplemented: "+x.map(function(w){return w.command}).join(", ")+".");return g.forEach(function(w){w.command!=="setTransition"&&f[w.command].apply(f,w.args)}),this.stylesheet=u,!0},c.prototype.addImage=function(u,f){if(this.getImage(u))return this.fire(new s.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(u,f),this._afterImageUpdated(u)},c.prototype.updateImage=function(u,f){this.imageManager.updateImage(u,f)},c.prototype.getImage=function(u){return this.imageManager.getImage(u)},c.prototype.removeImage=function(u){if(!this.getImage(u))return this.fire(new s.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(u),this._afterImageUpdated(u)},c.prototype._afterImageUpdated=function(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))},c.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},c.prototype.addSource=function(u,f,g){var x=this;if(g===void 0&&(g={}),this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error("There is already a source with this ID");if(!f.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(f).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(s.validateStyle.source,"sources."+u,f,null,g))){this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);var w=this.sourceCaches[u]=new se(u,f,this.dispatcher);w.style=this,w.setEventedParent(this,function(){return{isSourceLoaded:x.loaded(),source:w.serialize(),sourceId:u}}),w.onAdd(this.map),this._changed=!0}},c.prototype.removeSource=function(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(var f in this._layers)if(this._layers[f].source===u)return this.fire(new s.ErrorEvent(new Error('Source "'+u+'" cannot be removed while layer "'+f+'" is using it.')));var g=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],g.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),g.setEventedParent(null),g.clearTiles(),g.onRemove&&g.onRemove(this.map),this._changed=!0},c.prototype.setGeoJSONSourceData=function(u,f){this._checkLoaded(),this.sourceCaches[u].getSource().setData(f),this._changed=!0},c.prototype.getSource=function(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()},c.prototype.addLayer=function(u,f,g){g===void 0&&(g={}),this._checkLoaded();var x=u.id;if(this.getLayer(x))this.fire(new s.ErrorEvent(new Error('Layer with id "'+x+'" already exists on this map')));else{var w;if(u.type==="custom"){if(us(this,s.validateCustomStyleLayer(u)))return;w=s.createStyleLayer(u)}else{if(typeof u.source=="object"&&(this.addSource(x,u.source),u=s.clone$1(u),u=s.extend(u,{source:x})),this._validate(s.validateStyle.layer,"layers."+x,u,{arrayIndex:-1},g))return;w=s.createStyleLayer(u),this._validateLayer(w),w.setEventedParent(this,{layer:{id:x}}),this._serializedLayers[w.id]=w.serialize()}var S=f?this._order.indexOf(f):this._order.length;if(f&&S===-1)this.fire(new s.ErrorEvent(new Error('Layer with id "'+f+'" does not exist on this map.')));else{if(this._order.splice(S,0,x),this._layerOrderChanged=!0,this._layers[x]=w,this._removedLayers[x]&&w.source&&w.type!=="custom"){var I=this._removedLayers[x];delete this._removedLayers[x],I.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map)}}},c.prototype.moveLayer=function(u,f){if(this._checkLoaded(),this._changed=!0,this._layers[u]){if(u!==f){var g=this._order.indexOf(u);this._order.splice(g,1);var x=f?this._order.indexOf(f):this._order.length;f&&x===-1?this.fire(new s.ErrorEvent(new Error('Layer with id "'+f+'" does not exist on this map.'))):(this._order.splice(x,0,u),this._layerOrderChanged=!0)}}else this.fire(new s.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be moved.")))},c.prototype.removeLayer=function(u){this._checkLoaded();var f=this._layers[u];if(f){f.setEventedParent(null);var g=this._order.indexOf(u);this._order.splice(g,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=f,delete this._layers[u],delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],f.onRemove&&f.onRemove(this.map)}else this.fire(new s.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be removed.")))},c.prototype.getLayer=function(u){return this._layers[u]},c.prototype.hasLayer=function(u){return u in this._layers},c.prototype.setLayerZoomRange=function(u,f,g){this._checkLoaded();var x=this.getLayer(u);x?x.minzoom===f&&x.maxzoom===g||(f!=null&&(x.minzoom=f),g!=null&&(x.maxzoom=g),this._updateLayer(x)):this.fire(new s.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot have zoom extent.")))},c.prototype.setFilter=function(u,f,g){g===void 0&&(g={}),this._checkLoaded();var x=this.getLayer(u);if(x){if(!s.deepEqual(x.filter,f))return f==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(s.validateStyle.filter,"layers."+x.id+".filter",f,null,g)||(x.filter=s.clone$1(f),this._updateLayer(x)))}else this.fire(new s.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be filtered.")))},c.prototype.getFilter=function(u){return s.clone$1(this.getLayer(u).filter)},c.prototype.setLayoutProperty=function(u,f,g,x){x===void 0&&(x={}),this._checkLoaded();var w=this.getLayer(u);w?s.deepEqual(w.getLayoutProperty(f),g)||(w.setLayoutProperty(f,g,x),this._updateLayer(w)):this.fire(new s.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be styled.")))},c.prototype.getLayoutProperty=function(u,f){var g=this.getLayer(u);if(g)return g.getLayoutProperty(f);this.fire(new s.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style.")))},c.prototype.setPaintProperty=function(u,f,g,x){x===void 0&&(x={}),this._checkLoaded();var w=this.getLayer(u);w?s.deepEqual(w.getPaintProperty(f),g)||(w.setPaintProperty(f,g,x)&&this._updateLayer(w),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new s.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be styled.")))},c.prototype.getPaintProperty=function(u,f){return this.getLayer(u).getPaintProperty(f)},c.prototype.setFeatureState=function(u,f){this._checkLoaded();var g=u.source,x=u.sourceLayer,w=this.sourceCaches[g];if(w!==void 0){var S=w.getSource().type;S==="geojson"&&x?this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):S!=="vector"||x?(u.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),w.setFeatureState(x,u.id,f)):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error("The source '"+g+"' does not exist in the map's style.")))},c.prototype.removeFeatureState=function(u,f){this._checkLoaded();var g=u.source,x=this.sourceCaches[g];if(x!==void 0){var w=x.getSource().type,S=w==="vector"?u.sourceLayer:void 0;w!=="vector"||S?f&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):x.removeFeatureState(S,u.id,f):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error("The source '"+g+"' does not exist in the map's style.")))},c.prototype.getFeatureState=function(u){this._checkLoaded();var f=u.source,g=u.sourceLayer,x=this.sourceCaches[f];if(x!==void 0){if(x.getSource().type!=="vector"||g)return u.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),x.getFeatureState(g,u.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error("The source '"+f+"' does not exist in the map's style.")))},c.prototype.getTransition=function(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},c.prototype.serialize=function(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,function(u){return u.serialize()}),layers:this._serializeLayers(this._order)},function(u){return u!==void 0})},c.prototype._updateLayer=function(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._changed=!0},c.prototype._flattenAndSortRenderedFeatures=function(u){for(var f=this,g=function(Ge){return f._layers[Ge].type==="fill-extrusion"},x={},w=[],S=this._order.length-1;S>=0;S--){var I=this._order[S];if(g(I)){x[I]=S;for(var L=0,j=u;L<j.length;L+=1){var W=j[L][I];if(W)for(var G=0,ae=W;G<ae.length;G+=1)w.push(ae[G])}}}w.sort(function(Ge,Ze){return Ze.intersectionZ-Ge.intersectionZ});for(var ie=[],pe=this._order.length-1;pe>=0;pe--){var te=this._order[pe];if(g(te))for(var ce=w.length-1;ce>=0;ce--){var ge=w[ce].feature;if(x[ge.layer.id]<pe)break;ie.push(ge),w.pop()}else for(var we=0,Ae=u;we<Ae.length;we+=1){var ke=Ae[we][te];if(ke)for(var Re=0,Be=ke;Re<Be.length;Re+=1)ie.push(Be[Re].feature)}}return ie},c.prototype.queryRenderedFeatures=function(u,f,g){f&&f.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",f.filter,null,f);var x={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var w=0,S=f.layers;w<S.length;w+=1){var I=S[w],L=this._layers[I];if(!L)return this.fire(new s.ErrorEvent(new Error("The layer '"+I+"' does not exist in the map's style and cannot be queried for features."))),[];x[L.source]=!0}}var j=[];for(var W in f.availableImages=this._availableImages,this.sourceCaches)f.layers&&!x[W]||j.push(jt(this.sourceCaches[W],this._layers,this._serializedLayers,u,f,g));return this.placement&&j.push(function(G,ae,ie,pe,te,ce,ge){for(var we={},Ae=ce.queryRenderedSymbols(pe),ke=[],Re=0,Be=Object.keys(Ae).map(Number);Re<Be.length;Re+=1)ke.push(ge[Be[Re]]);ke.sort(Yt);for(var Ge=function(){var Mt=lt[Ze],yn=Mt.featureIndex.lookupSymbolFeatures(Ae[Mt.bucketInstanceId],ae,Mt.bucketIndex,Mt.sourceLayerIndex,te.filter,te.layers,te.availableImages,G);for(var pt in yn){var Vt=we[pt]=we[pt]||[],Jt=yn[pt];Jt.sort(function(Kt,Dt){var Lt=Mt.featureSortOrder;if(Lt){var Wr=Lt.indexOf(Kt.featureIndex);return Lt.indexOf(Dt.featureIndex)-Wr}return Dt.featureIndex-Kt.featureIndex});for(var Ut=0,Bt=Jt;Ut<Bt.length;Ut+=1)Vt.push(Bt[Ut])}},Ze=0,lt=ke;Ze<lt.length;Ze+=1)Ge();var Ct=function(Mt){we[Mt].forEach(function(yn){var pt=yn.feature,Vt=ie[G[Mt].source].getFeatureState(pt.layer["source-layer"],pt.id);pt.source=pt.layer.source,pt.layer["source-layer"]&&(pt.sourceLayer=pt.layer["source-layer"]),pt.state=Vt})};for(var At in we)Ct(At);return we}(this._layers,this._serializedLayers,this.sourceCaches,u,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(j)},c.prototype.querySourceFeatures=function(u,f){f&&f.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",f.filter,null,f);var g=this.sourceCaches[u];return g?function(x,w){for(var S=x.getRenderableIds().map(function(ae){return x.getTileByID(ae)}),I=[],L={},j=0;j<S.length;j++){var W=S[j],G=W.tileID.canonical.key;L[G]||(L[G]=!0,W.querySourceFeatures(I,w))}return I}(g,f):[]},c.prototype.addSourceType=function(u,f,g){return c.getSourceType(u)?g(new Error('A source type called "'+u+'" already exists.')):(c.setSourceType(u,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:u,url:f.workerSourceURL},g):g(null,null))},c.prototype.getLight=function(){return this.light.getLight()},c.prototype.setLight=function(u,f){f===void 0&&(f={}),this._checkLoaded();var g=this.light.getLight(),x=!1;for(var w in u)if(!s.deepEqual(u[w],g[w])){x=!0;break}if(x){var S={now:s.browser.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,f),this.light.updateTransitions(S)}},c.prototype._validate=function(u,f,g,x,w){return w===void 0&&(w={}),(!w||w.validate!==!1)&&us(this,u.call(s.validateStyle,s.extend({key:f,style:this.serialize(),value:g,styleSpec:s.styleSpec},x)))},c.prototype._remove=function(){for(var u in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[u].setEventedParent(null);for(var f in this.sourceCaches)this.sourceCaches[f].clearTiles(),this.sourceCaches[f].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},c.prototype._clearSource=function(u){this.sourceCaches[u].clearTiles()},c.prototype._reloadSource=function(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()},c.prototype._updateSources=function(u){for(var f in this.sourceCaches)this.sourceCaches[f].update(u)},c.prototype._generateCollisionBoxes=function(){for(var u in this.sourceCaches)this._reloadSource(u)},c.prototype._updatePlacement=function(u,f,g,x,w){w===void 0&&(w=!1);for(var S=!1,I=!1,L={},j=0,W=this._order;j<W.length;j+=1){var G=this._layers[W[j]];if(G.type==="symbol"){if(!L[G.source]){var ae=this.sourceCaches[G.source];L[G.source]=ae.getRenderableIds(!0).map(function(ge){return ae.getTileByID(ge)}).sort(function(ge,we){return we.tileID.overscaledZ-ge.tileID.overscaledZ||(ge.tileID.isLessThan(we.tileID)?-1:1)})}var ie=this.crossTileSymbolIndex.addLayer(G,L[G.source],u.center.lng);S=S||ie}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((w=w||this._layerOrderChanged||g===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.browser.now(),u.zoom))&&(this.pauseablePlacement=new Dl(u,this._order,w,f,g,x,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,L),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.browser.now()),I=!0),S&&this.pauseablePlacement.placement.setStale()),I||S)for(var pe=0,te=this._order;pe<te.length;pe+=1){var ce=this._layers[te[pe]];ce.type==="symbol"&&this.placement.updateLayerOpacities(ce,L[ce.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.browser.now())},c.prototype._releaseSymbolFadeTiles=function(){for(var u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()},c.prototype.getImages=function(u,f,g){this.imageManager.getImages(f.icons,g),this._updateTilesForChangedImages();var x=this.sourceCaches[f.source];x&&x.setDependencies(f.tileID.key,f.type,f.icons)},c.prototype.getGlyphs=function(u,f,g){this.glyphManager.getGlyphs(f.stacks,g)},c.prototype.getResource=function(u,f,g){return s.makeRequest(f,g)},c}(s.Evented);ji.getSourceType=function(l){return cn[l]},ji.setSourceType=function(l,c){cn[l]=c},ji.registerForPluginStateChange=s.registerForPluginStateChange;var kr=s.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ws=Ln(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),ud=Ln(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),mg=Ln(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),yg=Ln(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Rp=Ln("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Lp=Ln(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Op=Ln(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Dp=Ln("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),cd=Ln("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),pd=Ln("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),gg=Ln(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Fl=Ln(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Bl=Ln(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),hd=Ln(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),ci=Ln(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Fp=Ln(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Ma=Ln(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Aa=Ln(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cs=Ln(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),ps=Ln(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),za=Ln(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),hs=Ln(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),fs=Ln(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Ra=Ln(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),fd=Ln(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),dd=Ln(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Ln(l,c){var u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=c.match(/attribute ([\w]+) ([\w]+)/g),g=l.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=x?x.concat(g):g,S={};return{fragmentSource:l=l.replace(u,function(I,L,j,W,G){return S[G]=!0,L==="define"?`
#ifndef HAS_UNIFORM_u_`+G+`
varying `+j+" "+W+" "+G+`;
#else
uniform `+j+" "+W+" u_"+G+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+G+`
    `+j+" "+W+" "+G+" = u_"+G+`;
#endif
`}),vertexSource:c=c.replace(u,function(I,L,j,W,G){var ae=W==="float"?"vec2":"vec4",ie=G.match(/color/)?"color":ae;return S[G]?L==="define"?`
#ifndef HAS_UNIFORM_u_`+G+`
uniform lowp float u_`+G+`_t;
attribute `+j+" "+ae+" a_"+G+`;
varying `+j+" "+W+" "+G+`;
#else
uniform `+j+" "+W+" u_"+G+`;
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_`+G+`
    `+G+" = a_"+G+`;
#else
    `+j+" "+W+" "+G+" = u_"+G+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+G+`
    `+G+" = unpack_mix_"+ie+"(a_"+G+", u_"+G+`_t);
#else
    `+j+" "+W+" "+G+" = u_"+G+`;
#endif
`:L==="define"?`
#ifndef HAS_UNIFORM_u_`+G+`
uniform lowp float u_`+G+`_t;
attribute `+j+" "+ae+" a_"+G+`;
#else
uniform `+j+" "+W+" u_"+G+`;
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_`+G+`
    `+j+" "+W+" "+G+" = a_"+G+`;
#else
    `+j+" "+W+" "+G+" = u_"+G+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+G+`
    `+j+" "+W+" "+G+" = unpack_mix_"+ie+"(a_"+G+", u_"+G+`_t);
#else
    `+j+" "+W+" "+G+" = u_"+G+`;
#endif
`}),staticAttributes:f,staticUniforms:w}}var vg=Object.freeze({__proto__:null,prelude:Ws,background:ud,backgroundPattern:mg,circle:yg,clippingMask:Rp,heatmap:Lp,heatmapTexture:Op,collisionBox:Dp,collisionCircle:cd,debug:pd,fill:gg,fillOutline:Fl,fillOutlinePattern:Bl,fillPattern:hd,fillExtrusion:ci,fillExtrusionPattern:Fp,hillshadePrepare:Ma,hillshade:Aa,line:cs,lineGradient:ps,linePattern:za,lineSDF:hs,raster:fs,symbolIcon:Ra,symbolSDF:fd,symbolTextAndIcon:dd}),Bu=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function md(l){for(var c=[],u=0;u<l.length;u++)if(l[u]!==null){var f=l[u].split(" ");c.push(f.pop())}return c}Bu.prototype.bind=function(l,c,u,f,g,x,w,S){this.context=l;for(var I=this.boundPaintVertexBuffers.length!==f.length,L=0;!I&&L<f.length;L++)this.boundPaintVertexBuffers[L]!==f[L]&&(I=!0);l.extVertexArrayObject&&this.vao&&this.boundProgram===c&&this.boundLayoutVertexBuffer===u&&!I&&this.boundIndexBuffer===g&&this.boundVertexOffset===x&&this.boundDynamicVertexBuffer===w&&this.boundDynamicVertexBuffer2===S?(l.bindVertexArrayOES.set(this.vao),w&&w.bind(),g&&g.dynamicDraw&&g.bind(),S&&S.bind()):this.freshBind(c,u,f,g,x,w,S)},Bu.prototype.freshBind=function(l,c,u,f,g,x,w){var S,I=l.numAttributes,L=this.context,j=L.gl;if(L.extVertexArrayObject)this.vao&&this.destroy(),this.vao=L.extVertexArrayObject.createVertexArrayOES(),L.bindVertexArrayOES.set(this.vao),S=0,this.boundProgram=l,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=u,this.boundIndexBuffer=f,this.boundVertexOffset=g,this.boundDynamicVertexBuffer=x,this.boundDynamicVertexBuffer2=w;else{S=L.currentNumAttributes||0;for(var W=I;W<S;W++)j.disableVertexAttribArray(W)}c.enableAttributes(j,l);for(var G=0,ae=u;G<ae.length;G+=1)ae[G].enableAttributes(j,l);x&&x.enableAttributes(j,l),w&&w.enableAttributes(j,l),c.bind(),c.setVertexAttribPointers(j,l,g);for(var ie=0,pe=u;ie<pe.length;ie+=1){var te=pe[ie];te.bind(),te.setVertexAttribPointers(j,l,g)}x&&(x.bind(),x.setVertexAttribPointers(j,l,g)),f&&f.bind(),w&&(w.bind(),w.setVertexAttribPointers(j,l,g)),L.currentNumAttributes=I},Bu.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var yd=function(l,c,u,f,g,x){var w=l.gl;this.program=w.createProgram();for(var S=md(u.staticAttributes),I=f?f.getBinderAttributes():[],L=S.concat(I),j=u.staticUniforms?md(u.staticUniforms):[],W=f?f.getBinderUniforms():[],G=[],ae=0,ie=j.concat(W);ae<ie.length;ae+=1){var pe=ie[ae];G.indexOf(pe)<0&&G.push(pe)}var te=f?f.defines():[];x&&te.push("#define OVERDRAW_INSPECTOR;");var ce=te.concat(Ws.fragmentSource,u.fragmentSource).join(`
`),ge=te.concat(Ws.vertexSource,u.vertexSource).join(`
`),we=w.createShader(w.FRAGMENT_SHADER);if(w.isContextLost())this.failedToCreate=!0;else{w.shaderSource(we,ce),w.compileShader(we),w.attachShader(this.program,we);var Ae=w.createShader(w.VERTEX_SHADER);if(w.isContextLost())this.failedToCreate=!0;else{w.shaderSource(Ae,ge),w.compileShader(Ae),w.attachShader(this.program,Ae),this.attributes={};var ke={};this.numAttributes=L.length;for(var Re=0;Re<this.numAttributes;Re++)L[Re]&&(w.bindAttribLocation(this.program,Re,L[Re]),this.attributes[L[Re]]=Re);w.linkProgram(this.program),w.deleteShader(Ae),w.deleteShader(we);for(var Be=0;Be<G.length;Be++){var Ge=G[Be];if(Ge&&!ke[Ge]){var Ze=w.getUniformLocation(this.program,Ge);Ze&&(ke[Ge]=Ze)}}this.fixedUniforms=g(l,ke),this.binderUniforms=f?f.getUniforms(l,ke):[]}}};function gd(l,c,u){var f=1/Nn(u,1,c.transform.tileZoom),g=Math.pow(2,u.tileID.overscaledZ),x=u.tileSize*Math.pow(2,c.transform.tileZoom)/g,w=x*(u.tileID.canonical.x+u.tileID.wrap*g),S=x*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[f,l.fromScale,l.toScale],u_fade:l.t,u_pixel_coord_upper:[w>>16,S>>16],u_pixel_coord_lower:[65535&w,65535&S]}}yd.prototype.draw=function(l,c,u,f,g,x,w,S,I,L,j,W,G,ae,ie,pe){var te,ce=l.gl;if(!this.failedToCreate){for(var ge in l.program.set(this.program),l.setDepthMode(u),l.setStencilMode(f),l.setColorMode(g),l.setCullFace(x),this.fixedUniforms)this.fixedUniforms[ge].set(w[ge]);ae&&ae.setUniforms(l,this.binderUniforms,W,{zoom:G});for(var we=(te={},te[ce.LINES]=2,te[ce.TRIANGLES]=3,te[ce.LINE_STRIP]=1,te)[c],Ae=0,ke=j.get();Ae<ke.length;Ae+=1){var Re=ke[Ae],Be=Re.vaos||(Re.vaos={});(Be[S]||(Be[S]=new Bu)).bind(l,this,I,ae?ae.getPaintVertexBuffers():[],L,Re.vertexOffset,ie,pe),ce.drawElements(c,Re.primitiveLength*we,ce.UNSIGNED_SHORT,Re.primitiveOffset*we*2)}}};var vd=function(l,c,u,f){var g=c.style.light,x=g.properties.get("position"),w=[x.x,x.y,x.z],S=s.create$1();g.properties.get("anchor")==="viewport"&&s.fromRotation(S,-c.transform.angle),s.transformMat3(w,w,S);var I=g.properties.get("color");return{u_matrix:l,u_lightpos:w,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[I.r,I.g,I.b],u_vertical_gradient:+u,u_opacity:f}},ds=function(l,c,u,f,g,x,w){return s.extend(vd(l,c,u,f),gd(x,c,w),{u_height_factor:-Math.pow(2,g.overscaledZ)/w.tileSize/8})},La=function(l){return{u_matrix:l}},ms=function(l,c,u,f){return s.extend(La(l),gd(u,c,f))},_d=function(l,c){return{u_matrix:l,u_world:c}},xd=function(l,c,u,f,g){return s.extend(ms(l,c,u,f),{u_world:g})},Bp=function(l,c,u,f){var g,x,w=l.transform;if(f.paint.get("circle-pitch-alignment")==="map"){var S=Nn(u,1,w.zoom);g=!0,x=[S,S]}else g=!1,x=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_matrix:l.translatePosMatrix(c.posMatrix,u,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_pitch_with_map:+g,u_device_pixel_ratio:s.browser.devicePixelRatio,u_extrude_scale:x}},ys=function(l,c,u){var f=Nn(u,1,c.zoom),g=Math.pow(2,c.zoom-u.tileID.overscaledZ),x=u.tileID.overscaleFactor();return{u_matrix:l,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:f,u_extrude_scale:[c.pixelsToGLUnits[0]/(f*g),c.pixelsToGLUnits[1]/(f*g)],u_overscale_factor:x}},bd=function(l,c,u){return{u_matrix:l,u_inv_matrix:c,u_camera_to_center_distance:u.cameraToCenterDistance,u_viewport_size:[u.width,u.height]}},gs=function(l,c,u){return u===void 0&&(u=1),{u_matrix:l,u_color:c,u_overlay:0,u_overlay_scale:u}},vs=function(l){return{u_matrix:l}},wd=function(l,c,u,f){return{u_matrix:l,u_extrude_scale:Nn(c,1,u),u_intensity:f}},Nl=function(l,c,u){var f=l.transform;return{u_matrix:Ed(l,c,u),u_ratio:1/Nn(c,1,f.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},Un=function(l,c,u,f){return s.extend(Nl(l,c,u),{u_image:0,u_image_height:f})},Nu=function(l,c,u,f){var g=l.transform,x=Zs(c,g);return{u_matrix:Ed(l,c,u),u_texsize:c.imageAtlasTexture.size,u_ratio:1/Nn(c,1,g.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_image:0,u_scale:[x,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},_g=function(l,c,u,f,g){var x=l.lineAtlas,w=Zs(c,l.transform),S=u.layout.get("line-cap")==="round",I=x.getDash(f.from,S),L=x.getDash(f.to,S),j=I.width*g.fromScale,W=L.width*g.toScale;return s.extend(Nl(l,c,u),{u_patternscale_a:[w/j,-I.height/2],u_patternscale_b:[w/W,-L.height/2],u_sdfgamma:x.width/(256*Math.min(j,W)*s.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:I.y,u_tex_y_b:L.y,u_mix:g.t})};function Zs(l,c){return 1/Nn(l,1,c.tileZoom)}function Ed(l,c,u){return l.translatePosMatrix(c.tileID.posMatrix,c,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}var xg=function(l,c,u,f,g){return{u_matrix:l,u_tl_parent:c,u_scale_parent:u,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(w=g.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(x=g.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:Sd(g.paint.get("raster-hue-rotate"))};var x,w};function Sd(l){l*=Math.PI/180;var c=Math.sin(l),u=Math.cos(l);return[(2*u+1)/3,(-Math.sqrt(3)*c-u+1)/3,(Math.sqrt(3)*c-u+1)/3]}var Uu,Gs=function(l,c,u,f,g,x,w,S,I,L){var j=g.transform;return{u_is_size_zoom_constant:+(l==="constant"||l==="source"),u_is_size_feature_constant:+(l==="constant"||l==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:j.cameraToCenterDistance,u_pitch:j.pitch/360*2*Math.PI,u_rotate_symbol:+u,u_aspect_ratio:j.width/j.height,u_fade_change:g.options.fadeDuration?g.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:w,u_coord_matrix:S,u_is_text:+I,u_pitch_with_map:+f,u_texsize:L,u_texture:0}},Ul=function(l,c,u,f,g,x,w,S,I,L,j){var W=g.transform;return s.extend(Gs(l,c,u,f,g,x,w,S,I,L),{u_gamma_scale:f?Math.cos(W._pitch)*W.cameraToCenterDistance:1,u_device_pixel_ratio:s.browser.devicePixelRatio,u_is_halo:+j})},Vu=function(l,c,u,f,g,x,w,S,I,L){return s.extend(Ul(l,c,u,f,g,x,w,S,!0,I,!0),{u_texsize_icon:L,u_texture_icon:1})},Vl=function(l,c,u){return{u_matrix:l,u_opacity:c,u_color:u}},Hs=function(l,c,u,f,g,x){return s.extend(function(w,S,I,L){var j=I.imageManager.getPattern(w.from.toString()),W=I.imageManager.getPattern(w.to.toString()),G=I.imageManager.getPixelSize(),ae=G.width,ie=G.height,pe=Math.pow(2,L.tileID.overscaledZ),te=L.tileSize*Math.pow(2,I.transform.tileZoom)/pe,ce=te*(L.tileID.canonical.x+L.tileID.wrap*pe),ge=te*L.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:j.tl,u_pattern_br_a:j.br,u_pattern_tl_b:W.tl,u_pattern_br_b:W.br,u_texsize:[ae,ie],u_mix:S.t,u_pattern_size_a:j.displaySize,u_pattern_size_b:W.displaySize,u_scale_a:S.fromScale,u_scale_b:S.toScale,u_tile_units_to_pixels:1/Nn(L,1,I.transform.tileZoom),u_pixel_coord_upper:[ce>>16,ge>>16],u_pixel_coord_lower:[65535&ce,65535&ge]}}(f,x,u,g),{u_matrix:l,u_opacity:c})},Td={fillExtrusion:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_lightpos:new s.Uniform3f(l,c.u_lightpos),u_lightintensity:new s.Uniform1f(l,c.u_lightintensity),u_lightcolor:new s.Uniform3f(l,c.u_lightcolor),u_vertical_gradient:new s.Uniform1f(l,c.u_vertical_gradient),u_opacity:new s.Uniform1f(l,c.u_opacity)}},fillExtrusionPattern:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_lightpos:new s.Uniform3f(l,c.u_lightpos),u_lightintensity:new s.Uniform1f(l,c.u_lightintensity),u_lightcolor:new s.Uniform3f(l,c.u_lightcolor),u_vertical_gradient:new s.Uniform1f(l,c.u_vertical_gradient),u_height_factor:new s.Uniform1f(l,c.u_height_factor),u_image:new s.Uniform1i(l,c.u_image),u_texsize:new s.Uniform2f(l,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(l,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(l,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(l,c.u_scale),u_fade:new s.Uniform1f(l,c.u_fade),u_opacity:new s.Uniform1f(l,c.u_opacity)}},fill:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix)}},fillPattern:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_image:new s.Uniform1i(l,c.u_image),u_texsize:new s.Uniform2f(l,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(l,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(l,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(l,c.u_scale),u_fade:new s.Uniform1f(l,c.u_fade)}},fillOutline:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_world:new s.Uniform2f(l,c.u_world)}},fillOutlinePattern:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_world:new s.Uniform2f(l,c.u_world),u_image:new s.Uniform1i(l,c.u_image),u_texsize:new s.Uniform2f(l,c.u_texsize),u_pixel_coord_upper:new s.Uniform2f(l,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(l,c.u_pixel_coord_lower),u_scale:new s.Uniform3f(l,c.u_scale),u_fade:new s.Uniform1f(l,c.u_fade)}},circle:function(l,c){return{u_camera_to_center_distance:new s.Uniform1f(l,c.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(l,c.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(l,c.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(l,c.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(l,c.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(l,c.u_matrix)}},collisionBox:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_camera_to_center_distance:new s.Uniform1f(l,c.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(l,c.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(l,c.u_extrude_scale),u_overscale_factor:new s.Uniform1f(l,c.u_overscale_factor)}},collisionCircle:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_inv_matrix:new s.UniformMatrix4f(l,c.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(l,c.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(l,c.u_viewport_size)}},debug:function(l,c){return{u_color:new s.UniformColor(l,c.u_color),u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_overlay:new s.Uniform1i(l,c.u_overlay),u_overlay_scale:new s.Uniform1f(l,c.u_overlay_scale)}},clippingMask:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix)}},heatmap:function(l,c){return{u_extrude_scale:new s.Uniform1f(l,c.u_extrude_scale),u_intensity:new s.Uniform1f(l,c.u_intensity),u_matrix:new s.UniformMatrix4f(l,c.u_matrix)}},heatmapTexture:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_world:new s.Uniform2f(l,c.u_world),u_image:new s.Uniform1i(l,c.u_image),u_color_ramp:new s.Uniform1i(l,c.u_color_ramp),u_opacity:new s.Uniform1f(l,c.u_opacity)}},hillshade:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_image:new s.Uniform1i(l,c.u_image),u_latrange:new s.Uniform2f(l,c.u_latrange),u_light:new s.Uniform2f(l,c.u_light),u_shadow:new s.UniformColor(l,c.u_shadow),u_highlight:new s.UniformColor(l,c.u_highlight),u_accent:new s.UniformColor(l,c.u_accent)}},hillshadePrepare:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_image:new s.Uniform1i(l,c.u_image),u_dimension:new s.Uniform2f(l,c.u_dimension),u_zoom:new s.Uniform1f(l,c.u_zoom),u_unpack:new s.Uniform4f(l,c.u_unpack)}},line:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_ratio:new s.Uniform1f(l,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(l,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(l,c.u_units_to_pixels)}},lineGradient:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_ratio:new s.Uniform1f(l,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(l,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(l,c.u_units_to_pixels),u_image:new s.Uniform1i(l,c.u_image),u_image_height:new s.Uniform1f(l,c.u_image_height)}},linePattern:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_texsize:new s.Uniform2f(l,c.u_texsize),u_ratio:new s.Uniform1f(l,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(l,c.u_device_pixel_ratio),u_image:new s.Uniform1i(l,c.u_image),u_units_to_pixels:new s.Uniform2f(l,c.u_units_to_pixels),u_scale:new s.Uniform3f(l,c.u_scale),u_fade:new s.Uniform1f(l,c.u_fade)}},lineSDF:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_ratio:new s.Uniform1f(l,c.u_ratio),u_device_pixel_ratio:new s.Uniform1f(l,c.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(l,c.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(l,c.u_patternscale_a),u_patternscale_b:new s.Uniform2f(l,c.u_patternscale_b),u_sdfgamma:new s.Uniform1f(l,c.u_sdfgamma),u_image:new s.Uniform1i(l,c.u_image),u_tex_y_a:new s.Uniform1f(l,c.u_tex_y_a),u_tex_y_b:new s.Uniform1f(l,c.u_tex_y_b),u_mix:new s.Uniform1f(l,c.u_mix)}},raster:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_tl_parent:new s.Uniform2f(l,c.u_tl_parent),u_scale_parent:new s.Uniform1f(l,c.u_scale_parent),u_buffer_scale:new s.Uniform1f(l,c.u_buffer_scale),u_fade_t:new s.Uniform1f(l,c.u_fade_t),u_opacity:new s.Uniform1f(l,c.u_opacity),u_image0:new s.Uniform1i(l,c.u_image0),u_image1:new s.Uniform1i(l,c.u_image1),u_brightness_low:new s.Uniform1f(l,c.u_brightness_low),u_brightness_high:new s.Uniform1f(l,c.u_brightness_high),u_saturation_factor:new s.Uniform1f(l,c.u_saturation_factor),u_contrast_factor:new s.Uniform1f(l,c.u_contrast_factor),u_spin_weights:new s.Uniform3f(l,c.u_spin_weights)}},symbolIcon:function(l,c){return{u_is_size_zoom_constant:new s.Uniform1i(l,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(l,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(l,c.u_size_t),u_size:new s.Uniform1f(l,c.u_size),u_camera_to_center_distance:new s.Uniform1f(l,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(l,c.u_pitch),u_rotate_symbol:new s.Uniform1i(l,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(l,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(l,c.u_fade_change),u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(l,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(l,c.u_coord_matrix),u_is_text:new s.Uniform1i(l,c.u_is_text),u_pitch_with_map:new s.Uniform1i(l,c.u_pitch_with_map),u_texsize:new s.Uniform2f(l,c.u_texsize),u_texture:new s.Uniform1i(l,c.u_texture)}},symbolSDF:function(l,c){return{u_is_size_zoom_constant:new s.Uniform1i(l,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(l,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(l,c.u_size_t),u_size:new s.Uniform1f(l,c.u_size),u_camera_to_center_distance:new s.Uniform1f(l,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(l,c.u_pitch),u_rotate_symbol:new s.Uniform1i(l,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(l,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(l,c.u_fade_change),u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(l,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(l,c.u_coord_matrix),u_is_text:new s.Uniform1i(l,c.u_is_text),u_pitch_with_map:new s.Uniform1i(l,c.u_pitch_with_map),u_texsize:new s.Uniform2f(l,c.u_texsize),u_texture:new s.Uniform1i(l,c.u_texture),u_gamma_scale:new s.Uniform1f(l,c.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(l,c.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(l,c.u_is_halo)}},symbolTextAndIcon:function(l,c){return{u_is_size_zoom_constant:new s.Uniform1i(l,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(l,c.u_is_size_feature_constant),u_size_t:new s.Uniform1f(l,c.u_size_t),u_size:new s.Uniform1f(l,c.u_size),u_camera_to_center_distance:new s.Uniform1f(l,c.u_camera_to_center_distance),u_pitch:new s.Uniform1f(l,c.u_pitch),u_rotate_symbol:new s.Uniform1i(l,c.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(l,c.u_aspect_ratio),u_fade_change:new s.Uniform1f(l,c.u_fade_change),u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(l,c.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(l,c.u_coord_matrix),u_is_text:new s.Uniform1i(l,c.u_is_text),u_pitch_with_map:new s.Uniform1i(l,c.u_pitch_with_map),u_texsize:new s.Uniform2f(l,c.u_texsize),u_texsize_icon:new s.Uniform2f(l,c.u_texsize_icon),u_texture:new s.Uniform1i(l,c.u_texture),u_texture_icon:new s.Uniform1i(l,c.u_texture_icon),u_gamma_scale:new s.Uniform1f(l,c.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(l,c.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(l,c.u_is_halo)}},background:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_opacity:new s.Uniform1f(l,c.u_opacity),u_color:new s.UniformColor(l,c.u_color)}},backgroundPattern:function(l,c){return{u_matrix:new s.UniformMatrix4f(l,c.u_matrix),u_opacity:new s.Uniform1f(l,c.u_opacity),u_image:new s.Uniform1i(l,c.u_image),u_pattern_tl_a:new s.Uniform2f(l,c.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(l,c.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(l,c.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(l,c.u_pattern_br_b),u_texsize:new s.Uniform2f(l,c.u_texsize),u_mix:new s.Uniform1f(l,c.u_mix),u_pattern_size_a:new s.Uniform2f(l,c.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(l,c.u_pattern_size_b),u_scale_a:new s.Uniform1f(l,c.u_scale_a),u_scale_b:new s.Uniform1f(l,c.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(l,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(l,c.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(l,c.u_tile_units_to_pixels)}}};function Xs(l,c,u,f,g,x,w){for(var S=l.context,I=S.gl,L=l.useProgram("collisionBox"),j=[],W=0,G=0,ae=0;ae<f.length;ae++){var ie=f[ae],pe=c.getTile(ie),te=pe.getBucket(u);if(te){var ce=ie.posMatrix;g[0]===0&&g[1]===0||(ce=l.translatePosMatrix(ie.posMatrix,pe,g,x));var ge=w?te.textCollisionBox:te.iconCollisionBox,we=te.collisionCircleArray;if(we.length>0){var Ae=s.create(),ke=ce;s.mul(Ae,te.placementInvProjMatrix,l.transform.glCoordMatrix),s.mul(Ae,Ae,te.placementViewportMatrix),j.push({circleArray:we,circleOffset:G,transform:ke,invTransform:Ae}),G=W+=we.length/4}ge&&L.draw(S,I.LINES,X.disabled,oe.disabled,l.colorModeForRenderPass(),ve.disabled,ys(ce,l.transform,pe),u.id,ge.layoutVertexBuffer,ge.indexBuffer,ge.segments,null,l.transform.zoom,null,null,ge.collisionVertexBuffer)}}if(w&&j.length){var Re=l.useProgram("collisionCircle"),Be=new s.StructArrayLayout2f1f2i16;Be.resize(4*W),Be._trim();for(var Ge=0,Ze=0,lt=j;Ze<lt.length;Ze+=1)for(var Ct=lt[Ze],At=0;At<Ct.circleArray.length/4;At++){var Mt=4*At,yn=Ct.circleArray[Mt+0],pt=Ct.circleArray[Mt+1],Vt=Ct.circleArray[Mt+2],Jt=Ct.circleArray[Mt+3];Be.emplace(Ge++,yn,pt,Vt,Jt,0),Be.emplace(Ge++,yn,pt,Vt,Jt,1),Be.emplace(Ge++,yn,pt,Vt,Jt,2),Be.emplace(Ge++,yn,pt,Vt,Jt,3)}(!Uu||Uu.length<2*W)&&(Uu=function(cr){var yi=2*cr,ni=new s.StructArrayLayout3ui6;ni.resize(yi),ni._trim();for(var ir=0;ir<yi;ir++){var _r=6*ir;ni.uint16[_r+0]=4*ir+0,ni.uint16[_r+1]=4*ir+1,ni.uint16[_r+2]=4*ir+2,ni.uint16[_r+3]=4*ir+2,ni.uint16[_r+4]=4*ir+3,ni.uint16[_r+5]=4*ir+0}return ni}(W));for(var Ut=S.createIndexBuffer(Uu,!0),Bt=S.createVertexBuffer(Be,s.collisionCircleLayout.members,!0),Kt=0,Dt=j;Kt<Dt.length;Kt+=1){var Lt=Dt[Kt],Wr=bd(Lt.transform,Lt.invTransform,l.transform);Re.draw(S,I.TRIANGLES,X.disabled,oe.disabled,l.colorModeForRenderPass(),ve.disabled,Wr,u.id,Bt,Ut,s.SegmentVector.simpleSegment(0,2*Lt.circleOffset,Lt.circleArray.length,Lt.circleArray.length/2),null,l.transform.zoom,null,null,null)}Bt.destroy(),Ut.destroy()}}var ko=s.identity(new Float32Array(16));function Cd(l,c,u,f,g,x){var w=s.getAnchorAlignment(l),S=-(w.horizontalAlign-.5)*c,I=-(w.verticalAlign-.5)*u,L=s.evaluateVariableOffset(l,f);return new s.Point((S/g+L[0])*x,(I/g+L[1])*x)}function Pd(l,c,u,f,g,x,w,S,I,L,j){var W=l.text.placedSymbolArray,G=l.text.dynamicLayoutVertexArray,ae=l.icon.dynamicLayoutVertexArray,ie={};G.clear();for(var pe=0;pe<W.length;pe++){var te=W.get(pe),ce=te.hidden||!te.crossTileID||l.allowVerticalPlacement&&!te.placedOrientation?null:f[te.crossTileID];if(ce){var ge=new s.Point(te.anchorX,te.anchorY),we=Zt(ge,u?S:w),Ae=tn(x.cameraToCenterDistance,we.signedDistanceFromCamera),ke=g.evaluateSizeForFeature(l.textSizeData,L,te)*Ae/s.ONE_EM;u&&(ke*=l.tilePixelRatio/I);for(var Re=Cd(ce.anchor,ce.width,ce.height,ce.textOffset,ce.textBoxScale,ke),Be=u?Zt(ge.add(Re),w).point:we.point.add(c?Re.rotate(-x.angle):Re),Ge=l.allowVerticalPlacement&&te.placedOrientation===s.WritingMode.vertical?Math.PI/2:0,Ze=0;Ze<te.numGlyphs;Ze++)s.addDynamicAttributes(G,Be,Ge);j&&te.associatedIconIndex>=0&&(ie[te.associatedIconIndex]={shiftedAnchor:Be,angle:Ge})}else qr(te.numGlyphs,G)}if(j){ae.clear();for(var lt=l.icon.placedSymbolArray,Ct=0;Ct<lt.length;Ct++){var At=lt.get(Ct);if(At.hidden)qr(At.numGlyphs,ae);else{var Mt=ie[Ct];if(Mt)for(var yn=0;yn<At.numGlyphs;yn++)s.addDynamicAttributes(ae,Mt.shiftedAnchor,Mt.angle);else qr(At.numGlyphs,ae)}}l.icon.dynamicLayoutVertexBuffer.updateData(ae)}l.text.dynamicLayoutVertexBuffer.updateData(G)}function Id(l,c,u){return u.iconsInText&&c?"symbolTextAndIcon":l?"symbolSDF":"symbolIcon"}function _s(l,c,u,f,g,x,w,S,I,L,j,W){for(var G=l.context,ae=G.gl,ie=l.transform,pe=S==="map",te=I==="map",ce=pe&&u.layout.get("symbol-placement")!=="point",ge=pe&&!te&&!ce,we=u.layout.get("symbol-sort-key").constantOr(1)!==void 0,Ae=!1,ke=l.depthModeForSublayer(0,X.ReadOnly),Re=u.layout.get("text-variable-anchor"),Be=[],Ge=0,Ze=f;Ge<Ze.length;Ge+=1){var lt=Ze[Ge],Ct=c.getTile(lt),At=Ct.getBucket(u);if(At){var Mt=g?At.text:At.icon;if(Mt&&Mt.segments.get().length){var yn=Mt.programConfigurations.get(u.id),pt=g||At.sdfIcons,Vt=g?At.textSizeData:At.iconSizeData,Jt=te||ie.pitch!==0,Ut=l.useProgram(Id(pt,g,At),yn),Bt=s.evaluateSizeForZoom(Vt,ie.zoom),Kt=void 0,Dt=[0,0],Lt=void 0,Wr=void 0,cr=null,yi=void 0;if(g)Lt=Ct.glyphAtlasTexture,Wr=ae.LINEAR,Kt=Ct.glyphAtlasTexture.size,At.iconsInText&&(Dt=Ct.imageAtlasTexture.size,cr=Ct.imageAtlasTexture,yi=Jt||l.options.rotating||l.options.zooming||Vt.kind==="composite"||Vt.kind==="camera"?ae.LINEAR:ae.NEAREST);else{var ni=u.layout.get("icon-size").constantOr(0)!==1||At.iconsNeedLinear;Lt=Ct.imageAtlasTexture,Wr=pt||l.options.rotating||l.options.zooming||ni||Jt?ae.LINEAR:ae.NEAREST,Kt=Ct.imageAtlasTexture.size}var ir=Nn(Ct,1,l.transform.zoom),_r=Mn(lt.posMatrix,te,pe,l.transform,ir),Hi=xn(lt.posMatrix,te,pe,l.transform,ir),wi=Re&&At.hasTextData(),Ua=u.layout.get("icon-text-fit")!=="none"&&wi&&At.hasIconData();ce&&Sa(At,lt.posMatrix,l,g,_r,Hi,te,L);var Mi=l.translatePosMatrix(lt.posMatrix,Ct,x,w),Lo=ce||g&&Re||Ua?ko:_r,vo=l.translatePosMatrix(Hi,Ct,x,w,!0),Ql=pt&&u.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0,tl={program:Ut,buffers:Mt,uniformValues:pt?At.iconsInText?Vu(Vt.kind,Bt,ge,te,l,Mi,Lo,vo,Kt,Dt):Ul(Vt.kind,Bt,ge,te,l,Mi,Lo,vo,g,Kt,!0):Gs(Vt.kind,Bt,ge,te,l,Mi,Lo,vo,g,Kt),atlasTexture:Lt,atlasTextureIcon:cr,atlasInterpolation:Wr,atlasInterpolationIcon:yi,isSDF:pt,hasHalo:Ql};if(we&&At.canOverlap){Ae=!0;for(var Va=0,nl=Mt.segments.get();Va<nl.length;Va+=1){var eu=nl[Va];Be.push({segments:new s.SegmentVector([eu]),sortKey:eu.sortKey,state:tl})}}else Be.push({segments:Mt.segments,sortKey:0,state:tl})}}}Ae&&Be.sort(function(ja,Ts){return ja.sortKey-Ts.sortKey});for(var Wo=0,tu=Be;Wo<tu.length;Wo+=1){var Zo=tu[Wo],Zr=Zo.state;if(G.activeTexture.set(ae.TEXTURE0),Zr.atlasTexture.bind(Zr.atlasInterpolation,ae.CLAMP_TO_EDGE),Zr.atlasTextureIcon&&(G.activeTexture.set(ae.TEXTURE1),Zr.atlasTextureIcon&&Zr.atlasTextureIcon.bind(Zr.atlasInterpolationIcon,ae.CLAMP_TO_EDGE)),Zr.isSDF){var fa=Zr.uniformValues;Zr.hasHalo&&(fa.u_is_halo=1,jl(Zr.buffers,Zo.segments,u,l,Zr.program,ke,j,W,fa)),fa.u_is_halo=0}jl(Zr.buffers,Zo.segments,u,l,Zr.program,ke,j,W,Zr.uniformValues)}}function jl(l,c,u,f,g,x,w,S,I){var L=f.context;g.draw(L,L.gl.TRIANGLES,x,w,S,ve.disabled,I,u.id,l.layoutVertexBuffer,l.indexBuffer,c,u.paint,f.transform.zoom,l.programConfigurations.get(u.id),l.dynamicLayoutVertexBuffer,l.opacityVertexBuffer)}function ju(l,c,u,f,g,x,w){var S,I,L,j,W,G=l.context.gl,ae=u.paint.get("fill-pattern"),ie=ae&&ae.constantOr(1),pe=u.getCrossfadeParameters();w?(I=ie&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",S=G.LINES):(I=ie?"fillPattern":"fill",S=G.TRIANGLES);for(var te=0,ce=f;te<ce.length;te+=1){var ge=ce[te],we=c.getTile(ge);if(!ie||we.patternsLoaded()){var Ae=we.getBucket(u);if(Ae){var ke=Ae.programConfigurations.get(u.id),Re=l.useProgram(I,ke);ie&&(l.context.activeTexture.set(G.TEXTURE0),we.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),ke.updatePaintBuffers(pe));var Be=ae.constantOr(null);if(Be&&we.imageAtlas){var Ge=we.imageAtlas,Ze=Ge.patternPositions[Be.to.toString()],lt=Ge.patternPositions[Be.from.toString()];Ze&&lt&&ke.setConstantPatternPositions(Ze,lt)}var Ct=l.translatePosMatrix(ge.posMatrix,we,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(w){j=Ae.indexBuffer2,W=Ae.segments2;var At=[G.drawingBufferWidth,G.drawingBufferHeight];L=I==="fillOutlinePattern"&&ie?xd(Ct,l,pe,we,At):_d(Ct,At)}else j=Ae.indexBuffer,W=Ae.segments,L=ie?ms(Ct,l,pe,we):La(Ct);Re.draw(l.context,S,g,l.stencilModeForClipping(ge),x,ve.disabled,L,u.id,Ae.layoutVertexBuffer,j,W,u.paint,l.transform.zoom,ke)}}}}function Np(l,c,u,f,g,x,w){for(var S=l.context,I=S.gl,L=u.paint.get("fill-extrusion-pattern"),j=L.constantOr(1),W=u.getCrossfadeParameters(),G=u.paint.get("fill-extrusion-opacity"),ae=0,ie=f;ae<ie.length;ae+=1){var pe=ie[ae],te=c.getTile(pe),ce=te.getBucket(u);if(ce){var ge=ce.programConfigurations.get(u.id),we=l.useProgram(j?"fillExtrusionPattern":"fillExtrusion",ge);j&&(l.context.activeTexture.set(I.TEXTURE0),te.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),ge.updatePaintBuffers(W));var Ae=L.constantOr(null);if(Ae&&te.imageAtlas){var ke=te.imageAtlas,Re=ke.patternPositions[Ae.to.toString()],Be=ke.patternPositions[Ae.from.toString()];Re&&Be&&ge.setConstantPatternPositions(Re,Be)}var Ge=l.translatePosMatrix(pe.posMatrix,te,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Ze=u.paint.get("fill-extrusion-vertical-gradient"),lt=j?ds(Ge,l,Ze,G,pe,W,te):vd(Ge,l,Ze,G);we.draw(S,S.gl.TRIANGLES,g,x,w,ve.backCCW,lt,u.id,ce.layoutVertexBuffer,ce.indexBuffer,ce.segments,u.paint,l.transform.zoom,ge)}}}function $u(l,c,u,f,g,x){var w=l.context,S=w.gl,I=c.fbo;if(I){var L=l.useProgram("hillshade");w.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,I.colorAttachment.get());var j=function(W,G,ae){var ie=ae.paint.get("hillshade-shadow-color"),pe=ae.paint.get("hillshade-highlight-color"),te=ae.paint.get("hillshade-accent-color"),ce=ae.paint.get("hillshade-illumination-direction")*(Math.PI/180);ae.paint.get("hillshade-illumination-anchor")==="viewport"&&(ce-=W.transform.angle);var ge,we,Ae,ke=!W.options.moving;return{u_matrix:W.transform.calculatePosMatrix(G.tileID.toUnwrapped(),ke),u_image:0,u_latrange:(ge=G.tileID,we=Math.pow(2,ge.canonical.z),Ae=ge.canonical.y,[new s.MercatorCoordinate(0,Ae/we).toLngLat().lat,new s.MercatorCoordinate(0,(Ae+1)/we).toLngLat().lat]),u_light:[ae.paint.get("hillshade-exaggeration"),ce],u_shadow:ie,u_highlight:pe,u_accent:te}}(l,c,u);L.draw(w,S.TRIANGLES,f,g,x,ve.disabled,j,u.id,l.rasterBoundsBuffer,l.quadTriangleIndexBuffer,l.rasterBoundsSegments)}}function bg(l,c,u,f,g,x){var w=l.context,S=w.gl,I=c.dem;if(I&&I.data){var L=I.dim,j=I.stride,W=I.getPixels();if(w.activeTexture.set(S.TEXTURE1),w.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||l.getTileTexture(j),c.demTexture){var G=c.demTexture;G.update(W,{premultiply:!1}),G.bind(S.NEAREST,S.CLAMP_TO_EDGE)}else c.demTexture=new s.Texture(w,W,S.RGBA,{premultiply:!1}),c.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE);w.activeTexture.set(S.TEXTURE0);var ae=c.fbo;if(!ae){var ie=new s.Texture(w,{width:L,height:L,data:null},S.RGBA);ie.bind(S.LINEAR,S.CLAMP_TO_EDGE),(ae=c.fbo=w.createFramebuffer(L,L,!0)).colorAttachment.set(ie.texture)}w.bindFramebuffer.set(ae.framebuffer),w.viewport.set([0,0,L,L]),l.useProgram("hillshadePrepare").draw(w,S.TRIANGLES,f,g,x,ve.disabled,function(pe,te){var ce=te.stride,ge=s.create();return s.ortho(ge,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(ge,ge,[0,-s.EXTENT,0]),{u_matrix:ge,u_image:1,u_dimension:[ce,ce],u_zoom:pe.overscaledZ,u_unpack:te.getUnpackVector()}}(c.tileID,I),u.id,l.rasterBoundsBuffer,l.quadTriangleIndexBuffer,l.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function qu(l,c,u,f,g){var x=f.paint.get("raster-fade-duration");if(x>0){var w=s.browser.now(),S=(w-l.timeAdded)/x,I=c?(w-c.timeAdded)/x:-1,L=u.getSource(),j=g.coveringZoomLevel({tileSize:L.tileSize,roundZoom:L.roundZoom}),W=!c||Math.abs(c.tileID.overscaledZ-j)>Math.abs(l.tileID.overscaledZ-j),G=W&&l.refreshedUponExpiration?1:s.clamp(W?S:1-I,0,1);return l.refreshedUponExpiration&&S>=1&&(l.refreshedUponExpiration=!1),c?{opacity:1,mix:1-G}:{opacity:G,mix:0}}return{opacity:1,mix:0}}var Up=new s.Color(1,0,0,1),kd=new s.Color(0,1,0,1),Md=new s.Color(0,0,1,1),Wu=new s.Color(1,0,1,1),Vp=new s.Color(0,1,1,1);function jp(l,c,u,f){$l(l,0,c+u/2,l.transform.width,u,f)}function $p(l,c,u,f){$l(l,c-u/2,0,u,l.transform.height,f)}function $l(l,c,u,f,g,x){var w=l.context,S=w.gl;S.enable(S.SCISSOR_TEST),S.scissor(c*s.browser.devicePixelRatio,u*s.browser.devicePixelRatio,f*s.browser.devicePixelRatio,g*s.browser.devicePixelRatio),w.clear({color:x}),S.disable(S.SCISSOR_TEST)}function Ad(l,c,u){var f=l.context,g=f.gl,x=u.posMatrix,w=l.useProgram("debug"),S=X.disabled,I=oe.disabled,L=l.colorModeForRenderPass();f.activeTexture.set(g.TEXTURE0),l.emptyTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),w.draw(f,g.LINE_STRIP,S,I,L,ve.disabled,gs(x,s.Color.red),"$debug",l.debugBuffer,l.tileBorderIndexBuffer,l.debugSegments);var j=c.getTileByID(u.key).latestRawTileData,W=Math.floor((j&&j.byteLength||0)/1024),G=c.getTile(u).tileSize,ae=512/Math.min(G,512)*(u.overscaledZ/l.transform.zoom)*.5,ie=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(ie+=" => "+u.overscaledZ),function(pe,te){pe.initDebugOverlayCanvas();var ce=pe.debugOverlayCanvas,ge=pe.context.gl,we=pe.debugOverlayCanvas.getContext("2d");we.clearRect(0,0,ce.width,ce.height),we.shadowColor="white",we.shadowBlur=2,we.lineWidth=1.5,we.strokeStyle="white",we.textBaseline="top",we.font="bold 36px Open Sans, sans-serif",we.fillText(te,5,5),we.strokeText(te,5,5),pe.debugOverlayTexture.update(ce),pe.debugOverlayTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE)}(l,ie+" "+W+"kb"),w.draw(f,g.TRIANGLES,S,I,de.alphaBlended,ve.disabled,gs(x,s.Color.transparent,ae),"$debug",l.debugBuffer,l.quadTriangleIndexBuffer,l.debugSegments)}var xs={symbol:function(l,c,u,f,g){if(l.renderPass==="translucent"){var x=oe.disabled,w=l.colorModeForRenderPass();u.layout.get("text-variable-anchor")&&function(S,I,L,j,W,G,ae){for(var ie=I.transform,pe=W==="map",te=G==="map",ce=0,ge=S;ce<ge.length;ce+=1){var we=ge[ce],Ae=j.getTile(we),ke=Ae.getBucket(L);if(ke&&ke.text&&ke.text.segments.get().length){var Re=s.evaluateSizeForZoom(ke.textSizeData,ie.zoom),Be=Nn(Ae,1,I.transform.zoom),Ge=Mn(we.posMatrix,te,pe,I.transform,Be),Ze=L.layout.get("icon-text-fit")!=="none"&&ke.hasIconData();if(Re){var lt=Math.pow(2,ie.zoom-Ae.tileID.overscaledZ);Pd(ke,pe,te,ae,s.symbolSize,ie,Ge,we.posMatrix,lt,Re,Ze)}}}}(f,l,u,c,u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),g),u.paint.get("icon-opacity").constantOr(1)!==0&&_s(l,c,u,f,!1,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),u.layout.get("icon-rotation-alignment"),u.layout.get("icon-pitch-alignment"),u.layout.get("icon-keep-upright"),x,w),u.paint.get("text-opacity").constantOr(1)!==0&&_s(l,c,u,f,!0,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),u.layout.get("text-keep-upright"),x,w),c.map.showCollisionBoxes&&(Xs(l,c,u,f,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),!0),Xs(l,c,u,f,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),!1))}},circle:function(l,c,u,f){if(l.renderPass==="translucent"){var g=u.paint.get("circle-opacity"),x=u.paint.get("circle-stroke-width"),w=u.paint.get("circle-stroke-opacity"),S=u.layout.get("circle-sort-key").constantOr(1)!==void 0;if(g.constantOr(1)!==0||x.constantOr(1)!==0&&w.constantOr(1)!==0){for(var I=l.context,L=I.gl,j=l.depthModeForSublayer(0,X.ReadOnly),W=oe.disabled,G=l.colorModeForRenderPass(),ae=[],ie=0;ie<f.length;ie++){var pe=f[ie],te=c.getTile(pe),ce=te.getBucket(u);if(ce){var ge=ce.programConfigurations.get(u.id),we={programConfiguration:ge,program:l.useProgram("circle",ge),layoutVertexBuffer:ce.layoutVertexBuffer,indexBuffer:ce.indexBuffer,uniformValues:Bp(l,pe,te,u)};if(S)for(var Ae=0,ke=ce.segments.get();Ae<ke.length;Ae+=1){var Re=ke[Ae];ae.push({segments:new s.SegmentVector([Re]),sortKey:Re.sortKey,state:we})}else ae.push({segments:ce.segments,sortKey:0,state:we})}}S&&ae.sort(function(Ct,At){return Ct.sortKey-At.sortKey});for(var Be=0,Ge=ae;Be<Ge.length;Be+=1){var Ze=Ge[Be],lt=Ze.state;lt.program.draw(I,L.TRIANGLES,j,W,G,ve.disabled,lt.uniformValues,u.id,lt.layoutVertexBuffer,lt.indexBuffer,Ze.segments,u.paint,l.transform.zoom,lt.programConfiguration)}}}},heatmap:function(l,c,u,f){if(u.paint.get("heatmap-opacity")!==0)if(l.renderPass==="offscreen"){var g=l.context,x=g.gl,w=oe.disabled,S=new de([x.ONE,x.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(ae,ie,pe){var te=ae.gl;ae.activeTexture.set(te.TEXTURE1),ae.viewport.set([0,0,ie.width/4,ie.height/4]);var ce=pe.heatmapFbo;if(ce)te.bindTexture(te.TEXTURE_2D,ce.colorAttachment.get()),ae.bindFramebuffer.set(ce.framebuffer);else{var ge=te.createTexture();te.bindTexture(te.TEXTURE_2D,ge),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),ce=pe.heatmapFbo=ae.createFramebuffer(ie.width/4,ie.height/4,!1),function(we,Ae,ke,Re){var Be=we.gl;Be.texImage2D(Be.TEXTURE_2D,0,Be.RGBA,Ae.width/4,Ae.height/4,0,Be.RGBA,we.extRenderToTextureHalfFloat?we.extTextureHalfFloat.HALF_FLOAT_OES:Be.UNSIGNED_BYTE,null),Re.colorAttachment.set(ke)}(ae,ie,ge,ce)}})(g,l,u),g.clear({color:s.Color.transparent});for(var I=0;I<f.length;I++){var L=f[I];if(!c.hasRenderableParent(L)){var j=c.getTile(L),W=j.getBucket(u);if(W){var G=W.programConfigurations.get(u.id);l.useProgram("heatmap",G).draw(g,x.TRIANGLES,X.disabled,w,S,ve.disabled,wd(L.posMatrix,j,l.transform.zoom,u.paint.get("heatmap-intensity")),u.id,W.layoutVertexBuffer,W.indexBuffer,W.segments,u.paint,l.transform.zoom,G)}}}g.viewport.set([0,0,l.width,l.height])}else l.renderPass==="translucent"&&(l.context.setColorMode(l.colorModeForRenderPass()),function(ae,ie){var pe=ae.context,te=pe.gl,ce=ie.heatmapFbo;if(ce){pe.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,ce.colorAttachment.get()),pe.activeTexture.set(te.TEXTURE1);var ge=ie.colorRampTexture;ge||(ge=ie.colorRampTexture=new s.Texture(pe,ie.colorRamp,te.RGBA)),ge.bind(te.LINEAR,te.CLAMP_TO_EDGE),ae.useProgram("heatmapTexture").draw(pe,te.TRIANGLES,X.disabled,oe.disabled,ae.colorModeForRenderPass(),ve.disabled,function(we,Ae,ke,Re){var Be=s.create();s.ortho(Be,0,we.width,we.height,0,0,1);var Ge=we.context.gl;return{u_matrix:Be,u_world:[Ge.drawingBufferWidth,Ge.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Ae.paint.get("heatmap-opacity")}}(ae,ie),ie.id,ae.viewportBuffer,ae.quadTriangleIndexBuffer,ae.viewportSegments,ie.paint,ae.transform.zoom)}}(l,u))},line:function(l,c,u,f){if(l.renderPass==="translucent"){var g=u.paint.get("line-opacity"),x=u.paint.get("line-width");if(g.constantOr(1)!==0&&x.constantOr(1)!==0)for(var w=l.depthModeForSublayer(0,X.ReadOnly),S=l.colorModeForRenderPass(),I=u.paint.get("line-dasharray"),L=u.paint.get("line-pattern"),j=L.constantOr(1),W=u.paint.get("line-gradient"),G=u.getCrossfadeParameters(),ae=j?"linePattern":I?"lineSDF":W?"lineGradient":"line",ie=l.context,pe=ie.gl,te=!0,ce=0,ge=f;ce<ge.length;ce+=1){var we=ge[ce],Ae=c.getTile(we);if(!j||Ae.patternsLoaded()){var ke=Ae.getBucket(u);if(ke){var Re=ke.programConfigurations.get(u.id),Be=l.context.program.get(),Ge=l.useProgram(ae,Re),Ze=te||Ge.program!==Be,lt=L.constantOr(null);if(lt&&Ae.imageAtlas){var Ct=Ae.imageAtlas,At=Ct.patternPositions[lt.to.toString()],Mt=Ct.patternPositions[lt.from.toString()];At&&Mt&&Re.setConstantPatternPositions(At,Mt)}var yn=j?Nu(l,Ae,u,G):I?_g(l,Ae,u,I,G):W?Un(l,Ae,u,ke.lineClipsArray.length):Nl(l,Ae,u);if(j)ie.activeTexture.set(pe.TEXTURE0),Ae.imageAtlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Re.updatePaintBuffers(G);else if(I&&(Ze||l.lineAtlas.dirty))ie.activeTexture.set(pe.TEXTURE0),l.lineAtlas.bind(ie);else if(W){var pt=ke.gradients[u.id],Vt=pt.texture;if(u.gradientVersion!==pt.version){var Jt=256;if(u.stepInterpolant){var Ut=c.getSource().maxzoom,Bt=we.canonical.z===Ut?Math.ceil(1<<l.transform.maxZoom-we.canonical.z):1;Jt=s.clamp(s.nextPowerOfTwo(ke.maxLineLength/s.EXTENT*1024*Bt),256,ie.maxTextureSize)}pt.gradient=s.renderColorRamp({expression:u.gradientExpression(),evaluationKey:"lineProgress",resolution:Jt,image:pt.gradient||void 0,clips:ke.lineClipsArray}),pt.texture?pt.texture.update(pt.gradient):pt.texture=new s.Texture(ie,pt.gradient,pe.RGBA),pt.version=u.gradientVersion,Vt=pt.texture}ie.activeTexture.set(pe.TEXTURE0),Vt.bind(u.stepInterpolant?pe.NEAREST:pe.LINEAR,pe.CLAMP_TO_EDGE)}Ge.draw(ie,pe.TRIANGLES,w,l.stencilModeForClipping(we),S,ve.disabled,yn,u.id,ke.layoutVertexBuffer,ke.indexBuffer,ke.segments,u.paint,l.transform.zoom,Re,ke.layoutVertexBuffer2),te=!1}}}}},fill:function(l,c,u,f){var g=u.paint.get("fill-color"),x=u.paint.get("fill-opacity");if(x.constantOr(1)!==0){var w=l.colorModeForRenderPass(),S=u.paint.get("fill-pattern"),I=l.opaquePassEnabledForLayer()&&!S.constantOr(1)&&g.constantOr(s.Color.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(l.renderPass===I){var L=l.depthModeForSublayer(1,l.renderPass==="opaque"?X.ReadWrite:X.ReadOnly);ju(l,c,u,f,L,w,!1)}if(l.renderPass==="translucent"&&u.paint.get("fill-antialias")){var j=l.depthModeForSublayer(u.getPaintProperty("fill-outline-color")?2:0,X.ReadOnly);ju(l,c,u,f,j,w,!0)}}},"fill-extrusion":function(l,c,u,f){var g=u.paint.get("fill-extrusion-opacity");if(g!==0&&l.renderPass==="translucent"){var x=new X(l.context.gl.LEQUAL,X.ReadWrite,l.depthRangeFor3D);if(g!==1||u.paint.get("fill-extrusion-pattern").constantOr(1))Np(l,c,u,f,x,oe.disabled,de.disabled),Np(l,c,u,f,x,l.stencilModeFor3D(),l.colorModeForRenderPass());else{var w=l.colorModeForRenderPass();Np(l,c,u,f,x,oe.disabled,w)}}},hillshade:function(l,c,u,f){if(l.renderPass==="offscreen"||l.renderPass==="translucent"){for(var g=l.context,x=l.depthModeForSublayer(0,X.ReadOnly),w=l.colorModeForRenderPass(),S=l.renderPass==="translucent"?l.stencilConfigForOverlap(f):[{},f],I=S[0],L=0,j=S[1];L<j.length;L+=1){var W=j[L],G=c.getTile(W);G.needsHillshadePrepare&&l.renderPass==="offscreen"?bg(l,G,u,x,oe.disabled,w):l.renderPass==="translucent"&&$u(l,G,u,x,I[W.overscaledZ],w)}g.viewport.set([0,0,l.width,l.height])}},raster:function(l,c,u,f){if(l.renderPass==="translucent"&&u.paint.get("raster-opacity")!==0&&f.length)for(var g=l.context,x=g.gl,w=c.getSource(),S=l.useProgram("raster"),I=l.colorModeForRenderPass(),L=w instanceof rt?[{},f]:l.stencilConfigForOverlap(f),j=L[0],W=L[1],G=W[W.length-1].overscaledZ,ae=!l.options.moving,ie=0,pe=W;ie<pe.length;ie+=1){var te=pe[ie],ce=l.depthModeForSublayer(te.overscaledZ-G,u.paint.get("raster-opacity")===1?X.ReadWrite:X.ReadOnly,x.LESS),ge=c.getTile(te),we=l.transform.calculatePosMatrix(te.toUnwrapped(),ae);ge.registerFadeDuration(u.paint.get("raster-fade-duration"));var Ae=c.findLoadedParent(te,0),ke=qu(ge,Ae,c,u,l.transform),Re=void 0,Be=void 0,Ge=u.paint.get("raster-resampling")==="nearest"?x.NEAREST:x.LINEAR;g.activeTexture.set(x.TEXTURE0),ge.texture.bind(Ge,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),g.activeTexture.set(x.TEXTURE1),Ae?(Ae.texture.bind(Ge,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),Re=Math.pow(2,Ae.tileID.overscaledZ-ge.tileID.overscaledZ),Be=[ge.tileID.canonical.x*Re%1,ge.tileID.canonical.y*Re%1]):ge.texture.bind(Ge,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST);var Ze=xg(we,Be||[0,0],Re||1,ke,u);w instanceof rt?S.draw(g,x.TRIANGLES,ce,oe.disabled,I,ve.disabled,Ze,u.id,w.boundsBuffer,l.quadTriangleIndexBuffer,w.boundsSegments):S.draw(g,x.TRIANGLES,ce,j[te.overscaledZ],I,ve.disabled,Ze,u.id,l.rasterBoundsBuffer,l.quadTriangleIndexBuffer,l.rasterBoundsSegments)}},background:function(l,c,u){var f=u.paint.get("background-color"),g=u.paint.get("background-opacity");if(g!==0){var x=l.context,w=x.gl,S=l.transform,I=S.tileSize,L=u.paint.get("background-pattern");if(!l.isPatternMissing(L)){var j=!L&&f.a===1&&g===1&&l.opaquePassEnabledForLayer()?"opaque":"translucent";if(l.renderPass===j){var W=oe.disabled,G=l.depthModeForSublayer(0,j==="opaque"?X.ReadWrite:X.ReadOnly),ae=l.colorModeForRenderPass(),ie=l.useProgram(L?"backgroundPattern":"background"),pe=S.coveringTiles({tileSize:I});L&&(x.activeTexture.set(w.TEXTURE0),l.imageManager.bind(l.context));for(var te=u.getCrossfadeParameters(),ce=0,ge=pe;ce<ge.length;ce+=1){var we=ge[ce],Ae=l.transform.calculatePosMatrix(we.toUnwrapped()),ke=L?Hs(Ae,g,l,L,{tileID:we,tileSize:I},te):Vl(Ae,g,f);ie.draw(x,w.TRIANGLES,G,W,ae,ve.disabled,ke,u.id,l.tileExtentBuffer,l.quadTriangleIndexBuffer,l.tileExtentSegments)}}}}},debug:function(l,c,u){for(var f=0;f<u.length;f++)Ad(l,c,u[f])},custom:function(l,c,u){var f=l.context,g=u.implementation;if(l.renderPass==="offscreen"){var x=g.prerender;x&&(l.setCustomLayerDefaults(),f.setColorMode(l.colorModeForRenderPass()),x.call(g,f.gl,l.transform.customLayerMatrix()),f.setDirty(),l.setBaseState())}else if(l.renderPass==="translucent"){l.setCustomLayerDefaults(),f.setColorMode(l.colorModeForRenderPass()),f.setStencilMode(oe.disabled);var w=g.renderingMode==="3d"?new X(l.context.gl.LEQUAL,X.ReadWrite,l.depthRangeFor3D):l.depthModeForSublayer(0,X.ReadOnly);f.setDepthMode(w),g.render(f.gl,l.transform.customLayerMatrix()),f.setDirty(),l.setBaseState(),f.bindFramebuffer.set(null)}}},Kn=function(l,c){this.context=new Z(l),this.transform=c,this._tileTextures={},this.setup(),this.numSublayers=se.maxUnderzooming+se.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Pa,this.gpuTimers={}};Kn.prototype.resize=function(l,c){if(this.width=l*s.browser.devicePixelRatio,this.height=c*s.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var u=0,f=this.style._order;u<f.length;u+=1)this.style._layers[f[u]].resize()},Kn.prototype.setup=function(){var l=this.context,c=new s.StructArrayLayout2i4;c.emplaceBack(0,0),c.emplaceBack(s.EXTENT,0),c.emplaceBack(0,s.EXTENT),c.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(c,kr.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);var u=new s.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(s.EXTENT,0),u.emplaceBack(0,s.EXTENT),u.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=l.createVertexBuffer(u,kr.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);var f=new s.StructArrayLayout4i8;f.emplaceBack(0,0,0,0),f.emplaceBack(s.EXTENT,0,s.EXTENT,0),f.emplaceBack(0,s.EXTENT,0,s.EXTENT),f.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=l.createVertexBuffer(f,$e.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);var g=new s.StructArrayLayout2i4;g.emplaceBack(0,0),g.emplaceBack(1,0),g.emplaceBack(0,1),g.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(g,kr.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);var x=new s.StructArrayLayout1ui2;x.emplaceBack(0),x.emplaceBack(1),x.emplaceBack(3),x.emplaceBack(2),x.emplaceBack(0),this.tileBorderIndexBuffer=l.createIndexBuffer(x);var w=new s.StructArrayLayout3ui6;w.emplaceBack(0,1,2),w.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(w),this.emptyTexture=new s.Texture(l,{width:1,height:1,data:new Uint8Array([0,0,0,0])},l.gl.RGBA);var S=this.context.gl;this.stencilClearMode=new oe({func:S.ALWAYS,mask:0},0,255,S.ZERO,S.ZERO,S.ZERO)},Kn.prototype.clearStencil=function(){var l=this.context,c=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var u=s.create();s.ortho(u,0,this.width,this.height,0,0,1),s.scale(u,u,[c.drawingBufferWidth,c.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(l,c.TRIANGLES,X.disabled,this.stencilClearMode,de.disabled,ve.disabled,vs(u),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Kn.prototype._renderTileClippingMasks=function(l,c){if(this.currentStencilSource!==l.source&&l.isTileClipped()&&c&&c.length){this.currentStencilSource=l.source;var u=this.context,f=u.gl;this.nextStencilID+c.length>256&&this.clearStencil(),u.setColorMode(de.disabled),u.setDepthMode(X.disabled);var g=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var x=0,w=c;x<w.length;x+=1){var S=w[x],I=this._tileClippingMaskIDs[S.key]=this.nextStencilID++;g.draw(u,f.TRIANGLES,X.disabled,new oe({func:f.ALWAYS,mask:0},I,255,f.KEEP,f.KEEP,f.REPLACE),de.disabled,ve.disabled,vs(S.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Kn.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var l=this.nextStencilID++,c=this.context.gl;return new oe({func:c.NOTEQUAL,mask:255},l,255,c.KEEP,c.KEEP,c.REPLACE)},Kn.prototype.stencilModeForClipping=function(l){var c=this.context.gl;return new oe({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,c.KEEP,c.KEEP,c.REPLACE)},Kn.prototype.stencilConfigForOverlap=function(l){var c,u=this.context.gl,f=l.sort(function(I,L){return L.overscaledZ-I.overscaledZ}),g=f[f.length-1].overscaledZ,x=f[0].overscaledZ-g+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();for(var w={},S=0;S<x;S++)w[S+g]=new oe({func:u.GEQUAL,mask:255},S+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=x,[w,f]}return[(c={},c[g]=oe.disabled,c),f]},Kn.prototype.colorModeForRenderPass=function(){var l=this.context.gl;return this._showOverdrawInspector?new de([l.CONSTANT_COLOR,l.ONE],new s.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?de.unblended:de.alphaBlended},Kn.prototype.depthModeForSublayer=function(l,c,u){if(!this.opaquePassEnabledForLayer())return X.disabled;var f=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new X(u||this.context.gl.LEQUAL,c,[f,f])},Kn.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Kn.prototype.render=function(l,c){var u=this;this.style=l,this.options=c,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(s.browser.now()),this.imageManager.beginFrame();var f=this.style._order,g=this.style.sourceCaches;for(var x in g){var w=g[x];w.used&&w.prepare(this.context)}var S,I,L={},j={},W={};for(var G in g){var ae=g[G];L[G]=ae.getVisibleCoordinates(),j[G]=L[G].slice().reverse(),W[G]=ae.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var ie=0;ie<f.length;ie++)if(this.style._layers[f[ie]].is3D()){this.opaquePassCutoff=ie;break}this.renderPass="offscreen";for(var pe=0,te=f;pe<te.length;pe+=1){var ce=this.style._layers[te[pe]];if(ce.hasOffscreenPass()&&!ce.isHidden(this.transform.zoom)){var ge=j[ce.source];(ce.type==="custom"||ge.length)&&this.renderLayer(this,g[ce.source],ce,ge)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(l._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){var we=this.style._layers[f[this.currentLayer]],Ae=g[we.source],ke=L[we.source];this._renderTileClippingMasks(we,ke),this.renderLayer(this,Ae,we,ke)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){var Re=this.style._layers[f[this.currentLayer]],Be=g[Re.source],Ge=(Re.type==="symbol"?W:j)[Re.source];this._renderTileClippingMasks(Re,L[Re.source]),this.renderLayer(this,Be,Re,Ge)}this.options.showTileBoundaries&&(s.values(this.style._layers).forEach(function(Ze){Ze.source&&!Ze.isHidden(u.transform.zoom)&&(Ze.source!==(I&&I.id)&&(I=u.style.sourceCaches[Ze.source]),(!S||S.getSource().maxzoom<I.getSource().maxzoom)&&(S=I))}),S&&xs.debug(this,S,S.getVisibleCoordinates())),this.options.showPadding&&function(Ze){var lt=Ze.transform.padding;jp(Ze,Ze.transform.height-(lt.top||0),3,Up),jp(Ze,lt.bottom||0,3,kd),$p(Ze,lt.left||0,3,Md),$p(Ze,Ze.transform.width-(lt.right||0),3,Wu);var Ct=Ze.transform.centerPoint;(function(At,Mt,yn,pt){$l(At,Mt-1,yn-10,2,20,pt),$l(At,Mt-10,yn-1,20,2,pt)})(Ze,Ct.x,Ze.transform.height-Ct.y,Vp)}(this),this.context.setDefault()},Kn.prototype.renderLayer=function(l,c,u,f){u.isHidden(this.transform.zoom)||(u.type==="background"||u.type==="custom"||f.length)&&(this.id=u.id,this.gpuTimingStart(u),xs[u.type](l,c,u,f,this.style.placement.variableOffsets),this.gpuTimingEnd())},Kn.prototype.gpuTimingStart=function(l){if(this.options.gpuTiming){var c=this.context.extTimerQuery,u=this.gpuTimers[l.id];u||(u=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:c.createQueryEXT()}),u.calls++,c.beginQueryEXT(c.TIME_ELAPSED_EXT,u.query)}},Kn.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}},Kn.prototype.collectGpuTimers=function(){var l=this.gpuTimers;return this.gpuTimers={},l},Kn.prototype.queryGpuTimers=function(l){var c={};for(var u in l){var f=l[u],g=this.context.extTimerQuery,x=g.getQueryObjectEXT(f.query,g.QUERY_RESULT_EXT)/1e6;g.deleteQueryEXT(f.query),c[u]=x}return c},Kn.prototype.translatePosMatrix=function(l,c,u,f,g){if(!u[0]&&!u[1])return l;var x=g?f==="map"?this.transform.angle:0:f==="viewport"?-this.transform.angle:0;if(x){var w=Math.sin(x),S=Math.cos(x);u=[u[0]*S-u[1]*w,u[0]*w+u[1]*S]}var I=[g?u[0]:Nn(c,u[0],this.transform.zoom),g?u[1]:Nn(c,u[1],this.transform.zoom),0],L=new Float32Array(16);return s.translate(L,l,I),L},Kn.prototype.saveTileTexture=function(l){var c=this._tileTextures[l.size[0]];c?c.push(l):this._tileTextures[l.size[0]]=[l]},Kn.prototype.getTileTexture=function(l){var c=this._tileTextures[l];return c&&c.length>0?c.pop():null},Kn.prototype.isPatternMissing=function(l){if(!l)return!1;if(!l.from||!l.to)return!0;var c=this.imageManager.getPattern(l.from.toString()),u=this.imageManager.getPattern(l.to.toString());return!c||!u},Kn.prototype.useProgram=function(l,c){this.cache=this.cache||{};var u=""+l+(c?c.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[u]||(this.cache[u]=new yd(this.context,l,vg[l],c,Td[l],this._showOverdrawInspector)),this.cache[u]},Kn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Kn.prototype.setBaseState=function(){var l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)},Kn.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Kn.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Zu=function(l,c){this.points=l,this.planes=c};Zu.fromInvProjectionMatrix=function(l,c,u){var f=Math.pow(2,u),g=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(w){return s.transformMat4([],w,l)}).map(function(w){return s.scale$1([],w,1/w[3]/c*f)}),x=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(w){var S=s.sub([],g[w[0]],g[w[1]]),I=s.sub([],g[w[2]],g[w[1]]),L=s.normalize([],s.cross([],S,I)),j=-s.dot(L,g[w[1]]);return L.concat(j)});return new Zu(g,x)};var bs=function(l,c){this.min=l,this.max=c,this.center=s.scale$2([],s.add([],this.min,this.max),.5)};bs.prototype.quadrant=function(l){for(var c=[l%2==0,l<2],u=s.clone$2(this.min),f=s.clone$2(this.max),g=0;g<c.length;g++)u[g]=c[g]?this.min[g]:this.center[g],f[g]=c[g]?this.center[g]:this.max[g];return f[2]=this.max[2],new bs(u,f)},bs.prototype.distanceX=function(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]},bs.prototype.distanceY=function(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]},bs.prototype.intersects=function(l){for(var c=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],u=!0,f=0;f<l.planes.length;f++){for(var g=l.planes[f],x=0,w=0;w<c.length;w++)x+=s.dot$1(g,c[w])>=0;if(x===0)return 0;x!==c.length&&(u=!1)}if(u)return 2;for(var S=0;S<3;S++){for(var I=Number.MAX_VALUE,L=-Number.MAX_VALUE,j=0;j<l.points.length;j++){var W=l.points[j][S]-this.min[S];I=Math.min(I,W),L=Math.max(L,W)}if(L<0||I>this.max[S]-this.min[S])return 0}return 1};var Oa=function(l,c,u,f){if(l===void 0&&(l=0),c===void 0&&(c=0),u===void 0&&(u=0),f===void 0&&(f=0),isNaN(l)||l<0||isNaN(c)||c<0||isNaN(u)||u<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=c,this.left=u,this.right=f};Oa.prototype.interpolate=function(l,c,u){return c.top!=null&&l.top!=null&&(this.top=s.number(l.top,c.top,u)),c.bottom!=null&&l.bottom!=null&&(this.bottom=s.number(l.bottom,c.bottom,u)),c.left!=null&&l.left!=null&&(this.left=s.number(l.left,c.left,u)),c.right!=null&&l.right!=null&&(this.right=s.number(l.right,c.right,u)),this},Oa.prototype.getCenter=function(l,c){var u=s.clamp((this.left+l-this.right)/2,0,l),f=s.clamp((this.top+c-this.bottom)/2,0,c);return new s.Point(u,f)},Oa.prototype.equals=function(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right},Oa.prototype.clone=function(){return new Oa(this.top,this.bottom,this.left,this.right)},Oa.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var hn=function(l,c,u,f,g){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=g===void 0||g,this._minZoom=l||0,this._maxZoom=c||22,this._minPitch=u==null?0:u,this._maxPitch=f==null?60:f,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Oa,this._posMatrixCache={},this._alignedPosMatrixCache={}},Vn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};hn.prototype.clone=function(){var l=new hn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return l.tileSize=this.tileSize,l.latRange=this.latRange,l.width=this.width,l.height=this.height,l._center=this._center,l.zoom=this.zoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._calcMatrices(),l},Vn.minZoom.get=function(){return this._minZoom},Vn.minZoom.set=function(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))},Vn.maxZoom.get=function(){return this._maxZoom},Vn.maxZoom.set=function(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))},Vn.minPitch.get=function(){return this._minPitch},Vn.minPitch.set=function(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))},Vn.maxPitch.get=function(){return this._maxPitch},Vn.maxPitch.set=function(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))},Vn.renderWorldCopies.get=function(){return this._renderWorldCopies},Vn.renderWorldCopies.set=function(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l},Vn.worldSize.get=function(){return this.tileSize*this.scale},Vn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Vn.size.get=function(){return new s.Point(this.width,this.height)},Vn.bearing.get=function(){return-this.angle/Math.PI*180},Vn.bearing.set=function(l){var c=-s.wrap(l,-180,180)*Math.PI/180;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=s.create$2(),s.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Vn.pitch.get=function(){return this._pitch/Math.PI*180},Vn.pitch.set=function(l){var c=s.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())},Vn.fov.get=function(){return this._fov/Math.PI*180},Vn.fov.set=function(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=l/180*Math.PI,this._calcMatrices())},Vn.zoom.get=function(){return this._zoom},Vn.zoom.set=function(l){var c=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom,this._constrain(),this._calcMatrices())},Vn.center.get=function(){return this._center},Vn.center.set=function(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._constrain(),this._calcMatrices())},Vn.padding.get=function(){return this._edgeInsets.toJSON()},Vn.padding.set=function(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())},Vn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},hn.prototype.isPaddingEqual=function(l){return this._edgeInsets.equals(l)},hn.prototype.interpolatePadding=function(l,c,u){this._unmodified=!1,this._edgeInsets.interpolate(l,c,u),this._constrain(),this._calcMatrices()},hn.prototype.coveringZoomLevel=function(l){var c=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,c)},hn.prototype.getVisibleUnwrappedCoordinates=function(l){var c=[new s.UnwrappedTileID(0,l)];if(this._renderWorldCopies)for(var u=this.pointCoordinate(new s.Point(0,0)),f=this.pointCoordinate(new s.Point(this.width,0)),g=this.pointCoordinate(new s.Point(this.width,this.height)),x=this.pointCoordinate(new s.Point(0,this.height)),w=Math.floor(Math.min(u.x,f.x,g.x,x.x)),S=Math.floor(Math.max(u.x,f.x,g.x,x.x)),I=w-1;I<=S+1;I++)I!==0&&c.push(new s.UnwrappedTileID(I,l));return c},hn.prototype.coveringTiles=function(l){var c=this.coveringZoomLevel(l),u=c;if(l.minzoom!==void 0&&c<l.minzoom)return[];l.maxzoom!==void 0&&c>l.maxzoom&&(c=l.maxzoom);var f=s.MercatorCoordinate.fromLngLat(this.center),g=Math.pow(2,c),x=[g*f.x,g*f.y,0],w=Zu.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,c),S=l.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(S=c);var I=function(Ze){return{aabb:new bs([Ze*g,0,0],[(Ze+1)*g,g,0]),zoom:0,x:0,y:0,wrap:Ze,fullyVisible:!1}},L=[],j=[],W=c,G=l.reparseOverscaled?u:c;if(this._renderWorldCopies)for(var ae=1;ae<=3;ae++)L.push(I(-ae)),L.push(I(ae));for(L.push(I(0));L.length>0;){var ie=L.pop(),pe=ie.x,te=ie.y,ce=ie.fullyVisible;if(!ce){var ge=ie.aabb.intersects(w);if(ge===0)continue;ce=ge===2}var we=ie.aabb.distanceX(x),Ae=ie.aabb.distanceY(x),ke=Math.max(Math.abs(we),Math.abs(Ae));if(ie.zoom===W||ke>3+(1<<W-ie.zoom)-2&&ie.zoom>=S)j.push({tileID:new s.OverscaledTileID(ie.zoom===W?G:ie.zoom,ie.wrap,ie.zoom,pe,te),distanceSq:s.sqrLen([x[0]-.5-pe,x[1]-.5-te])});else for(var Re=0;Re<4;Re++){var Be=(pe<<1)+Re%2,Ge=(te<<1)+(Re>>1);L.push({aabb:ie.aabb.quadrant(Re),zoom:ie.zoom+1,x:Be,y:Ge,wrap:ie.wrap,fullyVisible:ce})}}return j.sort(function(Ze,lt){return Ze.distanceSq-lt.distanceSq}).map(function(Ze){return Ze.tileID})},hn.prototype.resize=function(l,c){this.width=l,this.height=c,this.pixelsToGLUnits=[2/l,-2/c],this._constrain(),this._calcMatrices()},Vn.unmodified.get=function(){return this._unmodified},hn.prototype.zoomScale=function(l){return Math.pow(2,l)},hn.prototype.scaleZoom=function(l){return Math.log(l)/Math.LN2},hn.prototype.project=function(l){var c=s.clamp(l.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.Point(s.mercatorXfromLng(l.lng)*this.worldSize,s.mercatorYfromLat(c)*this.worldSize)},hn.prototype.unproject=function(l){return new s.MercatorCoordinate(l.x/this.worldSize,l.y/this.worldSize).toLngLat()},Vn.point.get=function(){return this.project(this.center)},hn.prototype.setLocationAtPoint=function(l,c){var u=this.pointCoordinate(c),f=this.pointCoordinate(this.centerPoint),g=this.locationCoordinate(l),x=new s.MercatorCoordinate(g.x-(u.x-f.x),g.y-(u.y-f.y));this.center=this.coordinateLocation(x),this._renderWorldCopies&&(this.center=this.center.wrap())},hn.prototype.locationPoint=function(l){return this.coordinatePoint(this.locationCoordinate(l))},hn.prototype.pointLocation=function(l){return this.coordinateLocation(this.pointCoordinate(l))},hn.prototype.locationCoordinate=function(l){return s.MercatorCoordinate.fromLngLat(l)},hn.prototype.coordinateLocation=function(l){return l.toLngLat()},hn.prototype.pointCoordinate=function(l){var c=[l.x,l.y,0,1],u=[l.x,l.y,1,1];s.transformMat4(c,c,this.pixelMatrixInverse),s.transformMat4(u,u,this.pixelMatrixInverse);var f=c[3],g=u[3],x=c[1]/f,w=u[1]/g,S=c[2]/f,I=u[2]/g,L=S===I?0:(0-S)/(I-S);return new s.MercatorCoordinate(s.number(c[0]/f,u[0]/g,L)/this.worldSize,s.number(x,w,L)/this.worldSize)},hn.prototype.coordinatePoint=function(l){var c=[l.x*this.worldSize,l.y*this.worldSize,0,1];return s.transformMat4(c,c,this.pixelMatrix),new s.Point(c[0]/c[3],c[1]/c[3])},hn.prototype.getBounds=function(){return new s.LngLatBounds().extend(this.pointLocation(new s.Point(0,0))).extend(this.pointLocation(new s.Point(this.width,0))).extend(this.pointLocation(new s.Point(this.width,this.height))).extend(this.pointLocation(new s.Point(0,this.height)))},hn.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},hn.prototype.setMaxBounds=function(l){l?(this.lngRange=[l.getWest(),l.getEast()],this.latRange=[l.getSouth(),l.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},hn.prototype.calculatePosMatrix=function(l,c){c===void 0&&(c=!1);var u=l.key,f=c?this._alignedPosMatrixCache:this._posMatrixCache;if(f[u])return f[u];var g=l.canonical,x=this.worldSize/this.zoomScale(g.z),w=g.x+Math.pow(2,g.z)*l.wrap,S=s.identity(new Float64Array(16));return s.translate(S,S,[w*x,g.y*x,0]),s.scale(S,S,[x/s.EXTENT,x/s.EXTENT,1]),s.multiply(S,c?this.alignedProjMatrix:this.projMatrix,S),f[u]=new Float32Array(S),f[u]},hn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},hn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var l,c,u,f,g=-90,x=90,w=-180,S=180,I=this.size,L=this._unmodified;if(this.latRange){var j=this.latRange;g=s.mercatorYfromLat(j[1])*this.worldSize,l=(x=s.mercatorYfromLat(j[0])*this.worldSize)-g<I.y?I.y/(x-g):0}if(this.lngRange){var W=this.lngRange;w=s.mercatorXfromLng(W[0])*this.worldSize,c=(S=s.mercatorXfromLng(W[1])*this.worldSize)-w<I.x?I.x/(S-w):0}var G=this.point,ae=Math.max(c||0,l||0);if(ae)return this.center=this.unproject(new s.Point(c?(S+w)/2:G.x,l?(x+g)/2:G.y)),this.zoom+=this.scaleZoom(ae),this._unmodified=L,void(this._constraining=!1);if(this.latRange){var ie=G.y,pe=I.y/2;ie-pe<g&&(f=g+pe),ie+pe>x&&(f=x-pe)}if(this.lngRange){var te=G.x,ce=I.x/2;te-ce<w&&(u=w+ce),te+ce>S&&(u=S-ce)}u===void 0&&f===void 0||(this.center=this.unproject(new s.Point(u!==void 0?u:G.x,f!==void 0?f:G.y))),this._unmodified=L,this._constraining=!1}},hn.prototype._calcMatrices=function(){if(this.height){var l=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var c=Math.PI/2+this._pitch,u=this._fov*(.5+l.y/this.height),f=Math.sin(u)*this.cameraToCenterDistance/Math.sin(s.clamp(Math.PI-c-u,.01,Math.PI-.01)),g=this.point,x=g.x,w=g.y,S=1.01*(Math.cos(Math.PI/2-this._pitch)*f+this.cameraToCenterDistance),I=this.height/50,L=new Float64Array(16);s.perspective(L,this._fov,this.width/this.height,I,S),L[8]=2*-l.x/this.width,L[9]=2*l.y/this.height,s.scale(L,L,[1,-1,1]),s.translate(L,L,[0,0,-this.cameraToCenterDistance]),s.rotateX(L,L,this._pitch),s.rotateZ(L,L,this.angle),s.translate(L,L,[-x,-w,0]),this.mercatorMatrix=s.scale([],L,[this.worldSize,this.worldSize,this.worldSize]),s.scale(L,L,[1,1,s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=L,this.invProjMatrix=s.invert([],this.projMatrix);var j=this.width%2/2,W=this.height%2/2,G=Math.cos(this.angle),ae=Math.sin(this.angle),ie=x-Math.round(x)+G*j+ae*W,pe=w-Math.round(w)+G*W+ae*j,te=new Float64Array(L);if(s.translate(te,te,[ie>.5?ie-1:ie,pe>.5?pe-1:pe,0]),this.alignedProjMatrix=te,L=s.create(),s.scale(L,L,[this.width/2,-this.height/2,1]),s.translate(L,L,[1,-1,0]),this.labelPlaneMatrix=L,L=s.create(),s.scale(L,L,[1,-1,1]),s.translate(L,L,[-1,-1,0]),s.scale(L,L,[2/this.width,2/this.height,1]),this.glCoordMatrix=L,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(L=s.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=L,this._posMatrixCache={},this._alignedPosMatrixCache={}}},hn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var l=this.pointCoordinate(new s.Point(0,0)),c=[l.x*this.worldSize,l.y*this.worldSize,0,1];return s.transformMat4(c,c,this.pixelMatrix)[3]/this.cameraToCenterDistance},hn.prototype.getCameraPoint=function(){var l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.Point(0,l))},hn.prototype.getCameraQueryGeometry=function(l){var c=this.getCameraPoint();if(l.length===1)return[l[0],c];for(var u=c.x,f=c.y,g=c.x,x=c.y,w=0,S=l;w<S.length;w+=1){var I=S[w];u=Math.min(u,I.x),f=Math.min(f,I.y),g=Math.max(g,I.x),x=Math.max(x,I.y)}return[new s.Point(u,f),new s.Point(g,f),new s.Point(g,x),new s.Point(u,x),new s.Point(u,f)]},Object.defineProperties(hn.prototype,Vn);var no=function(l){var c,u,f,g;this._hashName=l&&encodeURIComponent(l),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(c=this._updateHashUnthrottled.bind(this),u=!1,f=null,g=function(){f=null,u&&(c(),f=setTimeout(g,300),u=!1)},function(){return u=!0,f||g(),f})};no.prototype.addTo=function(l){return this._map=l,s.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},no.prototype.remove=function(){return s.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},no.prototype.getHashString=function(l){var c=this._map.getCenter(),u=Math.round(100*this._map.getZoom())/100,f=Math.ceil((u*Math.LN2+Math.log(512/360/.5))/Math.LN10),g=Math.pow(10,f),x=Math.round(c.lng*g)/g,w=Math.round(c.lat*g)/g,S=this._map.getBearing(),I=this._map.getPitch(),L="";if(L+=l?"/"+x+"/"+w+"/"+u:u+"/"+w+"/"+x,(S||I)&&(L+="/"+Math.round(10*S)/10),I&&(L+="/"+Math.round(I)),this._hashName){var j=this._hashName,W=!1,G=s.window.location.hash.slice(1).split("&").map(function(ae){var ie=ae.split("=")[0];return ie===j?(W=!0,ie+"="+L):ae}).filter(function(ae){return ae});return W||G.push(j+"="+L),"#"+G.join("&")}return"#"+L},no.prototype._getCurrentHash=function(){var l,c=this,u=s.window.location.hash.replace("#","");return this._hashName?(u.split("&").map(function(f){return f.split("=")}).forEach(function(f){f[0]===c._hashName&&(l=f)}),(l&&l[1]||"").split("/")):u.split("/")},no.prototype._onHashChange=function(){var l=this._getCurrentHash();if(l.length>=3&&!l.some(function(u){return isNaN(u)})){var c=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(l[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:c,pitch:+(l[4]||0)}),!0}return!1},no.prototype._updateHashUnthrottled=function(){var l=s.window.location.href.replace(/(#.+)?$/,this.getHashString());try{s.window.history.replaceState(s.window.history.state,null,l)}catch{}};var ql={linearity:.3,easing:s.bezier(0,0,.3,1)},Ks=s.extend({deceleration:2500,maxSpeed:1400},ql),Wl=s.extend({deceleration:20,maxSpeed:1400},ql),wg=s.extend({deceleration:1e3,maxSpeed:360},ql),Eg=s.extend({deceleration:1e3,maxSpeed:90},ql),Zl=function(l){this._map=l,this.clear()};function Gl(l,c){(!l.duration||l.duration<c.duration)&&(l.duration=c.duration,l.easing=c.easing)}function ca(l,c,u){var f=u.maxSpeed,g=u.linearity,x=u.deceleration,w=s.clamp(l*g/(c/1e3),-f,f),S=Math.abs(w)/(x*g);return{easing:u.easing,duration:1e3*S,amount:w*(S/2)}}Zl.prototype.clear=function(){this._inertiaBuffer=[]},Zl.prototype.record=function(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.browser.now(),settings:l})},Zl.prototype._drainInertiaBuffer=function(){for(var l=this._inertiaBuffer,c=s.browser.now();l.length>0&&c-l[0].time>160;)l.shift()},Zl.prototype._onMoveEnd=function(l){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var c={zoom:0,bearing:0,pitch:0,pan:new s.Point(0,0),pinchAround:void 0,around:void 0},u=0,f=this._inertiaBuffer;u<f.length;u+=1){var g=f[u].settings;c.zoom+=g.zoomDelta||0,c.bearing+=g.bearingDelta||0,c.pitch+=g.pitchDelta||0,g.panDelta&&c.pan._add(g.panDelta),g.around&&(c.around=g.around),g.pinchAround&&(c.pinchAround=g.pinchAround)}var x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(c.pan.mag()){var S=ca(c.pan.mag(),x,s.extend({},Ks,l||{}));w.offset=c.pan.mult(S.amount/c.pan.mag()),w.center=this._map.transform.center,Gl(w,S)}if(c.zoom){var I=ca(c.zoom,x,Wl);w.zoom=this._map.transform.zoom+I.amount,Gl(w,I)}if(c.bearing){var L=ca(c.bearing,x,wg);w.bearing=this._map.transform.bearing+s.clamp(L.amount,-179,179),Gl(w,L)}if(c.pitch){var j=ca(c.pitch,x,Eg);w.pitch=this._map.transform.pitch+j.amount,Gl(w,j)}if(w.zoom||w.bearing){var W=c.pinchAround===void 0?c.around:c.pinchAround;w.around=W?this._map.unproject(W):this._map.getCenter()}return this.clear(),s.extend(w,{noMoveStart:!0})}};var Dr=function(l){function c(f,g,x,w){w===void 0&&(w={});var S=b.mousePos(g.getCanvasContainer(),x),I=g.unproject(S);l.call(this,f,s.extend({point:S,lngLat:I,originalEvent:x},w)),this._defaultPrevented=!1,this.target=g}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var u={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},u.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,u),c}(s.Event),Hl=function(l){function c(f,g,x){var w=f==="touchend"?x.changedTouches:x.touches,S=b.touchPos(g.getCanvasContainer(),w),I=S.map(function(W){return g.unproject(W)}),L=S.reduce(function(W,G,ae,ie){return W.add(G.div(ie.length))},new s.Point(0,0)),j=g.unproject(L);l.call(this,f,{points:S,point:L,lngLats:I,lngLat:j,originalEvent:x}),this._defaultPrevented=!1}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var u={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},u.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,u),c}(s.Event),zd=function(l){function c(f,g,x){l.call(this,f,{originalEvent:x}),this._defaultPrevented=!1}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var u={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},u.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,u),c}(s.Event),Mr=function(l,c){this._map=l,this._clickTolerance=c.clickTolerance};Mr.prototype.reset=function(){delete this._mousedownPos},Mr.prototype.wheel=function(l){return this._firePreventable(new zd(l.type,this._map,l))},Mr.prototype.mousedown=function(l,c){return this._mousedownPos=c,this._firePreventable(new Dr(l.type,this._map,l))},Mr.prototype.mouseup=function(l){this._map.fire(new Dr(l.type,this._map,l))},Mr.prototype.click=function(l,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||this._map.fire(new Dr(l.type,this._map,l))},Mr.prototype.dblclick=function(l){return this._firePreventable(new Dr(l.type,this._map,l))},Mr.prototype.mouseover=function(l){this._map.fire(new Dr(l.type,this._map,l))},Mr.prototype.mouseout=function(l){this._map.fire(new Dr(l.type,this._map,l))},Mr.prototype.touchstart=function(l){return this._firePreventable(new Hl(l.type,this._map,l))},Mr.prototype.touchmove=function(l){this._map.fire(new Hl(l.type,this._map,l))},Mr.prototype.touchend=function(l){this._map.fire(new Hl(l.type,this._map,l))},Mr.prototype.touchcancel=function(l){this._map.fire(new Hl(l.type,this._map,l))},Mr.prototype._firePreventable=function(l){if(this._map.fire(l),l.defaultPrevented)return{}},Mr.prototype.isEnabled=function(){return!0},Mr.prototype.isActive=function(){return!1},Mr.prototype.enable=function(){},Mr.prototype.disable=function(){};var ht=function(l){this._map=l};ht.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ht.prototype.mousemove=function(l){this._map.fire(new Dr(l.type,this._map,l))},ht.prototype.mousedown=function(){this._delayContextMenu=!0},ht.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Dr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ht.prototype.contextmenu=function(l){this._delayContextMenu?this._contextMenuEvent=l:this._map.fire(new Dr(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()},ht.prototype.isEnabled=function(){return!0},ht.prototype.isActive=function(){return!1},ht.prototype.enable=function(){},ht.prototype.disable=function(){};var $i=function(l,c){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=c.clickTolerance||1};function Gu(l,c){for(var u={},f=0;f<l.length;f++)u[l[f].identifier]=c[f];return u}$i.prototype.isEnabled=function(){return!!this._enabled},$i.prototype.isActive=function(){return!!this._active},$i.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},$i.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},$i.prototype.mousedown=function(l,c){this.isEnabled()&&l.shiftKey&&l.button===0&&(b.disableDrag(),this._startPos=this._lastPos=c,this._active=!0)},$i.prototype.mousemoveWindow=function(l,c){if(this._active){var u=c;if(!(this._lastPos.equals(u)||!this._box&&u.dist(this._startPos)<this._clickTolerance)){var f=this._startPos;this._lastPos=u,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));var g=Math.min(f.x,u.x),x=Math.max(f.x,u.x),w=Math.min(f.y,u.y),S=Math.max(f.y,u.y);b.setTransform(this._box,"translate("+g+"px,"+w+"px)"),this._box.style.width=x-g+"px",this._box.style.height=S-w+"px"}}},$i.prototype.mouseupWindow=function(l,c){var u=this;if(this._active&&l.button===0){var f=this._startPos,g=c;if(this.reset(),b.suppressClick(),f.x!==g.x||f.y!==g.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:function(x){return x.fitScreenCoordinates(f,g,u._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",l)}},$i.prototype.keydown=function(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))},$i.prototype.blur=function(){this.reset()},$i.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},$i.prototype._fireEvent=function(l,c){return this._map.fire(new s.Event(l,{originalEvent:c}))};var Ys=function(l){this.reset(),this.numTouches=l.numTouches};Ys.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ys.prototype.touchstart=function(l,c,u){(this.centroid||u.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=l.timeStamp),u.length===this.numTouches&&(this.centroid=function(f){for(var g=new s.Point(0,0),x=0,w=f;x<w.length;x+=1)g._add(w[x]);return g.div(f.length)}(c),this.touches=Gu(u,c)))},Ys.prototype.touchmove=function(l,c,u){if(!this.aborted&&this.centroid){var f=Gu(u,c);for(var g in this.touches){var x=f[g];(!x||x.dist(this.touches[g])>30)&&(this.aborted=!0)}}},Ys.prototype.touchend=function(l,c,u){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),u.length===0){var f=!this.aborted&&this.centroid;if(this.reset(),f)return f}};var Mo=function(l){this.singleTap=new Ys(l),this.numTaps=l.numTaps,this.reset()};Mo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Mo.prototype.touchstart=function(l,c,u){this.singleTap.touchstart(l,c,u)},Mo.prototype.touchmove=function(l,c,u){this.singleTap.touchmove(l,c,u)},Mo.prototype.touchend=function(l,c,u){var f=this.singleTap.touchend(l,c,u);if(f){var g=l.timeStamp-this.lastTime<500,x=!this.lastTap||this.lastTap.dist(f)<30;if(g&&x||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}};var qi=function(){this._zoomIn=new Mo({numTouches:1,numTaps:2}),this._zoomOut=new Mo({numTouches:2,numTaps:1}),this.reset()};qi.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qi.prototype.touchstart=function(l,c,u){this._zoomIn.touchstart(l,c,u),this._zoomOut.touchstart(l,c,u)},qi.prototype.touchmove=function(l,c,u){this._zoomIn.touchmove(l,c,u),this._zoomOut.touchmove(l,c,u)},qi.prototype.touchend=function(l,c,u){var f=this,g=this._zoomIn.touchend(l,c,u),x=this._zoomOut.touchend(l,c,u);return g?(this._active=!0,l.preventDefault(),setTimeout(function(){return f.reset()},0),{cameraAnimation:function(w){return w.easeTo({duration:300,zoom:w.getZoom()+1,around:w.unproject(g)},{originalEvent:l})}}):x?(this._active=!0,l.preventDefault(),setTimeout(function(){return f.reset()},0),{cameraAnimation:function(w){return w.easeTo({duration:300,zoom:w.getZoom()-1,around:w.unproject(x)},{originalEvent:l})}}):void 0},qi.prototype.touchcancel=function(){this.reset()},qi.prototype.enable=function(){this._enabled=!0},qi.prototype.disable=function(){this._enabled=!1,this.reset()},qi.prototype.isEnabled=function(){return this._enabled},qi.prototype.isActive=function(){return this._active};var qp={0:1,2:2},et=function(l){this.reset(),this._clickTolerance=l.clickTolerance||1};et.prototype.blur=function(){this.reset()},et.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},et.prototype._correctButton=function(l,c){return!1},et.prototype._move=function(l,c){return{}},et.prototype.mousedown=function(l,c){if(!this._lastPoint){var u=b.mouseButton(l);this._correctButton(l,u)&&(this._lastPoint=c,this._eventButton=u)}},et.prototype.mousemoveWindow=function(l,c){var u=this._lastPoint;if(u){if(l.preventDefault(),function(f,g){var x=qp[g];return f.buttons===void 0||(f.buttons&x)!==x}(l,this._eventButton))this.reset();else if(this._moved||!(c.dist(u)<this._clickTolerance))return this._moved=!0,this._lastPoint=c,this._move(u,c)}},et.prototype.mouseupWindow=function(l){this._lastPoint&&b.mouseButton(l)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},et.prototype.enable=function(){this._enabled=!0},et.prototype.disable=function(){this._enabled=!1,this.reset()},et.prototype.isEnabled=function(){return this._enabled},et.prototype.isActive=function(){return this._active};var Wp=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.mousedown=function(u,f){l.prototype.mousedown.call(this,u,f),this._lastPoint&&(this._active=!0)},c.prototype._correctButton=function(u,f){return f===0&&!u.ctrlKey},c.prototype._move=function(u,f){return{around:f,panDelta:f.sub(u)}},c}(et),Hu=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype._correctButton=function(u,f){return f===0&&u.ctrlKey||f===2},c.prototype._move=function(u,f){var g=.8*(f.x-u.x);if(g)return this._active=!0,{bearingDelta:g}},c.prototype.contextmenu=function(u){u.preventDefault()},c}(et),Zp=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype._correctButton=function(u,f){return f===0&&u.ctrlKey||f===2},c.prototype._move=function(u,f){var g=-.5*(f.y-u.y);if(g)return this._active=!0,{pitchDelta:g}},c.prototype.contextmenu=function(u){u.preventDefault()},c}(et),mo=function(l){this._minTouches=1,this._clickTolerance=l.clickTolerance||1,this.reset()};mo.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new s.Point(0,0)},mo.prototype.touchstart=function(l,c,u){return this._calculateTransform(l,c,u)},mo.prototype.touchmove=function(l,c,u){if(this._active&&!(u.length<this._minTouches))return l.preventDefault(),this._calculateTransform(l,c,u)},mo.prototype.touchend=function(l,c,u){this._calculateTransform(l,c,u),this._active&&u.length<this._minTouches&&this.reset()},mo.prototype.touchcancel=function(){this.reset()},mo.prototype._calculateTransform=function(l,c,u){u.length>0&&(this._active=!0);var f=Gu(u,c),g=new s.Point(0,0),x=new s.Point(0,0),w=0;for(var S in f){var I=f[S],L=this._touches[S];L&&(g._add(I),x._add(I.sub(L)),w++,f[S]=I)}if(this._touches=f,!(w<this._minTouches)&&x.mag()){var j=x.div(w);if(this._sum._add(j),!(this._sum.mag()<this._clickTolerance))return{around:g.div(w),panDelta:j}}},mo.prototype.enable=function(){this._enabled=!0},mo.prototype.disable=function(){this._enabled=!1,this.reset()},mo.prototype.isEnabled=function(){return this._enabled},mo.prototype.isActive=function(){return this._active};var Wi=function(){this.reset()};function Xu(l,c,u){for(var f=0;f<l.length;f++)if(l[f].identifier===u)return c[f]}function Ku(l,c){return Math.log(l/c)/Math.LN2}Wi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Wi.prototype._start=function(l){},Wi.prototype._move=function(l,c,u){return{}},Wi.prototype.touchstart=function(l,c,u){this._firstTwoTouches||u.length<2||(this._firstTwoTouches=[u[0].identifier,u[1].identifier],this._start([c[0],c[1]]))},Wi.prototype.touchmove=function(l,c,u){if(this._firstTwoTouches){l.preventDefault();var f=this._firstTwoTouches,g=f[1],x=Xu(u,c,f[0]),w=Xu(u,c,g);if(x&&w){var S=this._aroundCenter?null:x.add(w).div(2);return this._move([x,w],S,l)}}},Wi.prototype.touchend=function(l,c,u){if(this._firstTwoTouches){var f=this._firstTwoTouches,g=f[1],x=Xu(u,c,f[0]),w=Xu(u,c,g);x&&w||(this._active&&b.suppressClick(),this.reset())}},Wi.prototype.touchcancel=function(){this.reset()},Wi.prototype.enable=function(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"},Wi.prototype.disable=function(){this._enabled=!1,this.reset()},Wi.prototype.isEnabled=function(){return this._enabled},Wi.prototype.isActive=function(){return this._active};var Zi=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.reset=function(){l.prototype.reset.call(this),delete this._distance,delete this._startDistance},c.prototype._start=function(u){this._startDistance=this._distance=u[0].dist(u[1])},c.prototype._move=function(u,f){var g=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(Ku(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ku(this._distance,g),pinchAround:f}},c}(Wi);function pa(l,c){return 180*l.angleWith(c)/Math.PI}var Rd=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.reset=function(){l.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},c.prototype._start=function(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])},c.prototype._move=function(u,f){var g=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:pa(this._vector,g),pinchAround:f}},c.prototype._isBelowThreshold=function(u){this._minDiameter=Math.min(this._minDiameter,u.mag());var f=25/(Math.PI*this._minDiameter)*360,g=pa(u,this._startVector);return Math.abs(g)<f},c}(Wi);function Xl(l){return Math.abs(l.y)>Math.abs(l.x)}var Gp=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.reset=function(){l.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},c.prototype._start=function(u){this._lastPoints=u,Xl(u[0].sub(u[1]))&&(this._valid=!1)},c.prototype._move=function(u,f,g){var x=u[0].sub(this._lastPoints[0]),w=u[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(x,w,g.timeStamp),this._valid)return this._lastPoints=u,this._active=!0,{pitchDelta:(x.y+w.y)/2*-.5}},c.prototype.gestureBeginsVertically=function(u,f,g){if(this._valid!==void 0)return this._valid;var x=u.mag()>=2,w=f.mag()>=2;if(x||w){if(!x||!w)return this._firstMove===void 0&&(this._firstMove=g),g-this._firstMove<100&&void 0;var S=u.y>0==f.y>0;return Xl(u)&&Xl(f)&&S}},c}(Wi),Hp={panStep:100,bearingStep:15,pitchStep:10},Ao=function(){var l=Hp;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1};function ro(l){return l*(2-l)}Ao.prototype.blur=function(){this.reset()},Ao.prototype.reset=function(){this._active=!1},Ao.prototype.keydown=function(l){var c=this;if(!(l.altKey||l.ctrlKey||l.metaKey)){var u=0,f=0,g=0,x=0,w=0;switch(l.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:l.shiftKey?f=-1:(l.preventDefault(),x=-1);break;case 39:l.shiftKey?f=1:(l.preventDefault(),x=1);break;case 38:l.shiftKey?g=1:(l.preventDefault(),w=-1);break;case 40:l.shiftKey?g=-1:(l.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(f=0,g=0),{cameraAnimation:function(S){var I=S.getZoom();S.easeTo({duration:300,easeId:"keyboardHandler",easing:ro,zoom:u?Math.round(I)+u*(l.shiftKey?2:1):I,bearing:S.getBearing()+f*c._bearingStep,pitch:S.getPitch()+g*c._pitchStep,offset:[-x*c._panStep,-w*c._panStep],center:S.getCenter()},{originalEvent:l})}}}},Ao.prototype.enable=function(){this._enabled=!0},Ao.prototype.disable=function(){this._enabled=!1,this.reset()},Ao.prototype.isEnabled=function(){return this._enabled},Ao.prototype.isActive=function(){return this._active},Ao.prototype.disableRotation=function(){this._rotationDisabled=!0},Ao.prototype.enableRotation=function(){this._rotationDisabled=!1};var an=function(l,c){this._map=l,this._el=l.getCanvasContainer(),this._handler=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,s.bindAll(["_onTimeout"],this)};an.prototype.setZoomRate=function(l){this._defaultZoomRate=l},an.prototype.setWheelZoomRate=function(l){this._wheelZoomRate=l},an.prototype.isEnabled=function(){return!!this._enabled},an.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},an.prototype.isZooming=function(){return!!this._zooming},an.prototype.enable=function(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=l&&l.around==="center")},an.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},an.prototype.wheel=function(l){if(this.isEnabled()){var c=l.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY,u=s.browser.now(),f=u-(this._lastWheelEventTime||0);this._lastWheelEventTime=u,c!==0&&c%4.000244140625==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(f*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),l.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=l,this._delta-=c,this._active||this._start(l)),l.preventDefault()}},an.prototype._onTimeout=function(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)},an.prototype._start=function(l){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var c=b.mousePos(this._el,l);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(c)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},an.prototype.renderFrame=function(){var l=this;if(this._frameId&&(this._frameId=null,this.isActive())){var c=this._map.transform;if(this._delta!==0){var u=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,f=2/(1+Math.exp(-Math.abs(this._delta*u)));this._delta<0&&f!==0&&(f=1/f);var g=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(g*f))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var x,w=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,S=this._startZoom,I=this._easing,L=!1;if(this._type==="wheel"&&S&&I){var j=Math.min((s.browser.now()-this._lastWheelEventTime)/200,1),W=I(j);x=s.number(S,w,W),j<1?this._frameId||(this._frameId=!0):L=!0}else x=w,L=!0;return this._active=!0,L&&(this._active=!1,this._finishTimeout=setTimeout(function(){l._zooming=!1,l._handler._triggerRenderFrame(),delete l._targetZoom,delete l._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!L,zoomDelta:x-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},an.prototype._smoothOutEasing=function(l){var c=s.ease;if(this._prevEase){var u=this._prevEase,f=(s.browser.now()-u.start)/u.duration,g=u.easing(f+.01)-u.easing(f),x=.27/Math.sqrt(g*g+1e-4)*.01,w=Math.sqrt(.0729-x*x);c=s.bezier(x,w,.25,1)}return this._prevEase={start:s.browser.now(),duration:l,easing:c},c},an.prototype.blur=function(){this.reset()},an.prototype.reset=function(){this._active=!1};var jo=function(l,c){this._clickZoom=l,this._tapZoom=c};jo.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},jo.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},jo.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},jo.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var yo=function(){this.reset()};yo.prototype.reset=function(){this._active=!1},yo.prototype.blur=function(){this.reset()},yo.prototype.dblclick=function(l,c){return l.preventDefault(),{cameraAnimation:function(u){u.easeTo({duration:300,zoom:u.getZoom()+(l.shiftKey?-1:1),around:u.unproject(c)},{originalEvent:l})}}},yo.prototype.enable=function(){this._enabled=!0},yo.prototype.disable=function(){this._enabled=!1,this.reset()},yo.prototype.isEnabled=function(){return this._enabled},yo.prototype.isActive=function(){return this._active};var pi=function(){this._tap=new Mo({numTouches:1,numTaps:1}),this.reset()};pi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},pi.prototype.touchstart=function(l,c,u){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?u.length>0&&(this._swipePoint=c[0],this._swipeTouch=u[0].identifier):this._tap.touchstart(l,c,u))},pi.prototype.touchmove=function(l,c,u){if(this._tapTime){if(this._swipePoint){if(u[0].identifier!==this._swipeTouch)return;var f=c[0],g=f.y-this._swipePoint.y;return this._swipePoint=f,l.preventDefault(),this._active=!0,{zoomDelta:g/128}}}else this._tap.touchmove(l,c,u)},pi.prototype.touchend=function(l,c,u){this._tapTime?this._swipePoint&&u.length===0&&this.reset():this._tap.touchend(l,c,u)&&(this._tapTime=l.timeStamp)},pi.prototype.touchcancel=function(){this.reset()},pi.prototype.enable=function(){this._enabled=!0},pi.prototype.disable=function(){this._enabled=!1,this.reset()},pi.prototype.isEnabled=function(){return this._enabled},pi.prototype.isActive=function(){return this._active};var ws=function(l,c,u){this._el=l,this._mousePan=c,this._touchPan=u};ws.prototype.enable=function(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ws.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ws.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ws.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Da=function(l,c,u){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=c,this._mousePitch=u};Da.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Da.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Da.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Da.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var zo=function(l,c,u,f){this._el=l,this._touchZoom=c,this._touchRotate=u,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0};zo.prototype.enable=function(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},zo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},zo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},zo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},zo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},zo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var xi=function(l){return l.zoom||l.drag||l.pitch||l.rotate},Kl=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c}(s.Event);function Tt(l){return l.panDelta&&l.panDelta.mag()||l.zoomDelta||l.bearingDelta||l.pitchDelta}var vt=function(l,c){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Zl(l),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(c),s.bindAll(["handleEvent","handleWindowEvent"],this);var u=this._el;this._listeners=[[u,"touchstart",{passive:!0}],[u,"touchmove",{passive:!1}],[u,"touchend",void 0],[u,"touchcancel",void 0],[u,"mousedown",void 0],[u,"mousemove",void 0],[u,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[u,"mouseover",void 0],[u,"mouseout",void 0],[u,"dblclick",void 0],[u,"click",void 0],[u,"keydown",{capture:!1}],[u,"keyup",void 0],[u,"wheel",{passive:!1}],[u,"contextmenu",void 0],[s.window,"blur",void 0]];for(var f=0,g=this._listeners;f<g.length;f+=1){var x=g[f],w=x[0];b.addEventListener(w,x[1],w===s.window.document?this.handleWindowEvent:this.handleEvent,x[2])}};vt.prototype.destroy=function(){for(var l=0,c=this._listeners;l<c.length;l+=1){var u=c[l],f=u[0];b.removeEventListener(f,u[1],f===s.window.document?this.handleWindowEvent:this.handleEvent,u[2])}},vt.prototype._addDefaultHandlers=function(l){var c=this._map,u=c.getCanvasContainer();this._add("mapEvent",new Mr(c,l));var f=c.boxZoom=new $i(c,l);this._add("boxZoom",f);var g=new qi,x=new yo;c.doubleClickZoom=new jo(x,g),this._add("tapZoom",g),this._add("clickZoom",x);var w=new pi;this._add("tapDragZoom",w);var S=c.touchPitch=new Gp;this._add("touchPitch",S);var I=new Hu(l),L=new Zp(l);c.dragRotate=new Da(l,I,L),this._add("mouseRotate",I,["mousePitch"]),this._add("mousePitch",L,["mouseRotate"]);var j=new Wp(l),W=new mo(l);c.dragPan=new ws(u,j,W),this._add("mousePan",j),this._add("touchPan",W,["touchZoom","touchRotate"]);var G=new Rd,ae=new Zi;c.touchZoomRotate=new zo(u,ae,G,w),this._add("touchRotate",G,["touchPan","touchZoom"]),this._add("touchZoom",ae,["touchPan","touchRotate"]);var ie=c.scrollZoom=new an(c,this);this._add("scrollZoom",ie,["mousePan"]);var pe=c.keyboard=new Ao;this._add("keyboard",pe),this._add("blockableMapEvent",new ht(c));for(var te=0,ce=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];te<ce.length;te+=1){var ge=ce[te];l.interactive&&l[ge]&&c[ge].enable(l[ge])}},vt.prototype._add=function(l,c,u){this._handlers.push({handlerName:l,handler:c,allowed:u}),this._handlersById[l]=c},vt.prototype.stop=function(l){if(!this._updatingCamera){for(var c=0,u=this._handlers;c<u.length;c+=1)u[c].handler.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}},vt.prototype.isActive=function(){for(var l=0,c=this._handlers;l<c.length;l+=1)if(c[l].handler.isActive())return!0;return!1},vt.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},vt.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},vt.prototype.isMoving=function(){return Boolean(xi(this._eventsInProgress))||this.isZooming()},vt.prototype._blockedByActive=function(l,c,u){for(var f in l)if(f!==u&&(!c||c.indexOf(f)<0))return!0;return!1},vt.prototype.handleWindowEvent=function(l){this.handleEvent(l,l.type+"Window")},vt.prototype._getMapTouches=function(l){for(var c=[],u=0,f=l;u<f.length;u+=1){var g=f[u];this._el.contains(g.target)&&c.push(g)}return c},vt.prototype.handleEvent=function(l,c){this._updatingCamera=!0;for(var u=l.type==="renderFrame"?void 0:l,f={needsRenderFrame:!1},g={},x={},w=l.touches?this._getMapTouches(l.touches):void 0,S=w?b.touchPos(this._el,w):b.mousePos(this._el,l),I=0,L=this._handlers;I<L.length;I+=1){var j=L[I],W=j.handlerName,G=j.handler,ae=j.allowed;if(G.isEnabled()){var ie=void 0;this._blockedByActive(x,ae,W)?G.reset():G[c||l.type]&&(ie=G[c||l.type](l,S,w),this.mergeHandlerResult(f,g,ie,W,u),ie&&ie.needsRenderFrame&&this._triggerRenderFrame()),(ie||G.isActive())&&(x[W]=G)}}var pe={};for(var te in this._previousActiveHandlers)x[te]||(pe[te]=u);this._previousActiveHandlers=x,(Object.keys(pe).length||Tt(f))&&(this._changes.push([f,g,pe]),this._triggerRenderFrame()),(Object.keys(x).length||Tt(f))&&this._map._stop(!0),this._updatingCamera=!1;var ce=f.cameraAnimation;ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ce(this._map))},vt.prototype.mergeHandlerResult=function(l,c,u,f,g){if(u){s.extend(l,u);var x={handlerName:f,originalEvent:u.originalEvent||g};u.zoomDelta!==void 0&&(c.zoom=x),u.panDelta!==void 0&&(c.drag=x),u.pitchDelta!==void 0&&(c.pitch=x),u.bearingDelta!==void 0&&(c.rotate=x)}},vt.prototype._applyChanges=function(){for(var l={},c={},u={},f=0,g=this._changes;f<g.length;f+=1){var x=g[f],w=x[0],S=x[1],I=x[2];w.panDelta&&(l.panDelta=(l.panDelta||new s.Point(0,0))._add(w.panDelta)),w.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+w.pitchDelta),w.around!==void 0&&(l.around=w.around),w.pinchAround!==void 0&&(l.pinchAround=w.pinchAround),w.noInertia&&(l.noInertia=w.noInertia),s.extend(c,S),s.extend(u,I)}this._updateMapTransform(l,c,u),this._changes=[]},vt.prototype._updateMapTransform=function(l,c,u){var f=this._map,g=f.transform;if(!Tt(l))return this._fireEvents(c,u,!0);var x=l.panDelta,w=l.zoomDelta,S=l.bearingDelta,I=l.pitchDelta,L=l.around,j=l.pinchAround;j!==void 0&&(L=j),f._stop(!0),L=L||f.transform.centerPoint;var W=g.pointLocation(x?L.sub(x):L);S&&(g.bearing+=S),I&&(g.pitch+=I),w&&(g.zoom+=w),g.setLocationAtPoint(W,L),this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(c,u,!0)},vt.prototype._fireEvents=function(l,c,u){var f=this,g=xi(this._eventsInProgress),x=xi(l),w={};for(var S in l)this._eventsInProgress[S]||(w[S+"start"]=l[S].originalEvent),this._eventsInProgress[S]=l[S];for(var I in!g&&x&&this._fireEvent("movestart",x.originalEvent),w)this._fireEvent(I,w[I]);for(var L in x&&this._fireEvent("move",x.originalEvent),l)this._fireEvent(L,l[L].originalEvent);var j,W={};for(var G in this._eventsInProgress){var ae=this._eventsInProgress[G],ie=ae.handlerName,pe=ae.originalEvent;this._handlersById[ie].isActive()||(delete this._eventsInProgress[G],W[G+"end"]=j=c[ie]||pe)}for(var te in W)this._fireEvent(te,W[te]);var ce=xi(this._eventsInProgress);if(u&&(g||x)&&!ce){this._updatingCamera=!0;var ge=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),we=function(Ae){return Ae!==0&&-f._bearingSnap<Ae&&Ae<f._bearingSnap};ge?(we(ge.bearing||this._map.getBearing())&&(ge.bearing=0),this._map.easeTo(ge,{originalEvent:j})):(this._map.fire(new s.Event("moveend",{originalEvent:j})),we(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},vt.prototype._fireEvent=function(l,c){this._map.fire(new s.Event(l,c?{originalEvent:c}:{}))},vt.prototype._requestFrame=function(){var l=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(c){delete l._frameId,l.handleEvent(new Kl("renderFrame",{timeStamp:c})),l._applyChanges()})},vt.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Yu=function(l){function c(u,f){l.call(this),this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=f.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getCenter=function(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)},c.prototype.setCenter=function(u,f){return this.jumpTo({center:u},f)},c.prototype.panBy=function(u,f,g){return u=s.Point.convert(u).mult(-1),this.panTo(this.transform.center,s.extend({offset:u},f),g)},c.prototype.panTo=function(u,f,g){return this.easeTo(s.extend({center:u},f),g)},c.prototype.getZoom=function(){return this.transform.zoom},c.prototype.setZoom=function(u,f){return this.jumpTo({zoom:u},f),this},c.prototype.zoomTo=function(u,f,g){return this.easeTo(s.extend({zoom:u},f),g)},c.prototype.zoomIn=function(u,f){return this.zoomTo(this.getZoom()+1,u,f),this},c.prototype.zoomOut=function(u,f){return this.zoomTo(this.getZoom()-1,u,f),this},c.prototype.getBearing=function(){return this.transform.bearing},c.prototype.setBearing=function(u,f){return this.jumpTo({bearing:u},f),this},c.prototype.getPadding=function(){return this.transform.padding},c.prototype.setPadding=function(u,f){return this.jumpTo({padding:u},f),this},c.prototype.rotateTo=function(u,f,g){return this.easeTo(s.extend({bearing:u},f),g)},c.prototype.resetNorth=function(u,f){return this.rotateTo(0,s.extend({duration:1e3},u),f),this},c.prototype.resetNorthPitch=function(u,f){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},u),f),this},c.prototype.snapToNorth=function(u,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,f):this},c.prototype.getPitch=function(){return this.transform.pitch},c.prototype.setPitch=function(u,f){return this.jumpTo({pitch:u},f),this},c.prototype.cameraForBounds=function(u,f){u=s.LngLatBounds.convert(u);var g=f&&f.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),g,f)},c.prototype._cameraForBoxAndBearing=function(u,f,g,x){var w={top:0,bottom:0,right:0,left:0};if(typeof(x=s.extend({padding:w,offset:[0,0],maxZoom:this.transform.maxZoom},x)).padding=="number"){var S=x.padding;x.padding={top:S,bottom:S,right:S,left:S}}x.padding=s.extend(w,x.padding);var I=this.transform,L=I.padding,j=I.project(s.LngLat.convert(u)),W=I.project(s.LngLat.convert(f)),G=j.rotate(-g*Math.PI/180),ae=W.rotate(-g*Math.PI/180),ie=new s.Point(Math.max(G.x,ae.x),Math.max(G.y,ae.y)),pe=new s.Point(Math.min(G.x,ae.x),Math.min(G.y,ae.y)),te=ie.sub(pe),ce=(I.width-(L.left+L.right+x.padding.left+x.padding.right))/te.x,ge=(I.height-(L.top+L.bottom+x.padding.top+x.padding.bottom))/te.y;if(!(ge<0||ce<0)){var we=Math.min(I.scaleZoom(I.scale*Math.min(ce,ge)),x.maxZoom),Ae=typeof x.offset.x=="number"?new s.Point(x.offset.x,x.offset.y):s.Point.convert(x.offset),ke=new s.Point((x.padding.left-x.padding.right)/2,(x.padding.top-x.padding.bottom)/2).rotate(g*Math.PI/180),Re=Ae.add(ke).mult(I.scale/I.zoomScale(we));return{center:I.unproject(j.add(W).div(2).sub(Re)),zoom:we,bearing:g}}s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},c.prototype.fitBounds=function(u,f,g){return this._fitInternal(this.cameraForBounds(u,f),f,g)},c.prototype.fitScreenCoordinates=function(u,f,g,x,w){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.Point.convert(u)),this.transform.pointLocation(s.Point.convert(f)),g,x),x,w)},c.prototype._fitInternal=function(u,f,g){return u?(delete(f=s.extend(u,f)).padding,f.linear?this.easeTo(f,g):this.flyTo(f,g)):this},c.prototype.jumpTo=function(u,f){this.stop();var g=this.transform,x=!1,w=!1,S=!1;return"zoom"in u&&g.zoom!==+u.zoom&&(x=!0,g.zoom=+u.zoom),u.center!==void 0&&(g.center=s.LngLat.convert(u.center)),"bearing"in u&&g.bearing!==+u.bearing&&(w=!0,g.bearing=+u.bearing),"pitch"in u&&g.pitch!==+u.pitch&&(S=!0,g.pitch=+u.pitch),u.padding==null||g.isPaddingEqual(u.padding)||(g.padding=u.padding),this.fire(new s.Event("movestart",f)).fire(new s.Event("move",f)),x&&this.fire(new s.Event("zoomstart",f)).fire(new s.Event("zoom",f)).fire(new s.Event("zoomend",f)),w&&this.fire(new s.Event("rotatestart",f)).fire(new s.Event("rotate",f)).fire(new s.Event("rotateend",f)),S&&this.fire(new s.Event("pitchstart",f)).fire(new s.Event("pitch",f)).fire(new s.Event("pitchend",f)),this.fire(new s.Event("moveend",f))},c.prototype.easeTo=function(u,f){var g=this;this._stop(!1,u.easeId),((u=s.extend({offset:[0,0],duration:500,easing:s.ease},u)).animate===!1||!u.essential&&s.browser.prefersReducedMotion)&&(u.duration=0);var x=this.transform,w=this.getZoom(),S=this.getBearing(),I=this.getPitch(),L=this.getPadding(),j="zoom"in u?+u.zoom:w,W="bearing"in u?this._normalizeBearing(u.bearing,S):S,G="pitch"in u?+u.pitch:I,ae="padding"in u?u.padding:x.padding,ie=s.Point.convert(u.offset),pe=x.centerPoint.add(ie),te=x.pointLocation(pe),ce=s.LngLat.convert(u.center||te);this._normalizeCenter(ce);var ge,we,Ae=x.project(te),ke=x.project(ce).sub(Ae),Re=x.zoomScale(j-w);u.around&&(ge=s.LngLat.convert(u.around),we=x.locationPoint(ge));var Be={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||j!==w,this._rotating=this._rotating||S!==W,this._pitching=this._pitching||G!==I,this._padding=!x.isPaddingEqual(ae),this._easeId=u.easeId,this._prepareEase(f,u.noMoveStart,Be),this._ease(function(Ge){if(g._zooming&&(x.zoom=s.number(w,j,Ge)),g._rotating&&(x.bearing=s.number(S,W,Ge)),g._pitching&&(x.pitch=s.number(I,G,Ge)),g._padding&&(x.interpolatePadding(L,ae,Ge),pe=x.centerPoint.add(ie)),ge)x.setLocationAtPoint(ge,we);else{var Ze=x.zoomScale(x.zoom-w),lt=j>w?Math.min(2,Re):Math.max(.5,Re),Ct=Math.pow(lt,1-Ge),At=x.unproject(Ae.add(ke.mult(Ge*Ct)).mult(Ze));x.setLocationAtPoint(x.renderWorldCopies?At.wrap():At,pe)}g._fireMoveEvents(f)},function(Ge){g._afterEase(f,Ge)},u),this},c.prototype._prepareEase=function(u,f,g){g===void 0&&(g={}),this._moving=!0,f||g.moving||this.fire(new s.Event("movestart",u)),this._zooming&&!g.zooming&&this.fire(new s.Event("zoomstart",u)),this._rotating&&!g.rotating&&this.fire(new s.Event("rotatestart",u)),this._pitching&&!g.pitching&&this.fire(new s.Event("pitchstart",u))},c.prototype._fireMoveEvents=function(u){this.fire(new s.Event("move",u)),this._zooming&&this.fire(new s.Event("zoom",u)),this._rotating&&this.fire(new s.Event("rotate",u)),this._pitching&&this.fire(new s.Event("pitch",u))},c.prototype._afterEase=function(u,f){if(!this._easeId||!f||this._easeId!==f){delete this._easeId;var g=this._zooming,x=this._rotating,w=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,g&&this.fire(new s.Event("zoomend",u)),x&&this.fire(new s.Event("rotateend",u)),w&&this.fire(new s.Event("pitchend",u)),this.fire(new s.Event("moveend",u))}},c.prototype.flyTo=function(u,f){var g=this;if(!u.essential&&s.browser.prefersReducedMotion){var x=s.pick(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(x,f)}this.stop(),u=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},u);var w=this.transform,S=this.getZoom(),I=this.getBearing(),L=this.getPitch(),j=this.getPadding(),W="zoom"in u?s.clamp(+u.zoom,w.minZoom,w.maxZoom):S,G="bearing"in u?this._normalizeBearing(u.bearing,I):I,ae="pitch"in u?+u.pitch:L,ie="padding"in u?u.padding:w.padding,pe=w.zoomScale(W-S),te=s.Point.convert(u.offset),ce=w.centerPoint.add(te),ge=w.pointLocation(ce),we=s.LngLat.convert(u.center||ge);this._normalizeCenter(we);var Ae=w.project(ge),ke=w.project(we).sub(Ae),Re=u.curve,Be=Math.max(w.width,w.height),Ge=Be/pe,Ze=ke.mag();if("minZoom"in u){var lt=s.clamp(Math.min(u.minZoom,S,W),w.minZoom,w.maxZoom),Ct=Be/w.zoomScale(lt-S);Re=Math.sqrt(Ct/Ze*2)}var At=Re*Re;function Mt(Dt){var Lt=(Ge*Ge-Be*Be+(Dt?-1:1)*At*At*Ze*Ze)/(2*(Dt?Ge:Be)*At*Ze);return Math.log(Math.sqrt(Lt*Lt+1)-Lt)}function yn(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function pt(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}var Vt=Mt(0),Jt=function(Dt){return pt(Vt)/pt(Vt+Re*Dt)},Ut=function(Dt){return Be*((pt(Vt)*(yn(Lt=Vt+Re*Dt)/pt(Lt))-yn(Vt))/At)/Ze;var Lt},Bt=(Mt(1)-Vt)/Re;if(Math.abs(Ze)<1e-6||!isFinite(Bt)){if(Math.abs(Be-Ge)<1e-6)return this.easeTo(u,f);var Kt=Ge<Be?-1:1;Bt=Math.abs(Math.log(Ge/Be))/Re,Ut=function(){return 0},Jt=function(Dt){return Math.exp(Kt*Re*Dt)}}return u.duration="duration"in u?+u.duration:1e3*Bt/("screenSpeed"in u?+u.screenSpeed/Re:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=I!==G,this._pitching=ae!==L,this._padding=!w.isPaddingEqual(ie),this._prepareEase(f,!1),this._ease(function(Dt){var Lt=Dt*Bt,Wr=1/Jt(Lt);w.zoom=Dt===1?W:S+w.scaleZoom(Wr),g._rotating&&(w.bearing=s.number(I,G,Dt)),g._pitching&&(w.pitch=s.number(L,ae,Dt)),g._padding&&(w.interpolatePadding(j,ie,Dt),ce=w.centerPoint.add(te));var cr=Dt===1?we:w.unproject(Ae.add(ke.mult(Ut(Lt))).mult(Wr));w.setLocationAtPoint(w.renderWorldCopies?cr.wrap():cr,ce),g._fireMoveEvents(f)},function(){return g._afterEase(f)},u),this},c.prototype.isEasing=function(){return!!this._easeFrameId},c.prototype.stop=function(){return this._stop()},c.prototype._stop=function(u,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var g=this._onEaseEnd;delete this._onEaseEnd,g.call(this,f)}if(!u){var x=this.handlers;x&&x.stop(!1)}return this},c.prototype._ease=function(u,f,g){g.animate===!1||g.duration===0?(u(1),f()):(this._easeStart=s.browser.now(),this._easeOptions=g,this._onEaseFrame=u,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},c.prototype._renderFrameCallback=function(){var u=Math.min((s.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(u)),u<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},c.prototype._normalizeBearing=function(u,f){u=s.wrap(u,-180,180);var g=Math.abs(u-f);return Math.abs(u-360-f)<g&&(u-=360),Math.abs(u+360-f)<g&&(u+=360),u},c.prototype._normalizeCenter=function(u){var f=this.transform;if(f.renderWorldCopies&&!f.lngRange){var g=u.lng-f.center.lng;u.lng+=g>180?-360:g<-180?360:0}},c}(s.Evented),bi=function(l){l===void 0&&(l={}),this.options=l,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};bi.prototype.getDefaultPosition=function(){return"bottom-right"},bi.prototype.onAdd=function(l){var c=this.options&&this.options.compact;return this._map=l,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),c&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),c===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},bi.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},bi.prototype._setElementTitle=function(l,c){var u=this._map._getUIString("AttributionControl."+c);l.title=u,l.setAttribute("aria-label",u)},bi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},bi.prototype._updateEditLink=function(){var l=this._editLink;l||(l=this._editLink=this._container.querySelector(".mapbox-improve-map"));var c=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(l){var u=c.reduce(function(f,g,x){return g.value&&(f+=g.key+"="+g.value+(x<c.length-1?"&":"")),f},"?");l.href=s.config.FEEDBACK_URL+"/"+u+(this._map._hash?this._map._hash.getHashString(!0):""),l.rel="noopener nofollow",this._setElementTitle(l,"MapFeedback")}},bi.prototype._updateData=function(l){!l||l.sourceDataType!=="metadata"&&l.sourceDataType!=="visibility"&&l.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},bi.prototype._updateAttributions=function(){if(this._map.style){var l=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=l.concat(this.options.customAttribution.map(function(S){return typeof S!="string"?"":S})):typeof this.options.customAttribution=="string"&&l.push(this.options.customAttribution)),this._map.style.stylesheet){var c=this._map.style.stylesheet;this.styleOwner=c.owner,this.styleId=c.id}var u=this._map.style.sourceCaches;for(var f in u){var g=u[f];if(g.used){var x=g.getSource();x.attribution&&l.indexOf(x.attribution)<0&&l.push(x.attribution)}}l.sort(function(S,I){return S.length-I.length});var w=(l=l.filter(function(S,I){for(var L=I+1;L<l.length;L++)if(l[L].indexOf(S)>=0)return!1;return!0})).join(" | ");w!==this._attribHTML&&(this._attribHTML=w,l.length?(this._innerContainer.innerHTML=w,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},bi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ro=function(){s.bindAll(["_updateLogo"],this),s.bindAll(["_updateCompact"],this)};Ro.prototype.onAdd=function(l){this._map=l,this._container=b.create("div","mapboxgl-ctrl");var c=b.create("a","mapboxgl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://www.mapbox.com/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ro.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ro.prototype.getDefaultPosition=function(){return"bottom-left"},Ro.prototype._updateLogo=function(l){l&&l.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Ro.prototype._logoRequired=function(){if(this._map.style){var l=this._map.style.sourceCaches;for(var c in l)if(l[c].getSource().mapbox_logo)return!0;return!1}},Ro.prototype._updateCompact=function(){var l=this._container.children;if(l.length){var c=l[0];this._map.getCanvasContainer().offsetWidth<250?c.classList.add("mapboxgl-compact"):c.classList.remove("mapboxgl-compact")}};var hi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};hi.prototype.add=function(l){var c=++this._id;return this._queue.push({callback:l,id:c,cancelled:!1}),c},hi.prototype.remove=function(l){for(var c=this._currentlyRunning,u=0,f=c?this._queue.concat(c):this._queue;u<f.length;u+=1){var g=f[u];if(g.id===l)return void(g.cancelled=!0)}},hi.prototype.run=function(l){l===void 0&&(l=0);var c=this._currentlyRunning=this._queue;this._queue=[];for(var u=0,f=c;u<f.length;u+=1){var g=f[u];if(!g.cancelled&&(g.callback(l),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},hi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var $o={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Xp=s.window.HTMLImageElement,Ju=s.window.HTMLElement,Pn=s.window.ImageBitmap,ti={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ld=function(l){function c(f){var g=this;if((f=s.extend({},ti,f)).minZoom!=null&&f.maxZoom!=null&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(f.minPitch!=null&&f.maxPitch!=null&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(f.minPitch!=null&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(f.maxPitch!=null&&f.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var x=new hn(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies);if(l.call(this,x,f),this._interactive=f.interactive,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._crossSourceCollisions=f.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=f.collectResourceTiming,this._renderTaskQueue=new hi,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},$o,f.locale),this._clickTolerance=f.clickTolerance,this._requestManager=new s.RequestManager(f.transformRequest,f.accessToken),typeof f.container=="string"){if(this._container=s.window.document.getElementById(f.container),!this._container)throw new Error("Container '"+f.container+"' not found.")}else{if(!(f.container instanceof Ju))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(f.maxBounds&&this.setMaxBounds(f.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return g._update(!1)}),this.on("moveend",function(){return g._update(!1)}),this.on("zoom",function(){return g._update(!0)}),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new vt(this,f),this._hash=f.hash&&new no(typeof f.hash=="string"&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,s.extend({},f.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=f.localIdeographFontFamily,f.style&&this.setStyle(f.style,{localIdeographFontFamily:f.localIdeographFontFamily}),f.attributionControl&&this.addControl(new bi({customAttribution:f.customAttribution})),this.addControl(new Ro,f.logoPosition),this.on("style.load",function(){g.transform.unmodified&&g.jumpTo(g.style.stylesheet)}),this.on("data",function(w){g._update(w.dataType==="style"),g.fire(new s.Event(w.dataType+"data",w))}),this.on("dataloading",function(w){g.fire(new s.Event(w.dataType+"dataloading",w))})}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var u={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return c.prototype._getMapId=function(){return this._mapId},c.prototype.addControl=function(f,g){if(g===void 0&&(g=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var x=f.onAdd(this);this._controls.push(f);var w=this._controlPositions[g];return g.indexOf("bottom")!==-1?w.insertBefore(x,w.firstChild):w.appendChild(x),this},c.prototype.removeControl=function(f){if(!f||!f.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var g=this._controls.indexOf(f);return g>-1&&this._controls.splice(g,1),f.onRemove(this),this},c.prototype.hasControl=function(f){return this._controls.indexOf(f)>-1},c.prototype.resize=function(f){var g=this._containerDimensions(),x=g[0],w=g[1];if(x===this.transform.width&&w===this.transform.height)return this;this._resizeCanvas(x,w),this.transform.resize(x,w),this.painter.resize(x,w);var S=!this._moving;return S&&this.fire(new s.Event("movestart",f)).fire(new s.Event("move",f)),this.fire(new s.Event("resize",f)),S&&this.fire(new s.Event("moveend",f)),this},c.prototype.getBounds=function(){return this.transform.getBounds()},c.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},c.prototype.setMaxBounds=function(f){return this.transform.setMaxBounds(s.LngLatBounds.convert(f)),this._update()},c.prototype.setMinZoom=function(f){if((f=f==null?-2:f)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f&&this.setZoom(f),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},c.prototype.getMinZoom=function(){return this.transform.minZoom},c.prototype.setMaxZoom=function(f){if((f=f==null?22:f)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f&&this.setZoom(f),this;throw new Error("maxZoom must be greater than the current minZoom")},c.prototype.getMaxZoom=function(){return this.transform.maxZoom},c.prototype.setMinPitch=function(f){if((f=f==null?0:f)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f&&this.setPitch(f),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},c.prototype.getMinPitch=function(){return this.transform.minPitch},c.prototype.setMaxPitch=function(f){if((f=f==null?60:f)>60)throw new Error("maxPitch must be less than or equal to 60");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f&&this.setPitch(f),this;throw new Error("maxPitch must be greater than the current minPitch")},c.prototype.getMaxPitch=function(){return this.transform.maxPitch},c.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},c.prototype.setRenderWorldCopies=function(f){return this.transform.renderWorldCopies=f,this._update()},c.prototype.project=function(f){return this.transform.locationPoint(s.LngLat.convert(f))},c.prototype.unproject=function(f){return this.transform.pointLocation(s.Point.convert(f))},c.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},c.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},c.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},c.prototype._createDelegatedListener=function(f,g,x){var w,S=this;if(f==="mouseenter"||f==="mouseover"){var I=!1;return{layer:g,listener:x,delegates:{mousemove:function(j){var W=S.getLayer(g)?S.queryRenderedFeatures(j.point,{layers:[g]}):[];W.length?I||(I=!0,x.call(S,new Dr(f,S,j.originalEvent,{features:W}))):I=!1},mouseout:function(){I=!1}}}}if(f==="mouseleave"||f==="mouseout"){var L=!1;return{layer:g,listener:x,delegates:{mousemove:function(j){(S.getLayer(g)?S.queryRenderedFeatures(j.point,{layers:[g]}):[]).length?L=!0:L&&(L=!1,x.call(S,new Dr(f,S,j.originalEvent)))},mouseout:function(j){L&&(L=!1,x.call(S,new Dr(f,S,j.originalEvent)))}}}}return{layer:g,listener:x,delegates:(w={},w[f]=function(j){var W=S.getLayer(g)?S.queryRenderedFeatures(j.point,{layers:[g]}):[];W.length&&(j.features=W,x.call(S,j),delete j.features)},w)}},c.prototype.on=function(f,g,x){if(x===void 0)return l.prototype.on.call(this,f,g);var w=this._createDelegatedListener(f,g,x);for(var S in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(w),w.delegates)this.on(S,w.delegates[S]);return this},c.prototype.once=function(f,g,x){if(x===void 0)return l.prototype.once.call(this,f,g);var w=this._createDelegatedListener(f,g,x);for(var S in w.delegates)this.once(S,w.delegates[S]);return this},c.prototype.off=function(f,g,x){var w=this;return x===void 0?l.prototype.off.call(this,f,g):(this._delegatedListeners&&this._delegatedListeners[f]&&function(S){for(var I=S[f],L=0;L<I.length;L++){var j=I[L];if(j.layer===g&&j.listener===x){for(var W in j.delegates)w.off(W,j.delegates[W]);return I.splice(L,1),w}}}(this._delegatedListeners),this)},c.prototype.queryRenderedFeatures=function(f,g){if(!this.style)return[];var x;if(g!==void 0||f===void 0||f instanceof s.Point||Array.isArray(f)||(g=f,f=void 0),g=g||{},(f=f||[[0,0],[this.transform.width,this.transform.height]])instanceof s.Point||typeof f[0]=="number")x=[s.Point.convert(f)];else{var w=s.Point.convert(f[0]),S=s.Point.convert(f[1]);x=[w,new s.Point(S.x,w.y),S,new s.Point(w.x,S.y),w]}return this.style.queryRenderedFeatures(x,g,this.transform)},c.prototype.querySourceFeatures=function(f,g){return this.style.querySourceFeatures(f,g)},c.prototype.setStyle=function(f,g){return(g=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},g)).diff!==!1&&g.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&f?(this._diffStyle(f,g),this):(this._localIdeographFontFamily=g.localIdeographFontFamily,this._updateStyle(f,g))},c.prototype._getUIString=function(f){var g=this._locale[f];if(g==null)throw new Error("Missing UI string '"+f+"'");return g},c.prototype._updateStyle=function(f,g){return this.style&&(this.style.setEventedParent(null),this.style._remove()),f?(this.style=new ji(this,g||{}),this.style.setEventedParent(this,{style:this.style}),typeof f=="string"?this.style.loadURL(f):this.style.loadJSON(f),this):(delete this.style,this)},c.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ji(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},c.prototype._diffStyle=function(f,g){var x=this;if(typeof f=="string"){var w=this._requestManager.normalizeStyleURL(f),S=this._requestManager.transformRequest(w,s.ResourceType.Style);s.getJSON(S,function(I,L){I?x.fire(new s.ErrorEvent(I)):L&&x._updateDiff(L,g)})}else typeof f=="object"&&this._updateDiff(f,g)},c.prototype._updateDiff=function(f,g){try{this.style.setState(f)&&this._update(!0)}catch(x){s.warnOnce("Unable to perform style diff: "+(x.message||x.error||x)+".  Rebuilding the style from scratch."),this._updateStyle(f,g)}},c.prototype.getStyle=function(){if(this.style)return this.style.serialize()},c.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")},c.prototype.addSource=function(f,g){return this._lazyInitEmptyStyle(),this.style.addSource(f,g),this._update(!0)},c.prototype.isSourceLoaded=function(f){var g=this.style&&this.style.sourceCaches[f];if(g!==void 0)return g.loaded();this.fire(new s.ErrorEvent(new Error("There is no source with ID '"+f+"'")))},c.prototype.areTilesLoaded=function(){var f=this.style&&this.style.sourceCaches;for(var g in f){var x=f[g]._tiles;for(var w in x){var S=x[w];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0},c.prototype.addSourceType=function(f,g,x){return this._lazyInitEmptyStyle(),this.style.addSourceType(f,g,x)},c.prototype.removeSource=function(f){return this.style.removeSource(f),this._update(!0)},c.prototype.getSource=function(f){return this.style.getSource(f)},c.prototype.addImage=function(f,g,x){x===void 0&&(x={});var w=x.pixelRatio;w===void 0&&(w=1);var S=x.sdf;S===void 0&&(S=!1);var I=x.stretchX,L=x.stretchY,j=x.content;if(this._lazyInitEmptyStyle(),g instanceof Xp||Pn&&g instanceof Pn){var W=s.browser.getImageData(g);this.style.addImage(f,{data:new s.RGBAImage({width:W.width,height:W.height},W.data),pixelRatio:w,stretchX:I,stretchY:L,content:j,sdf:S,version:0})}else{if(g.width===void 0||g.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var G=g;this.style.addImage(f,{data:new s.RGBAImage({width:g.width,height:g.height},new Uint8Array(g.data)),pixelRatio:w,stretchX:I,stretchY:L,content:j,sdf:S,version:0,userImage:G}),G.onAdd&&G.onAdd(this,f)}},c.prototype.updateImage=function(f,g){var x=this.style.getImage(f);if(!x)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var w=g instanceof Xp||Pn&&g instanceof Pn?s.browser.getImageData(g):g,S=w.width,I=w.height,L=w.data;return S===void 0||I===void 0?this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):S!==x.data.width||I!==x.data.height?this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(x.data.replace(L,!(g instanceof Xp||Pn&&g instanceof Pn)),void this.style.updateImage(f,x))},c.prototype.hasImage=function(f){return f?!!this.style.getImage(f):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)},c.prototype.removeImage=function(f){this.style.removeImage(f)},c.prototype.loadImage=function(f,g){s.getImage(this._requestManager.transformRequest(f,s.ResourceType.Image),g)},c.prototype.listImages=function(){return this.style.listImages()},c.prototype.addLayer=function(f,g){return this._lazyInitEmptyStyle(),this.style.addLayer(f,g),this._update(!0)},c.prototype.moveLayer=function(f,g){return this.style.moveLayer(f,g),this._update(!0)},c.prototype.removeLayer=function(f){return this.style.removeLayer(f),this._update(!0)},c.prototype.getLayer=function(f){return this.style.getLayer(f)},c.prototype.setLayerZoomRange=function(f,g,x){return this.style.setLayerZoomRange(f,g,x),this._update(!0)},c.prototype.setFilter=function(f,g,x){return x===void 0&&(x={}),this.style.setFilter(f,g,x),this._update(!0)},c.prototype.getFilter=function(f){return this.style.getFilter(f)},c.prototype.setPaintProperty=function(f,g,x,w){return w===void 0&&(w={}),this.style.setPaintProperty(f,g,x,w),this._update(!0)},c.prototype.getPaintProperty=function(f,g){return this.style.getPaintProperty(f,g)},c.prototype.setLayoutProperty=function(f,g,x,w){return w===void 0&&(w={}),this.style.setLayoutProperty(f,g,x,w),this._update(!0)},c.prototype.getLayoutProperty=function(f,g){return this.style.getLayoutProperty(f,g)},c.prototype.setLight=function(f,g){return g===void 0&&(g={}),this._lazyInitEmptyStyle(),this.style.setLight(f,g),this._update(!0)},c.prototype.getLight=function(){return this.style.getLight()},c.prototype.setFeatureState=function(f,g){return this.style.setFeatureState(f,g),this._update()},c.prototype.removeFeatureState=function(f,g){return this.style.removeFeatureState(f,g),this._update()},c.prototype.getFeatureState=function(f){return this.style.getFeatureState(f)},c.prototype.getContainer=function(){return this._container},c.prototype.getCanvasContainer=function(){return this._canvasContainer},c.prototype.getCanvas=function(){return this._canvas},c.prototype._containerDimensions=function(){var f=0,g=0;return this._container&&(f=this._container.clientWidth||400,g=this._container.clientHeight||300),[f,g]},c.prototype._detectMissingCSS=function(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},c.prototype._setupContainer=function(){var f=this._container;f.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",f)).style.visibility="hidden",this._detectMissingCSS();var g=this._canvasContainer=b.create("div","mapboxgl-canvas-container",f);this._interactive&&g.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",g),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var x=this._containerDimensions();this._resizeCanvas(x[0],x[1]);var w=this._controlContainer=b.create("div","mapboxgl-control-container",f),S=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(I){S[I]=b.create("div","mapboxgl-ctrl-"+I,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},c.prototype._resizeCanvas=function(f,g){var x=s.browser.devicePixelRatio||1;this._canvas.width=x*f,this._canvas.height=x*g,this._canvas.style.width=f+"px",this._canvas.style.height=g+"px"},c.prototype._setupPainter=function(){var f=s.extend({},_.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),g=this._canvas.getContext("webgl",f)||this._canvas.getContext("experimental-webgl",f);g?(this.painter=new Kn(g,this.transform),s.webpSupported.testSupport(g)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))},c.prototype._contextLost=function(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:f}))},c.prototype._contextRestored=function(f){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:f}))},c.prototype._onMapScroll=function(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},c.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},c.prototype._update=function(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this},c.prototype._requestRenderFrame=function(f){return this._update(),this._renderTaskQueue.add(f)},c.prototype._cancelRenderFrame=function(f){this._renderTaskQueue.remove(f)},c.prototype._render=function(f){var g,x=this,w=0,S=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(g=S.createQueryEXT(),S.beginQueryEXT(S.TIME_ELAPSED_EXT,g),w=s.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(f),!this._removed){var I=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var L=this.transform.zoom,j=s.browser.now();this.style.zoomHistory.update(L,j);var W=new s.EvaluationParameters(L,{now:j,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),G=W.crossFadingFactor();G===1&&G===this._crossFadingFactor||(I=!0,this._crossFadingFactor=G),this.style.update(W)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||I)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var ae=s.browser.now()-w;S.endQueryEXT(S.TIME_ELAPSED_EXT,g),setTimeout(function(){var te=S.getQueryObjectEXT(g,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(g),x.fire(new s.Event("gpu-timing-frame",{cpuTime:ae,gpuTime:te}))},50)}if(this.listens("gpu-timing-layer")){var ie=this.painter.collectGpuTimers();setTimeout(function(){var te=x.painter.queryGpuTimers(ie);x.fire(new s.Event("gpu-timing-layer",{layerTimes:te}))},50)}var pe=this._sourcesDirty||this._styleDirty||this._placementDirty;return pe||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),!this._loaded||this._fullyLoaded||pe||(this._fullyLoaded=!0),this}},c.prototype.remove=function(){this._hash&&this._hash.remove();for(var f=0,g=this._controls;f<g.length;f+=1)g[f].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1));var x=this.painter.context.gl.getExtension("WEBGL_lose_context");x&&x.loseContext(),Es(this._canvasContainer),Es(this._controlContainer),Es(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new s.Event("remove"))},c.prototype.triggerRepaint=function(){var f=this;this.style&&!this._frame&&(this._frame=s.browser.frame(function(g){f._frame=null,f._render(g)}))},c.prototype._onWindowOnline=function(){this._update()},c.prototype._onWindowResize=function(f){this._trackResize&&this.resize({originalEvent:f})._update()},u.showTileBoundaries.get=function(){return!!this._showTileBoundaries},u.showTileBoundaries.set=function(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._update())},u.showPadding.get=function(){return!!this._showPadding},u.showPadding.set=function(f){this._showPadding!==f&&(this._showPadding=f,this._update())},u.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},u.showCollisionBoxes.set=function(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,f?this.style._generateCollisionBoxes():this._update())},u.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},u.showOverdrawInspector.set=function(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._update())},u.repaint.get=function(){return!!this._repaint},u.repaint.set=function(f){this._repaint!==f&&(this._repaint=f,this.triggerRepaint())},u.vertices.get=function(){return!!this._vertices},u.vertices.set=function(f){this._vertices=f,this._update()},c.prototype._setCacheLimits=function(f,g){s.setCacheLimits(f,g)},u.version.get=function(){return s.version},Object.defineProperties(c.prototype,u),c}(Yu);function Es(l){l.parentNode&&l.parentNode.removeChild(l)}var Kp={showCompass:!0,showZoom:!0,visualizePitch:!1},ha=function(l){var c=this;this.options=s.extend({},Kp,l),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(u){return u.preventDefault()}),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(u){return c._map.zoomIn({},{originalEvent:u})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(u){return c._map.zoomOut({},{originalEvent:u})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(u){c.options.visualizePitch?c._map.resetNorthPitch({},{originalEvent:u}):c._map.resetNorth({},{originalEvent:u})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ha.prototype._updateZoomButtons=function(){var l=this._map.getZoom(),c=l===this._map.getMaxZoom(),u=l===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=u,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",u.toString())},ha.prototype._rotateCompassArrow=function(){var l=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=l},ha.prototype.onAdd=function(l){return this._map=l,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Gi(this._map,this._compass,this.options.visualizePitch)),this._container},ha.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ha.prototype._createButton=function(l,c){var u=b.create("button",l,this._container);return u.type="button",u.addEventListener("click",c),u},ha.prototype._setButtonTitle=function(l,c){var u=this._map._getUIString("NavigationControl."+c);l.title=u,l.setAttribute("aria-label",u)};var Gi=function(l,c,u){u===void 0&&(u=!1),this._clickTolerance=10,this.element=c,this.mouseRotate=new Hu({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,u&&(this.mousePitch=new Zp({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(c,"mousedown",this.mousedown),b.addEventListener(c,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(c,"touchmove",this.touchmove),b.addEventListener(c,"touchend",this.touchend),b.addEventListener(c,"touchcancel",this.reset)};function Js(l,c,u){if(l=new s.LngLat(l.lng,l.lat),c){var f=new s.LngLat(l.lng-360,l.lat),g=new s.LngLat(l.lng+360,l.lat),x=u.locationPoint(l).distSqr(c);u.locationPoint(f).distSqr(c)<x?l=f:u.locationPoint(g).distSqr(c)<x&&(l=g)}for(;Math.abs(l.lng-u.center.lng)>180;){var w=u.locationPoint(l);if(w.x>=0&&w.y>=0&&w.x<=u.width&&w.y<=u.height)break;l.lng>u.center.lng?l.lng-=360:l.lng+=360}return l}Gi.prototype.down=function(l,c){this.mouseRotate.mousedown(l,c),this.mousePitch&&this.mousePitch.mousedown(l,c),b.disableDrag()},Gi.prototype.move=function(l,c){var u=this.map,f=this.mouseRotate.mousemoveWindow(l,c);if(f&&f.bearingDelta&&u.setBearing(u.getBearing()+f.bearingDelta),this.mousePitch){var g=this.mousePitch.mousemoveWindow(l,c);g&&g.pitchDelta&&u.setPitch(u.getPitch()+g.pitchDelta)}},Gi.prototype.off=function(){var l=this.element;b.removeEventListener(l,"mousedown",this.mousedown),b.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(l,"touchmove",this.touchmove),b.removeEventListener(l,"touchend",this.touchend),b.removeEventListener(l,"touchcancel",this.reset),this.offTemp()},Gi.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(s.window,"mousemove",this.mousemove),b.removeEventListener(s.window,"mouseup",this.mouseup)},Gi.prototype.mousedown=function(l){this.down(s.extend({},l,{ctrlKey:!0,preventDefault:function(){return l.preventDefault()}}),b.mousePos(this.element,l)),b.addEventListener(s.window,"mousemove",this.mousemove),b.addEventListener(s.window,"mouseup",this.mouseup)},Gi.prototype.mousemove=function(l){this.move(l,b.mousePos(this.element,l))},Gi.prototype.mouseup=function(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()},Gi.prototype.touchstart=function(l){l.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return l.preventDefault()}},this._startPos))},Gi.prototype.touchmove=function(l){l.targetTouches.length!==1?this.reset():(this._lastPos=b.touchPos(this.element,l.targetTouches)[0],this.move({preventDefault:function(){return l.preventDefault()}},this._lastPos))},Gi.prototype.touchend=function(l){l.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Gi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var qo={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Qu(l,c,u){var f=l.classList;for(var g in qo)f.remove("mapboxgl-"+u+"-anchor-"+g);f.add("mapboxgl-"+u+"-anchor-"+c)}var Qs,Yl=function(l){function c(u,f){if(l.call(this),(u instanceof s.window.HTMLElement||f)&&(u=s.extend({element:u},f)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,u&&u.element)this._element=u.element,this._offset=s.Point.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var g=b.createNS("http://www.w3.org/2000/svg","svg");g.setAttributeNS(null,"display","block"),g.setAttributeNS(null,"height","41px"),g.setAttributeNS(null,"width","27px"),g.setAttributeNS(null,"viewBox","0 0 27 41");var x=b.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");var w=b.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"fill-rule","nonzero");var S=b.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"transform","translate(3.0, 29.0)"),S.setAttributeNS(null,"fill","#000000");for(var I=0,L=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];I<L.length;I+=1){var j=L[I],W=b.createNS("http://www.w3.org/2000/svg","ellipse");W.setAttributeNS(null,"opacity","0.04"),W.setAttributeNS(null,"cx","10.5"),W.setAttributeNS(null,"cy","5.80029008"),W.setAttributeNS(null,"rx",j.rx),W.setAttributeNS(null,"ry",j.ry),S.appendChild(W)}var G=b.createNS("http://www.w3.org/2000/svg","g");G.setAttributeNS(null,"fill",this._color);var ae=b.createNS("http://www.w3.org/2000/svg","path");ae.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),G.appendChild(ae);var ie=b.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"opacity","0.25"),ie.setAttributeNS(null,"fill","#000000");var pe=b.createNS("http://www.w3.org/2000/svg","path");pe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ie.appendChild(pe);var te=b.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");var ce=b.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(8.0, 8.0)");var ge=b.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#000000"),ge.setAttributeNS(null,"opacity","0.25"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962");var we=b.createNS("http://www.w3.org/2000/svg","circle");we.setAttributeNS(null,"fill","#FFFFFF"),we.setAttributeNS(null,"cx","5.5"),we.setAttributeNS(null,"cy","5.5"),we.setAttributeNS(null,"r","5.4999962"),ce.appendChild(ge),ce.appendChild(we),w.appendChild(S),w.appendChild(G),w.appendChild(ie),w.appendChild(te),w.appendChild(ce),g.appendChild(w),g.setAttributeNS(null,"height",41*this._scale+"px"),g.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(g),this._offset=s.Point.convert(u&&u.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Ae){Ae.preventDefault()}),this._element.addEventListener("mousedown",function(Ae){Ae.preventDefault()}),Qu(this._element,this._anchor,"marker"),this._popup=null}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.addTo=function(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},c.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},c.prototype.getLngLat=function(){return this._lngLat},c.prototype.setLngLat=function(u){return this._lngLat=s.LngLat.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},c.prototype.getElement=function(){return this._element},c.prototype.setPopup=function(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){var f=Math.sqrt(Math.pow(13.5,2)/2);u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(24.6+f)],"bottom-right":[-f,-1*(24.6+f)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=u,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},c.prototype._onKeyPress=function(u){var f=u.code,g=u.charCode||u.keyCode;f!=="Space"&&f!=="Enter"&&g!==32&&g!==13||this.togglePopup()},c.prototype._onMapClick=function(u){var f=u.originalEvent.target,g=this._element;this._popup&&(f===g||g.contains(f))&&this.togglePopup()},c.prototype.getPopup=function(){return this._popup},c.prototype.togglePopup=function(){var u=this._popup;return u?(u.isOpen()?u.remove():u.addTo(this._map),this):this},c.prototype._update=function(u){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Js(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(f="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var g="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?g="rotateX(0deg)":this._pitchAlignment==="map"&&(g="rotateX("+this._map.getPitch()+"deg)"),u&&u.type!=="moveend"||(this._pos=this._pos.round()),b.setTransform(this._element,qo[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+g+" "+f)}},c.prototype.getOffset=function(){return this._offset},c.prototype.setOffset=function(u){return this._offset=s.Point.convert(u),this._update(),this},c.prototype._onMove=function(u){if(!this._isDragging){var f=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))},c.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"},c.prototype._addDragHandler=function(u){this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},c.prototype.setDraggable=function(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},c.prototype.isDraggable=function(){return this._draggable},c.prototype.setRotation=function(u){return this._rotation=u||0,this._update(),this},c.prototype.getRotation=function(){return this._rotation},c.prototype.setRotationAlignment=function(u){return this._rotationAlignment=u||"auto",this._update(),this},c.prototype.getRotationAlignment=function(){return this._rotationAlignment},c.prototype.setPitchAlignment=function(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this},c.prototype.getPitchAlignment=function(){return this._pitchAlignment},c}(s.Evented),Yp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},el=0,Ss=!1,Jp=function(l){function c(u){l.call(this),this.options=s.extend({},Yp,u),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.onAdd=function(u){var f;return this._map=u,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),f=this._setupUI,Qs!==void 0?f(Qs):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(function(g){f(Qs=g.state!=="denied")}):f(Qs=!!s.window.navigator.geolocation),this._container},c.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,el=0,Ss=!1},c.prototype._isOutOfMapMaxBounds=function(u){var f=this._map.getMaxBounds(),g=u.coords;return f&&(g.longitude<f.getWest()||g.longitude>f.getEast()||g.latitude<f.getSouth()||g.latitude>f.getNorth())},c.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},c.prototype._onSuccess=function(u){if(this._map){if(this._isOutOfMapMaxBounds(u))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",u)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=u,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(u),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(u),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",u)),this._finish()}},c.prototype._updateCamera=function(u){var f=new s.LngLat(u.coords.longitude,u.coords.latitude),g=u.coords.accuracy,x=this._map.getBearing(),w=s.extend({bearing:x},this.options.fitBoundsOptions);this._map.fitBounds(f.toBounds(g),w,{geolocateSource:!0})},c.prototype._updateMarker=function(u){if(u){var f=new s.LngLat(u.coords.longitude,u.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=u.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},c.prototype._updateCircleRadius=function(){var u=this._map._container.clientHeight/2,f=this._map.unproject([0,u]),g=this._map.unproject([1,u]),x=f.distanceTo(g),w=Math.ceil(2*this._accuracy/x);this._circleElement.style.width=w+"px",this._circleElement.style.height=w+"px"},c.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},c.prototype._onError=function(u){if(this._map){if(this.options.trackUserLocation)if(u.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(u.code===3&&Ss)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",u)),this._finish()}},c.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},c.prototype._setupUI=function(u){var f=this;if(this._container.addEventListener("contextmenu",function(w){return w.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",u===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g)}else{var x=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=x,this._geolocateButton.setAttribute("aria-label",x)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Yl(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Yl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(w){w.geolocateSource||f._watchState!=="ACTIVE_LOCK"||w.originalEvent&&w.originalEvent.type==="resize"||(f._watchState="BACKGROUND",f._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),f._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),f.fire(new s.Event("trackuserlocationend")))})},c.prototype.trigger=function(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":el--,Ss=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var u;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++el>1?(u={maximumAge:6e5,timeout:0},Ss=!0):(u=this.options.positionOptions,Ss=!1),this._geolocationWatchID=s.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,u)}}else s.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},c.prototype._clearWatch=function(){s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},c}(s.Evented),Fa={maxWidth:100,unit:"metric"},Ba=function(l){this.options=s.extend({},Fa,l),s.bindAll(["_onMove","setUnit"],this)};function ec(l,c,u){var f=u&&u.maxWidth||100,g=l._container.clientHeight/2,x=l.unproject([0,g]),w=l.unproject([f,g]),S=x.distanceTo(w);if(u&&u.unit==="imperial"){var I=3.2808*S;I>5280?Na(c,f,I/5280,l._getUIString("ScaleControl.Miles")):Na(c,f,I,l._getUIString("ScaleControl.Feet"))}else u&&u.unit==="nautical"?Na(c,f,S/1852,l._getUIString("ScaleControl.NauticalMiles")):S>=1e3?Na(c,f,S/1e3,l._getUIString("ScaleControl.Kilometers")):Na(c,f,S,l._getUIString("ScaleControl.Meters"))}function Na(l,c,u,f){var g,x,w,S=(g=u,(x=Math.pow(10,(""+Math.floor(g)).length-1))*(w=(w=g/x)>=10?10:w>=5?5:w>=3?3:w>=2?2:w>=1?1:function(I){var L=Math.pow(10,Math.ceil(-Math.log(I)/Math.LN10));return Math.round(I*L)/L}(w)));l.style.width=c*(S/u)+"px",l.innerHTML=S+"&nbsp;"+f}Ba.prototype.getDefaultPosition=function(){return"bottom-left"},Ba.prototype._onMove=function(){ec(this._map,this._container,this.options)},Ba.prototype.onAdd=function(l){return this._map=l,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",l.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ba.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ba.prototype.setUnit=function(l){this.options.unit=l,ec(this._map,this._container,this.options)};var go=function(l){this._fullscreen=!1,l&&l.container&&(l.container instanceof s.window.HTMLElement?this._container=l.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in s.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in s.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in s.window.document&&(this._fullscreenchange="MSFullscreenChange")};go.prototype.onAdd=function(l){return this._map=l,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},go.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},go.prototype._checkFullscreenSupport=function(){return!!(s.window.document.fullscreenEnabled||s.window.document.mozFullScreenEnabled||s.window.document.msFullscreenEnabled||s.window.document.webkitFullscreenEnabled)},go.prototype._setupUI=function(){var l=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",l).setAttribute("aria-hidden",!0),l.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},go.prototype._updateTitle=function(){var l=this._getTitle();this._fullscreenButton.setAttribute("aria-label",l),this._fullscreenButton.title=l},go.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},go.prototype._isFullscreen=function(){return this._fullscreen},go.prototype._changeIcon=function(){(s.window.document.fullscreenElement||s.window.document.mozFullScreenElement||s.window.document.webkitFullscreenElement||s.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},go.prototype._onClickFullscreen=function(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.mozCancelFullScreen?s.window.document.mozCancelFullScreen():s.window.document.msExitFullscreen?s.window.document.msExitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Qp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Jl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),eh=function(l){function c(u){l.call(this),this.options=s.extend(Object.create(Qp),u),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.addTo=function(u){return this._map&&this.remove(),this._map=u,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this},c.prototype.isOpen=function(){return!!this._map},c.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this},c.prototype.getLngLat=function(){return this._lngLat},c.prototype.setLngLat=function(u){return this._lngLat=s.LngLat.convert(u),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},c.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},c.prototype.getElement=function(){return this._container},c.prototype.setText=function(u){return this.setDOMContent(s.window.document.createTextNode(u))},c.prototype.setHTML=function(u){var f,g=s.window.document.createDocumentFragment(),x=s.window.document.createElement("body");for(x.innerHTML=u;f=x.firstChild;)g.appendChild(f);return this.setDOMContent(g)},c.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},c.prototype.setMaxWidth=function(u){return this.options.maxWidth=u,this._update(),this},c.prototype.setDOMContent=function(u){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(u),this._createCloseButton(),this._update(),this._focusFirstElement(),this},c.prototype.addClassName=function(u){this._container&&this._container.classList.add(u)},c.prototype.removeClassName=function(u){this._container&&this._container.classList.remove(u)},c.prototype.setOffset=function(u){return this.options.offset=u,this._update(),this},c.prototype.toggleClassName=function(u){if(this._container)return this._container.classList.toggle(u)},c.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},c.prototype._onMouseUp=function(u){this._update(u.point)},c.prototype._onMouseMove=function(u){this._update(u.point)},c.prototype._onDrag=function(u){this._update(u.point)},c.prototype._update=function(u){var f=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(W){return f._container.classList.add(W)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Js(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||u)){var g=this._pos=this._trackPointer&&u?u:this._map.project(this._lngLat),x=this.options.anchor,w=function W(G){if(G){if(typeof G=="number"){var ae=Math.round(Math.sqrt(.5*Math.pow(G,2)));return{center:new s.Point(0,0),top:new s.Point(0,G),"top-left":new s.Point(ae,ae),"top-right":new s.Point(-ae,ae),bottom:new s.Point(0,-G),"bottom-left":new s.Point(ae,-ae),"bottom-right":new s.Point(-ae,-ae),left:new s.Point(G,0),right:new s.Point(-G,0)}}if(G instanceof s.Point||Array.isArray(G)){var ie=s.Point.convert(G);return{center:ie,top:ie,"top-left":ie,"top-right":ie,bottom:ie,"bottom-left":ie,"bottom-right":ie,left:ie,right:ie}}return{center:s.Point.convert(G.center||[0,0]),top:s.Point.convert(G.top||[0,0]),"top-left":s.Point.convert(G["top-left"]||[0,0]),"top-right":s.Point.convert(G["top-right"]||[0,0]),bottom:s.Point.convert(G.bottom||[0,0]),"bottom-left":s.Point.convert(G["bottom-left"]||[0,0]),"bottom-right":s.Point.convert(G["bottom-right"]||[0,0]),left:s.Point.convert(G.left||[0,0]),right:s.Point.convert(G.right||[0,0])}}return W(new s.Point(0,0))}(this.options.offset);if(!x){var S,I=this._container.offsetWidth,L=this._container.offsetHeight;S=g.y+w.bottom.y<L?["top"]:g.y>this._map.transform.height-L?["bottom"]:[],g.x<I/2?S.push("left"):g.x>this._map.transform.width-I/2&&S.push("right"),x=S.length===0?"bottom":S.join("-")}var j=g.add(w[x]).round();b.setTransform(this._container,qo[x]+" translate("+j.x+"px,"+j.y+"px)"),Qu(this._container,x,"popup")}},c.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var u=this._container.querySelector(Jl);u&&u.focus()}},c.prototype._onClose=function(){this.remove()},c}(s.Evented),tc={version:s.version,supported:_,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:Ld,NavigationControl:ha,GeolocateControl:Jp,AttributionControl:bi,ScaleControl:Ba,FullscreenControl:go,Popup:eh,Marker:Yl,Style:ji,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.Point,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,config:s.config,prewarm:function(){Le().acquire(ze)},clearPrewarmedResources:function(){var l=mt;l&&(l.isPreloaded()&&l.numActive()===1?(l.release(ze),mt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(l){s.config.ACCESS_TOKEN=l},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(l){s.config.API_URL=l},get workerCount(){return Ve.workerCount},set workerCount(l){Ve.workerCount=l},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(l){s.config.MAX_PARALLEL_IMAGE_REQUESTS=l},clearStorage:function(l){s.clearTileCache(l)},workerUrl:""};return tc}),p})})(XT);var js=XT.exports;function LF(e){if(Array.isArray(e))return e}function OF(e,n){var i=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a=[],p=!0,m=!1,s,_;try{for(i=i.call(e);!(p=(s=i.next()).done)&&(a.push(s.value),!(n&&a.length===n));p=!0);}catch(b){m=!0,_=b}finally{try{!p&&i.return!=null&&i.return()}finally{if(m)throw _}}return a}}function KT(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,a=new Array(n);i<n;i++)a[i]=e[i];return a}function DF(e,n){if(!!e){if(typeof e=="string")return KT(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return KT(e,n)}}function FF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ll(e,n){return LF(e)||OF(e,n)||DF(e,n)||FF()}var BF=1e-7;function _x(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function YT(e,n){if(e===n)return!0;if(_x(e)&&_x(n)){if(e.length!==n.length)return!1;for(var i=0;i<e.length;++i)if(!YT(e[i],n[i]))return!1;return!0}return Math.abs(e-n)<=BF}function lg(e,n,i){return Math.max(n,Math.min(i,e))}function ug(e,n,i){return _x(e)?e.map(function(a,p){return ug(a,n[p],i)}):i*n+(1-i)*e}function uo(e,n){if(!e)throw new Error(n||"react-map-gl: assertion failed.")}var JT=function(){function e(){Jr(this,e),Oe(this,"propNames",[])}return jr(e,[{key:"arePropsEqual",value:function(i,a){var p=!0,m=!1,s=void 0;try{for(var _=(this.propNames||[])[Symbol.iterator](),b;!(p=(b=_.next()).done);p=!0){var C=b.value;if(!YT(i[C],a[C]))return!1}}catch(M){m=!0,s=M}finally{try{!p&&_.return!=null&&_.return()}finally{if(m)throw s}}return!0}},{key:"initializeProps",value:function(i,a){return{start:i,end:a}}},{key:"interpolateProps",value:function(i,a,p){uo(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(i,a){return a.transitionDuration}}]),e}(),NF={longitude:1,bearing:1};function cg(e){return Number.isFinite(e)||Array.isArray(e)}function UF(e){return e in NF}function xx(e,n,i){return UF(e)&&Math.abs(i-n)>180&&(i=i<0?i+360:i-360),i}var VF=["longitude","latitude","zoom","bearing","pitch"],jF=["latitude","longitude","zoom","width","height"],QT=["bearing","pitch"],$F={speed:1.2,curve:1.414};(function(e){Ni(n,e);function n(){var i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Jr(this,n),i=Bi(this,Vr(n).call(this)),Oe(at(i),"speed",void 0),Oe(at(i),"propNames",VF),Oe(at(i),"props",void 0),i.props=Object.assign({},$F,a),i}return jr(n,[{key:"initializeProps",value:function(a,p){var m={},s={},_=!0,b=!1,C=void 0;try{for(var M=jF[Symbol.iterator](),O;!(_=(O=M.next()).done);_=!0){var R=O.value,Y=a[R],ee=p[R];uo(cg(Y)&&cg(ee),"".concat(R," must be supplied for transition")),m[R]=Y,s[R]=xx(R,Y,ee)}}catch(xe){b=!0,C=xe}finally{try{!_&&M.return!=null&&M.return()}finally{if(b)throw C}}var J=!0,q=!1,B=void 0;try{for(var $=QT[Symbol.iterator](),Q;!(J=(Q=$.next()).done);J=!0){var H=Q.value,ye=a[H]||0,me=p[H]||0;m[H]=ye,s[H]=xx(H,ye,me)}}catch(xe){q=!0,B=xe}finally{try{!J&&$.return!=null&&$.return()}finally{if(q)throw B}}return{start:m,end:s}}},{key:"interpolateProps",value:function(a,p,m){var s=EF(a,p,m,this.props),_=!0,b=!1,C=void 0;try{for(var M=QT[Symbol.iterator](),O;!(_=(O=M.next()).done);_=!0){var R=O.value;s[R]=ug(a[R],p[R],m)}}catch(Y){b=!0,C=Y}finally{try{!_&&M.return!=null&&M.return()}finally{if(b)throw C}}return s}},{key:"getDuration",value:function(a,p){var m=p.transitionDuration;return m==="auto"&&(m=SF(a,p,this.props)),m}}]),n})(JT);var qF=["longitude","latitude","zoom","bearing","pitch"],bx=function(e){Ni(n,e);function n(){var i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Jr(this,n),i=Bi(this,Vr(n).call(this)),Oe(at(i),"around",void 0),Array.isArray(a)&&(a={transitionProps:a}),i.propNames=a.transitionProps||qF,a.around&&(i.around=a.around),i}return jr(n,[{key:"initializeProps",value:function(a,p){var m={},s={};if(this.around){m.around=this.around;var _=new No(a).unproject(this.around);Object.assign(s,p,{around:new No(p).project(_),aroundLngLat:_})}var b=!0,C=!1,M=void 0;try{for(var O=this.propNames[Symbol.iterator](),R;!(b=(R=O.next()).done);b=!0){var Y=R.value,ee=a[Y],J=p[Y];uo(cg(ee)&&cg(J),"".concat(Y," must be supplied for transition")),m[Y]=ee,s[Y]=xx(Y,ee,J)}}catch(q){C=!0,M=q}finally{try{!b&&O.return!=null&&O.return()}finally{if(C)throw M}}return{start:m,end:s}}},{key:"interpolateProps",value:function(a,p,m){var s={},_=!0,b=!1,C=void 0;try{for(var M=this.propNames[Symbol.iterator](),O;!(_=(O=M.next()).done);_=!0){var R=O.value;s[R]=ug(a[R],p[R],m)}}catch(B){b=!0,C=B}finally{try{!_&&M.return!=null&&M.return()}finally{if(b)throw C}}if(p.around){var Y=new No(Object.assign({},p,s)).getMapCenterByLngLatPosition({lngLat:p.aroundLngLat,pos:ug(a.around,p.around,m)}),ee=Ll(Y,2),J=ee[0],q=ee[1];s.longitude=J,s.latitude=q}return s}}]),n}(JT),Lu={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},wx={pitch:0,bearing:0,altitude:1.5},Qf=function(){function e(n){var i=n.width,a=n.height,p=n.latitude,m=n.longitude,s=n.zoom,_=n.bearing,b=_===void 0?wx.bearing:_,C=n.pitch,M=C===void 0?wx.pitch:C,O=n.altitude,R=O===void 0?wx.altitude:O,Y=n.maxZoom,ee=Y===void 0?Lu.maxZoom:Y,J=n.minZoom,q=J===void 0?Lu.minZoom:J,B=n.maxPitch,$=B===void 0?Lu.maxPitch:B,Q=n.minPitch,H=Q===void 0?Lu.minPitch:Q,ye=n.transitionDuration,me=n.transitionEasing,xe=n.transitionInterpolator,Te=n.transitionInterruption,Se=n.startPanLngLat,Ne=n.startZoomLngLat,He=n.startBearing,yt=n.startPitch,Qe=n.startZoom;Jr(this,e),Oe(this,"_viewportProps",void 0),Oe(this,"_interactiveState",void 0),uo(Number.isFinite(i),"`width` must be supplied"),uo(Number.isFinite(a),"`height` must be supplied"),uo(Number.isFinite(m),"`longitude` must be supplied"),uo(Number.isFinite(p),"`latitude` must be supplied"),uo(Number.isFinite(s),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:i,height:a,latitude:p,longitude:m,zoom:s,bearing:b,pitch:M,altitude:R,maxZoom:ee,minZoom:q,maxPitch:$,minPitch:H,transitionDuration:ye,transitionEasing:me,transitionInterpolator:xe,transitionInterruption:Te}),this._interactiveState={startPanLngLat:Se,startZoomLngLat:Ne,startBearing:He,startPitch:yt,startZoom:Qe}}return jr(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(i){var a=i.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(a)})}},{key:"pan",value:function(i){var a=i.pos,p=i.startPos,m=this._interactiveState.startPanLngLat||this._unproject(p);if(!m)return this;var s=this._calculateNewLngLat({startPanLngLat:m,pos:a}),_=Ll(s,2),b=_[0],C=_[1];return this._getUpdatedMapState({longitude:b,latitude:C})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(i){return i.pos,this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(i){var a=i.deltaScaleX,p=a===void 0?0:a,m=i.deltaScaleY,s=m===void 0?0:m,_=this._interactiveState,b=_.startBearing,C=_.startPitch;if(!Number.isFinite(b)||!Number.isFinite(C))return this;var M=this._calculateNewPitchAndBearing({deltaScaleX:p,deltaScaleY:s,startBearing:b||0,startPitch:C||0}),O=M.pitch,R=M.bearing;return this._getUpdatedMapState({bearing:R,pitch:O})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(i){var a=i.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(a),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(i){var a=i.pos,p=i.startPos,m=i.scale;uo(m>0,"`scale` must be a positive number");var s=this._interactiveState,_=s.startZoom,b=s.startZoomLngLat;Number.isFinite(_)||(_=this._viewportProps.zoom,b=this._unproject(p)||this._unproject(a)),uo(b,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var C=this._calculateNewZoom({scale:m,startZoom:_||0}),M=new No(Object.assign({},this._viewportProps,{zoom:C})),O=M.getMapCenterByLngLatPosition({lngLat:b,pos:a}),R=Ll(O,2),Y=R[0],ee=R[1];return this._getUpdatedMapState({zoom:C,longitude:Y,latitude:ee})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(i){return new e(Object.assign({},this._viewportProps,this._interactiveState,i))}},{key:"_applyConstraints",value:function(i){var a=i.maxZoom,p=i.minZoom,m=i.zoom;i.zoom=lg(m,p,a);var s=i.maxPitch,_=i.minPitch,b=i.pitch;return i.pitch=lg(b,_,s),Object.assign(i,bF(i)),i}},{key:"_unproject",value:function(i){var a=new No(this._viewportProps);return i&&a.unproject(i)}},{key:"_calculateNewLngLat",value:function(i){var a=i.startPanLngLat,p=i.pos,m=new No(this._viewportProps);return m.getMapCenterByLngLatPosition({lngLat:a,pos:p})}},{key:"_calculateNewZoom",value:function(i){var a=i.scale,p=i.startZoom,m=this._viewportProps,s=m.maxZoom,_=m.minZoom,b=p+Math.log2(a);return lg(b,_,s)}},{key:"_calculateNewPitchAndBearing",value:function(i){var a=i.deltaScaleX,p=i.deltaScaleY,m=i.startBearing,s=i.startPitch;p=lg(p,-1,1);var _=this._viewportProps,b=_.minPitch,C=_.maxPitch,M=m+180*a,O=s;return p>0?O=s+p*(C-s):p<0&&(O=s-p*(b-s)),{pitch:O,bearing:M}}}]),e}();function WF(e){return e[0].toLowerCase()+e.slice(1)}function ZF(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lu;for(var i in n){var a=i.slice(0,3),p=WF(i.slice(3));if(a==="min"&&e[p]<n[i]||a==="max"&&e[p]>n[i])return!1}return!0}var Sp=le.exports.createContext({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function eC(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),i.push.apply(i,a)}return i}function tC(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?eC(i,!0).forEach(function(a){Oe(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eC(i).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}var GF="https://uber.github.io/react-map-gl/docs/get-started/mapbox-tokens",HF="A valid API access token is required to use Mapbox data";function XF(){}var KF=401,nC={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},YF=Object.assign({},Ru.propTypes,{width:De.oneOfType([De.number,De.string]),height:De.oneOfType([De.number,De.string]),onResize:De.func,preventStyleDiffing:De.bool,disableTokenWarning:De.bool,visible:De.bool,className:De.string,style:De.object,visibilityConstraints:De.object}),JF=Object.assign({},Ru.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:XF,className:"",style:null,visibilityConstraints:Lu}),Tp=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"state",{accessTokenInvalid:!1}),Oe(at(a),"_mapbox",null),Oe(at(a),"_map",null),Oe(at(a),"_mapboxMapRef",le.exports.createRef()),Oe(at(a),"_mapContainerRef",le.exports.createRef()),Oe(at(a),"_queryParams",{}),Oe(at(a),"_width",0),Oe(at(a),"_height",0),Oe(at(a),"getMap",function(){return a._map}),Oe(at(a),"queryRenderedFeatures",function(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a._map.queryRenderedFeatures(_,b)}),Oe(at(a),"_mapboxMapError",function(_){var b=_.error&&_.error.status||_.status;b===KF&&!a.state.accessTokenInvalid&&(console.error(HF),a.setState({accessTokenInvalid:!0})),a.props.onError(_)}),a}return jr(n,[{key:"componentDidMount",value:function(){if(!!n.supported()){var a=this.props.mapStyle;this._mapbox=new Ru(Object.assign({},this.props,{mapboxgl:js,width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:TT(a)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(a){this._mapbox&&(this._updateMapStyle(a,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(a,p){(this._width!==a||this._height!==p)&&(this._width=a,this._height=p,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(a,p){var m=p.mapStyle,s=a.mapStyle;m!==s&&m&&this._map.setStyle(TT(m),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(a){!this._mapbox||this._mapbox.setProps(Object.assign({},a,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){var a={position:"absolute",left:0,top:0};return le.exports.createElement("div",{key:"warning",id:"no-token-warning",style:a},le.exports.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),le.exports.createElement("div",{key:"text"},"For information on setting up your basemap, read"),le.exports.createElement("a",{key:"link",href:GF},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(a){var p=this,m=a.width,s=m===void 0?Number(this.props.width):m,_=a.height,b=_===void 0?Number(this.props.height):_;return this._updateMapSize(s,b),le.exports.createElement(Sp.Consumer,null,function(C){var M=tC({},C,{viewport:new No(tC({},p.props,{},p.props.viewState,{width:s,height:b})),map:p._map,mapContainer:C.mapContainer||p._mapContainerRef.current});return le.exports.createElement(Sp.Provider,{value:M},le.exports.createElement("div",{key:"map-overlays",className:"overlays",style:nC},p.props.children))})}},{key:"render",value:function(){var a=this.props,p=a.className,m=a.width,s=a.height,_=a.style,b=a.visibilityConstraints,C=Object.assign({position:"relative"},_,{width:m,height:s}),M=this.props.visible&&ZF(this.props.viewState||this.props,b),O=Object.assign({},nC,{visibility:M?"inherit":"hidden"});return le.exports.createElement("div",{key:"map-container",style:C,ref:this._mapContainerRef},le.exports.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:O,className:p}),le.exports.createElement(WT,{key:"autosizer",disableWidth:Number.isFinite(m),disableHeight:Number.isFinite(s),onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return js&&js.supported()}}]),n}(le.exports.PureComponent);Oe(Tp,"propTypes",YF);Oe(Tp,"defaultProps",JF);var ed=function(){};function QF(e,n){var i=e(n);return function(a){return 1/(1-i)*(e(a*(1-n)+n)-i)}}var td={BREAK:1,SNAP_TO_END:2,IGNORE:3,UPDATE:4},eB={transitionDuration:0,transitionEasing:function(n){return n},transitionInterpolator:new bx,transitionInterruption:td.BREAK,onTransitionStart:ed,onTransitionInterrupt:ed,onTransitionEnd:ed,onViewportChange:ed,onStateChange:ed},pg=function(){function e(n,i){var a=this;Jr(this,e),Oe(this,"props",void 0),Oe(this,"state",void 0),Oe(this,"time",void 0),Oe(this,"_animationFrame",null),Oe(this,"_onTransitionFrame",function(){a._animationFrame=requestAnimationFrame(a._onTransitionFrame),a._updateViewport()}),n&&(this.props=n),this.time=i||Date.now}return jr(e,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(i){var a=this.props;if(this.props=i,this._shouldIgnoreViewportChange(a,i))return!1;if(this._isTransitionEnabled(i)){var p=Object.assign({},a),m=Object.assign({},i);if(this._isTransitionInProgress()&&(a.onTransitionInterrupt(),this.state.interruption===td.SNAP_TO_END?Object.assign(p,this.state.endProps):Object.assign(p,this.state.propsInTransition),this.state.interruption===td.UPDATE)){var s=this.time(),_=(s-this.state.startTime)/this.state.duration;m.transitionDuration=this.state.duration-(s-this.state.startTime),m.transitionEasing=QF(this.state.easing,_),m.transitionInterpolator=p.transitionInterpolator}return m.onTransitionStart(),this._triggerTransition(p,m),!0}return this._isTransitionInProgress()&&(a.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(i){var a=i.transitionDuration,p=i.transitionInterpolator;return(a>0||a==="auto")&&Boolean(p)}},{key:"_isUpdateDueToCurrentTransition",value:function(i){return this.state.propsInTransition?this.state.interpolator.arePropsEqual(i,this.state.propsInTransition):!1}},{key:"_shouldIgnoreViewportChange",value:function(i,a){return i?this._isTransitionInProgress()?this.state.interruption===td.IGNORE||this._isUpdateDueToCurrentTransition(a):this._isTransitionEnabled(a)?a.transitionInterpolator.arePropsEqual(i,a):!0:!0}},{key:"_triggerTransition",value:function(i,a){uo(this._isTransitionEnabled(a)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var p=a.transitionInterpolator,m=p.getDuration?p.getDuration(i,a):a.transitionDuration;if(m!==0){var s=a.transitionInterpolator.initializeProps(i,a),_={inTransition:!0,isZooming:i.zoom!==a.zoom,isPanning:i.longitude!==a.longitude||i.latitude!==a.latitude,isRotating:i.bearing!==a.bearing||i.pitch!==a.pitch};this.state={duration:m,easing:a.transitionEasing,interpolator:a.transitionInterpolator,interruption:a.transitionInterruption,startTime:this.time(),startProps:s.start,endProps:s.end,animation:null,propsInTransition:{},interactionState:_},this._onTransitionFrame(),this.props.onStateChange(_)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var i=this.time(),a=this.state,p=a.startTime,m=a.duration,s=a.easing,_=a.interpolator,b=a.startProps,C=a.endProps,M=!1,O=(i-p)/m;O>=1&&(O=1,M=!0),O=s(O);var R=_.interpolateProps(b,C,O),Y=new Qf(Object.assign({},this.props,R));this.state.propsInTransition=Y.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),M&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}();Oe(pg,"defaultProps",eB);var rC={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(e){(function(n,i,a,p){var m=["","webkit","Moz","MS","ms","o"],s=i.createElement("div"),_="function",b=Math.round,C=Math.abs,M=Date.now;function O(V,K,fe){return setTimeout(Q(V,fe),K)}function R(V,K,fe){return Array.isArray(V)?(Y(V,fe[K],fe),!0):!1}function Y(V,K,fe){var Ce;if(!!V)if(V.forEach)V.forEach(K,fe);else if(V.length!==p)for(Ce=0;Ce<V.length;)K.call(fe,V[Ce],Ce,V),Ce++;else for(Ce in V)V.hasOwnProperty(Ce)&&K.call(fe,V[Ce],Ce,V)}function ee(V,K,fe){var Ce="DEPRECATED METHOD: "+K+`
`+fe+` AT 
`;return function(){var We=new Error("get-stack-trace"),wt=We&&We.stack?We.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",mn=n.console&&(n.console.warn||n.console.log);return mn&&mn.call(n.console,Ce,wt),V.apply(this,arguments)}}var J;typeof Object.assign!="function"?J=function(K){if(K===p||K===null)throw new TypeError("Cannot convert undefined or null to object");for(var fe=Object(K),Ce=1;Ce<arguments.length;Ce++){var We=arguments[Ce];if(We!==p&&We!==null)for(var wt in We)We.hasOwnProperty(wt)&&(fe[wt]=We[wt])}return fe}:J=Object.assign;var q=ee(function(K,fe,Ce){for(var We=Object.keys(fe),wt=0;wt<We.length;)(!Ce||Ce&&K[We[wt]]===p)&&(K[We[wt]]=fe[We[wt]]),wt++;return K},"extend","Use `assign`."),B=ee(function(K,fe){return q(K,fe,!0)},"merge","Use `assign`.");function $(V,K,fe){var Ce=K.prototype,We;We=V.prototype=Object.create(Ce),We.constructor=V,We._super=Ce,fe&&J(We,fe)}function Q(V,K){return function(){return V.apply(K,arguments)}}function H(V,K){return typeof V==_?V.apply(K&&K[0]||p,K):V}function ye(V,K){return V===p?K:V}function me(V,K,fe){Y(Ne(K),function(Ce){V.addEventListener(Ce,fe,!1)})}function xe(V,K,fe){Y(Ne(K),function(Ce){V.removeEventListener(Ce,fe,!1)})}function Te(V,K){for(;V;){if(V==K)return!0;V=V.parentNode}return!1}function Se(V,K){return V.indexOf(K)>-1}function Ne(V){return V.trim().split(/\s+/g)}function He(V,K,fe){if(V.indexOf&&!fe)return V.indexOf(K);for(var Ce=0;Ce<V.length;){if(fe&&V[Ce][fe]==K||!fe&&V[Ce]===K)return Ce;Ce++}return-1}function yt(V){return Array.prototype.slice.call(V,0)}function Qe(V,K,fe){for(var Ce=[],We=[],wt=0;wt<V.length;){var mn=K?V[wt][K]:V[wt];He(We,mn)<0&&Ce.push(V[wt]),We[wt]=mn,wt++}return fe&&(K?Ce=Ce.sort(function(ei,ui){return ei[K]>ui[K]}):Ce=Ce.sort()),Ce}function Ke(V,K){for(var fe,Ce,We=K[0].toUpperCase()+K.slice(1),wt=0;wt<m.length;){if(fe=m[wt],Ce=fe?fe+We:K,Ce in V)return Ce;wt++}return p}var ft=1;function st(){return ft++}function gt(V){var K=V.ownerDocument||V;return K.defaultView||K.parentWindow||n}var Ft=/mobile|tablet|ip(ad|hone|od)|android/i,Gt="ontouchstart"in n,vn=Ke(n,"PointerEvent")!==p,$e=Gt&&Ft.test(navigator.userAgent),rt="touch",It="pen",$t="mouse",cn="kinect",sr=25,jt=1,Yt=2,St=4,Ht=8,zn=1,Gn=2,Nt=4,Bn=8,Tn=16,Cn=Gn|Nt,bn=Bn|Tn,Or=Cn|bn,Tr=["x","y"],_n=["clientX","clientY"];function tr(V,K){var fe=this;this.manager=V,this.callback=K,this.element=V.element,this.target=V.options.inputTarget,this.domHandler=function(Ce){H(V.options.enable,[V])&&fe.handler(Ce)},this.init()}tr.prototype={handler:function(){},init:function(){this.evEl&&me(this.element,this.evEl,this.domHandler),this.evTarget&&me(this.target,this.evTarget,this.domHandler),this.evWin&&me(gt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&xe(this.element,this.evEl,this.domHandler),this.evTarget&&xe(this.target,this.evTarget,this.domHandler),this.evWin&&xe(gt(this.element),this.evWin,this.domHandler)}};function si(V){var K,fe=V.options.inputClass;return fe?K=fe:vn?K=Vo:$e?K=de:Gt?K=be:K=aa,new K(V,yr)}function yr(V,K,fe){var Ce=fe.pointers.length,We=fe.changedPointers.length,wt=K&jt&&Ce-We==0,mn=K&(St|Ht)&&Ce-We==0;fe.isFirst=!!wt,fe.isFinal=!!mn,wt&&(V.session={}),fe.eventType=K,Cr(V,fe),V.emit("hammer.input",fe),V.recognize(fe),V.session.prevInput=fe}function Cr(V,K){var fe=V.session,Ce=K.pointers,We=Ce.length;fe.firstInput||(fe.firstInput=dt(K)),We>1&&!fe.firstMultiple?fe.firstMultiple=dt(K):We===1&&(fe.firstMultiple=!1);var wt=fe.firstInput,mn=fe.firstMultiple,Ir=mn?mn.center:wt.center,ei=K.center=xt(Ce);K.timeStamp=M(),K.deltaTime=K.timeStamp-wt.timeStamp,K.angle=ia(Ir,ei),K.distance=di(Ir,ei),$r(fe,K),K.offsetDirection=Qr(K.deltaX,K.deltaY);var ui=In(K.deltaTime,K.deltaX,K.deltaY);K.overallVelocityX=ui.x,K.overallVelocityY=ui.y,K.overallVelocity=C(ui.x)>C(ui.y)?ui.x:ui.y,K.scale=mn?os(mn.pointers,Ce):1,K.rotation=mn?Ea(mn.pointers,Ce):0,K.maxPointers=fe.prevInput?K.pointers.length>fe.prevInput.maxPointers?K.pointers.length:fe.prevInput.maxPointers:K.pointers.length,gr(fe,K);var ho=V.element;Te(K.srcEvent.target,ho)&&(ho=K.srcEvent.target),K.target=ho}function $r(V,K){var fe=K.center,Ce=V.offsetDelta||{},We=V.prevDelta||{},wt=V.prevInput||{};(K.eventType===jt||wt.eventType===St)&&(We=V.prevDelta={x:wt.deltaX||0,y:wt.deltaY||0},Ce=V.offsetDelta={x:fe.x,y:fe.y}),K.deltaX=We.x+(fe.x-Ce.x),K.deltaY=We.y+(fe.y-Ce.y)}function gr(V,K){var fe=V.lastInterval||K,Ce=K.timeStamp-fe.timeStamp,We,wt,mn,Ir;if(K.eventType!=Ht&&(Ce>sr||fe.velocity===p)){var ei=K.deltaX-fe.deltaX,ui=K.deltaY-fe.deltaY,ho=In(Ce,ei,ui);wt=ho.x,mn=ho.y,We=C(ho.x)>C(ho.y)?ho.x:ho.y,Ir=Qr(ei,ui),V.lastInterval=K}else We=fe.velocity,wt=fe.velocityX,mn=fe.velocityY,Ir=fe.direction;K.velocity=We,K.velocityX=wt,K.velocityY=mn,K.direction=Ir}function dt(V){for(var K=[],fe=0;fe<V.pointers.length;)K[fe]={clientX:b(V.pointers[fe].clientX),clientY:b(V.pointers[fe].clientY)},fe++;return{timeStamp:M(),pointers:K,center:xt(K),deltaX:V.deltaX,deltaY:V.deltaY}}function xt(V){var K=V.length;if(K===1)return{x:b(V[0].clientX),y:b(V[0].clientY)};for(var fe=0,Ce=0,We=0;We<K;)fe+=V[We].clientX,Ce+=V[We].clientY,We++;return{x:b(fe/K),y:b(Ce/K)}}function In(V,K,fe){return{x:K/V||0,y:fe/V||0}}function Qr(V,K){return V===K?zn:C(V)>=C(K)?V<0?Gn:Nt:K<0?Bn:Tn}function di(V,K,fe){fe||(fe=Tr);var Ce=K[fe[0]]-V[fe[0]],We=K[fe[1]]-V[fe[1]];return Math.sqrt(Ce*Ce+We*We)}function ia(V,K,fe){fe||(fe=Tr);var Ce=K[fe[0]]-V[fe[0]],We=K[fe[1]]-V[fe[1]];return Math.atan2(We,Ce)*180/Math.PI}function Ea(V,K){return ia(K[1],K[0],_n)+ia(V[1],V[0],_n)}function os(V,K){return di(K[0],K[1],_n)/di(V[0],V[1],_n)}var oa={mousedown:jt,mousemove:Yt,mouseup:St},as="mousedown",ss="mousemove mouseup";function aa(){this.evEl=as,this.evWin=ss,this.pressed=!1,tr.apply(this,arguments)}$(aa,tr,{handler:function(K){var fe=oa[K.type];fe&jt&&K.button===0&&(this.pressed=!0),fe&Yt&&K.which!==1&&(fe=St),!!this.pressed&&(fe&St&&(this.pressed=!1),this.callback(this.manager,fe,{pointers:[K],changedPointers:[K],pointerType:$t,srcEvent:K}))}});var $s={pointerdown:jt,pointermove:Yt,pointerup:St,pointercancel:Ht,pointerout:Ht},sa={2:rt,3:It,4:$t,5:cn},co="pointerdown",po="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(co="MSPointerDown",po="MSPointerMove MSPointerUp MSPointerCancel");function Vo(){this.evEl=co,this.evWin=po,tr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}$(Vo,tr,{handler:function(K){var fe=this.store,Ce=!1,We=K.type.toLowerCase().replace("ms",""),wt=$s[We],mn=sa[K.pointerType]||K.pointerType,Ir=mn==rt,ei=He(fe,K.pointerId,"pointerId");wt&jt&&(K.button===0||Ir)?ei<0&&(fe.push(K),ei=fe.length-1):wt&(St|Ht)&&(Ce=!0),!(ei<0)&&(fe[ei]=K,this.callback(this.manager,wt,{pointers:fe,changedPointers:[K],pointerType:mn,srcEvent:K}),Ce&&fe.splice(ei,1))}});var ls={touchstart:jt,touchmove:Yt,touchend:St,touchcancel:Ht},rr="touchstart",z="touchstart touchmove touchend touchcancel";function D(){this.evTarget=rr,this.evWin=z,this.started=!1,tr.apply(this,arguments)}$(D,tr,{handler:function(K){var fe=ls[K.type];if(fe===jt&&(this.started=!0),!!this.started){var Ce=N.call(this,K,fe);fe&(St|Ht)&&Ce[0].length-Ce[1].length==0&&(this.started=!1),this.callback(this.manager,fe,{pointers:Ce[0],changedPointers:Ce[1],pointerType:rt,srcEvent:K})}}});function N(V,K){var fe=yt(V.touches),Ce=yt(V.changedTouches);return K&(St|Ht)&&(fe=Qe(fe.concat(Ce),"identifier",!0)),[fe,Ce]}var X={touchstart:jt,touchmove:Yt,touchend:St,touchcancel:Ht},oe="touchstart touchmove touchend touchcancel";function de(){this.evTarget=oe,this.targetIds={},tr.apply(this,arguments)}$(de,tr,{handler:function(K){var fe=X[K.type],Ce=ve.call(this,K,fe);!Ce||this.callback(this.manager,fe,{pointers:Ce[0],changedPointers:Ce[1],pointerType:rt,srcEvent:K})}});function ve(V,K){var fe=yt(V.touches),Ce=this.targetIds;if(K&(jt|Yt)&&fe.length===1)return Ce[fe[0].identifier]=!0,[fe,fe];var We,wt,mn=yt(V.changedTouches),Ir=[],ei=this.target;if(wt=fe.filter(function(ui){return Te(ui.target,ei)}),K===jt)for(We=0;We<wt.length;)Ce[wt[We].identifier]=!0,We++;for(We=0;We<mn.length;)Ce[mn[We].identifier]&&Ir.push(mn[We]),K&(St|Ht)&&delete Ce[mn[We].identifier],We++;if(!!Ir.length)return[Qe(wt.concat(Ir),"identifier",!0),Ir]}var Z=2500,se=25;function be(){tr.apply(this,arguments);var V=Q(this.handler,this);this.touch=new de(this.manager,V),this.mouse=new aa(this.manager,V),this.primaryTouch=null,this.lastTouches=[]}$(be,tr,{handler:function(K,fe,Ce){var We=Ce.pointerType==rt,wt=Ce.pointerType==$t;if(!(wt&&Ce.sourceCapabilities&&Ce.sourceCapabilities.firesTouchEvents)){if(We)Ue.call(this,fe,Ce);else if(wt&&ze.call(this,Ce))return;this.callback(K,fe,Ce)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ue(V,K){V&jt?(this.primaryTouch=K.changedPointers[0].identifier,je.call(this,K)):V&(St|Ht)&&je.call(this,K)}function je(V){var K=V.changedPointers[0];if(K.identifier===this.primaryTouch){var fe={x:K.clientX,y:K.clientY};this.lastTouches.push(fe);var Ce=this.lastTouches,We=function(){var wt=Ce.indexOf(fe);wt>-1&&Ce.splice(wt,1)};setTimeout(We,Z)}}function ze(V){for(var K=V.srcEvent.clientX,fe=V.srcEvent.clientY,Ce=0;Ce<this.lastTouches.length;Ce++){var We=this.lastTouches[Ce],wt=Math.abs(K-We.x),mn=Math.abs(fe-We.y);if(wt<=se&&mn<=se)return!0}return!1}var Ve=Ke(s.style,"touchAction"),mt=Ve!==p,ct="compute",Le="auto",nt="manipulation",Xe="none",Ye="pan-x",qt="pan-y",tt=en();function nn(V,K){this.manager=V,this.set(K)}nn.prototype={set:function(V){V==ct&&(V=this.compute()),mt&&this.manager.element.style&&tt[V]&&(this.manager.element.style[Ve]=V),this.actions=V.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var V=[];return Y(this.manager.recognizers,function(K){H(K.options.enable,[K])&&(V=V.concat(K.getTouchAction()))}),kn(V.join(" "))},preventDefaults:function(V){var K=V.srcEvent,fe=V.offsetDirection;if(this.manager.session.prevented){K.preventDefault();return}var Ce=this.actions,We=Se(Ce,Xe)&&!tt[Xe],wt=Se(Ce,qt)&&!tt[qt],mn=Se(Ce,Ye)&&!tt[Ye];if(We){var Ir=V.pointers.length===1,ei=V.distance<2,ui=V.deltaTime<250;if(Ir&&ei&&ui)return}if(!(mn&&wt)&&(We||wt&&fe&Cn||mn&&fe&bn))return this.preventSrc(K)},preventSrc:function(V){this.manager.session.prevented=!0,V.preventDefault()}};function kn(V){if(Se(V,Xe))return Xe;var K=Se(V,Ye),fe=Se(V,qt);return K&&fe?Xe:K||fe?K?Ye:qt:Se(V,nt)?nt:Le}function en(){if(!mt)return!1;var V={},K=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(fe){V[fe]=K?n.CSS.supports("touch-action",fe):!0}),V}var pn=1,Wt=2,vr=4,ln=8,Mn=ln,xn=16,Zt=32;function tn(V){this.options=J({},this.defaults,V||{}),this.id=st(),this.manager=null,this.options.enable=ye(this.options.enable,!0),this.state=pn,this.simultaneous={},this.requireFail=[]}tn.prototype={defaults:{},set:function(V){return J(this.options,V),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(V){if(R(V,"recognizeWith",this))return this;var K=this.simultaneous;return V=lr(V,this),K[V.id]||(K[V.id]=V,V.recognizeWith(this)),this},dropRecognizeWith:function(V){return R(V,"dropRecognizeWith",this)?this:(V=lr(V,this),delete this.simultaneous[V.id],this)},requireFailure:function(V){if(R(V,"requireFailure",this))return this;var K=this.requireFail;return V=lr(V,this),He(K,V)===-1&&(K.push(V),V.requireFailure(this)),this},dropRequireFailure:function(V){if(R(V,"dropRequireFailure",this))return this;V=lr(V,this);var K=He(this.requireFail,V);return K>-1&&this.requireFail.splice(K,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(V){return!!this.simultaneous[V.id]},emit:function(V){var K=this,fe=this.state;function Ce(We){K.manager.emit(We,V)}fe<ln&&Ce(K.options.event+li(fe)),Ce(K.options.event),V.additionalEvent&&Ce(V.additionalEvent),fe>=ln&&Ce(K.options.event+li(fe))},tryEmit:function(V){if(this.canEmit())return this.emit(V);this.state=Zt},canEmit:function(){for(var V=0;V<this.requireFail.length;){if(!(this.requireFail[V].state&(Zt|pn)))return!1;V++}return!0},recognize:function(V){var K=J({},V);if(!H(this.options.enable,[this,K])){this.reset(),this.state=Zt;return}this.state&(Mn|xn|Zt)&&(this.state=pn),this.state=this.process(K),this.state&(Wt|vr|ln|xn)&&this.tryEmit(K)},process:function(V){},getTouchAction:function(){},reset:function(){}};function li(V){return V&xn?"cancel":V&ln?"end":V&vr?"move":V&Wt?"start":""}function Sa(V){return V==Tn?"down":V==Bn?"up":V==Gn?"left":V==Nt?"right":""}function lr(V,K){var fe=K.manager;return fe?fe.get(V):V}function Hn(){tn.apply(this,arguments)}$(Hn,tn,{defaults:{pointers:1},attrTest:function(V){var K=this.options.pointers;return K===0||V.pointers.length===K},process:function(V){var K=this.state,fe=V.eventType,Ce=K&(Wt|vr),We=this.attrTest(V);return Ce&&(fe&Ht||!We)?K|xn:Ce||We?fe&St?K|ln:K&Wt?K|vr:Wt:Zt}});function Ta(){Hn.apply(this,arguments),this.pX=null,this.pY=null}$(Ta,Hn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Or},getTouchAction:function(){var V=this.options.direction,K=[];return V&Cn&&K.push(qt),V&bn&&K.push(Ye),K},directionTest:function(V){var K=this.options,fe=!0,Ce=V.distance,We=V.direction,wt=V.deltaX,mn=V.deltaY;return We&K.direction||(K.direction&Cn?(We=wt===0?zn:wt<0?Gn:Nt,fe=wt!=this.pX,Ce=Math.abs(V.deltaX)):(We=mn===0?zn:mn<0?Bn:Tn,fe=mn!=this.pY,Ce=Math.abs(V.deltaY))),V.direction=We,fe&&Ce>K.threshold&&We&K.direction},attrTest:function(V){return Hn.prototype.attrTest.call(this,V)&&(this.state&Wt||!(this.state&Wt)&&this.directionTest(V))},emit:function(V){this.pX=V.deltaX,this.pY=V.deltaY;var K=Sa(V.direction);K&&(V.additionalEvent=this.options.event+K),this._super.emit.call(this,V)}});function la(){Hn.apply(this,arguments)}$(la,Hn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(V){return this._super.attrTest.call(this,V)&&(Math.abs(V.scale-1)>this.options.threshold||this.state&Wt)},emit:function(V){if(V.scale!==1){var K=V.scale<1?"in":"out";V.additionalEvent=this.options.event+K}this._super.emit.call(this,V)}});function Xn(){tn.apply(this,arguments),this._timer=null,this._input=null}$(Xn,tn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Le]},process:function(V){var K=this.options,fe=V.pointers.length===K.pointers,Ce=V.distance<K.threshold,We=V.deltaTime>K.time;if(this._input=V,!Ce||!fe||V.eventType&(St|Ht)&&!We)this.reset();else if(V.eventType&jt)this.reset(),this._timer=O(function(){this.state=Mn,this.tryEmit()},K.time,this);else if(V.eventType&St)return Mn;return Zt},reset:function(){clearTimeout(this._timer)},emit:function(V){this.state===Mn&&(V&&V.eventType&St?this.manager.emit(this.options.event+"up",V):(this._input.timeStamp=M(),this.manager.emit(this.options.event,this._input)))}});function ua(){Hn.apply(this,arguments)}$(ua,Hn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(V){return this._super.attrTest.call(this,V)&&(Math.abs(V.rotation)>this.options.threshold||this.state&Wt)}});function qr(){Hn.apply(this,arguments)}$(qr,Hn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Cn|bn,pointers:1},getTouchAction:function(){return Ta.prototype.getTouchAction.call(this)},attrTest:function(V){var K=this.options.direction,fe;return K&(Cn|bn)?fe=V.overallVelocity:K&Cn?fe=V.overallVelocityX:K&bn&&(fe=V.overallVelocityY),this._super.attrTest.call(this,V)&&K&V.offsetDirection&&V.distance>this.options.threshold&&V.maxPointers==this.options.pointers&&C(fe)>this.options.velocity&&V.eventType&St},emit:function(V){var K=Sa(V.offsetDirection);K&&this.manager.emit(this.options.event+K,V),this.manager.emit(this.options.event,V)}});function ur(){tn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}$(ur,tn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[nt]},process:function(V){var K=this.options,fe=V.pointers.length===K.pointers,Ce=V.distance<K.threshold,We=V.deltaTime<K.time;if(this.reset(),V.eventType&jt&&this.count===0)return this.failTimeout();if(Ce&&We&&fe){if(V.eventType!=St)return this.failTimeout();var wt=this.pTime?V.timeStamp-this.pTime<K.interval:!0,mn=!this.pCenter||di(this.pCenter,V.center)<K.posThreshold;this.pTime=V.timeStamp,this.pCenter=V.center,!mn||!wt?this.count=1:this.count+=1,this._input=V;var Ir=this.count%K.taps;if(Ir===0)return this.hasRequireFailures()?(this._timer=O(function(){this.state=Mn,this.tryEmit()},K.interval,this),Wt):Mn}return Zt},failTimeout:function(){return this._timer=O(function(){this.state=Zt},this.options.interval,this),Zt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Mn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Pr(V,K){return K=K||{},K.recognizers=ye(K.recognizers,Pr.defaults.preset),new mi(V,K)}Pr.VERSION="2.0.7",Pr.defaults={domEvents:!1,touchAction:ct,enable:!0,inputTarget:null,inputClass:null,preset:[[ua,{enable:!1}],[la,{enable:!1},["rotate"]],[qr,{direction:Cn}],[Ta,{direction:Cn},["swipe"]],[ur],[ur,{event:"doubletap",taps:2},["tap"]],[Xn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Nn=1,Ui=2;function mi(V,K){this.options=J({},Pr.defaults,K||{}),this.options.inputTarget=this.options.inputTarget||V,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=V,this.input=si(this),this.touchAction=new nn(this,this.options.touchAction),Ol(this,!0),Y(this.options.recognizers,function(fe){var Ce=this.add(new fe[0](fe[1]));fe[2]&&Ce.recognizeWith(fe[2]),fe[3]&&Ce.requireFailure(fe[3])},this)}mi.prototype={set:function(V){return J(this.options,V),V.touchAction&&this.touchAction.update(),V.inputTarget&&(this.input.destroy(),this.input.target=V.inputTarget,this.input.init()),this},stop:function(V){this.session.stopped=V?Ui:Nn},recognize:function(V){var K=this.session;if(!K.stopped){this.touchAction.preventDefaults(V);var fe,Ce=this.recognizers,We=K.curRecognizer;(!We||We&&We.state&Mn)&&(We=K.curRecognizer=null);for(var wt=0;wt<Ce.length;)fe=Ce[wt],K.stopped!==Ui&&(!We||fe==We||fe.canRecognizeWith(We))?fe.recognize(V):fe.reset(),!We&&fe.state&(Wt|vr|ln)&&(We=K.curRecognizer=fe),wt++}},get:function(V){if(V instanceof tn)return V;for(var K=this.recognizers,fe=0;fe<K.length;fe++)if(K[fe].options.event==V)return K[fe];return null},add:function(V){if(R(V,"add",this))return this;var K=this.get(V.options.event);return K&&this.remove(K),this.recognizers.push(V),V.manager=this,this.touchAction.update(),V},remove:function(V){if(R(V,"remove",this))return this;if(V=this.get(V),V){var K=this.recognizers,fe=He(K,V);fe!==-1&&(K.splice(fe,1),this.touchAction.update())}return this},on:function(V,K){if(V!==p&&K!==p){var fe=this.handlers;return Y(Ne(V),function(Ce){fe[Ce]=fe[Ce]||[],fe[Ce].push(K)}),this}},off:function(V,K){if(V!==p){var fe=this.handlers;return Y(Ne(V),function(Ce){K?fe[Ce]&&fe[Ce].splice(He(fe[Ce],K),1):delete fe[Ce]}),this}},emit:function(V,K){this.options.domEvents&&Vi(V,K);var fe=this.handlers[V]&&this.handlers[V].slice();if(!(!fe||!fe.length)){K.type=V,K.preventDefault=function(){K.srcEvent.preventDefault()};for(var Ce=0;Ce<fe.length;)fe[Ce](K),Ce++}},destroy:function(){this.element&&Ol(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Ol(V,K){var fe=V.element;if(!!fe.style){var Ce;Y(V.options.cssProps,function(We,wt){Ce=Ke(fe.style,wt),K?(V.oldCssProps[Ce]=fe.style[Ce],fe.style[Ce]=We):fe.style[Ce]=V.oldCssProps[Ce]||""}),K||(V.oldCssProps={})}}function Vi(V,K){var fe=i.createEvent("Event");fe.initEvent(V,!0,!0),fe.gesture=K,K.target.dispatchEvent(fe)}J(Pr,{INPUT_START:jt,INPUT_MOVE:Yt,INPUT_END:St,INPUT_CANCEL:Ht,STATE_POSSIBLE:pn,STATE_BEGAN:Wt,STATE_CHANGED:vr,STATE_ENDED:ln,STATE_RECOGNIZED:Mn,STATE_CANCELLED:xn,STATE_FAILED:Zt,DIRECTION_NONE:zn,DIRECTION_LEFT:Gn,DIRECTION_RIGHT:Nt,DIRECTION_UP:Bn,DIRECTION_DOWN:Tn,DIRECTION_HORIZONTAL:Cn,DIRECTION_VERTICAL:bn,DIRECTION_ALL:Or,Manager:mi,Input:tr,TouchAction:nn,TouchInput:de,MouseInput:aa,PointerEventInput:Vo,TouchMouseInput:be,SingleTouchInput:D,Recognizer:tn,AttrRecognizer:Hn,Tap:ur,Pan:Ta,Swipe:qr,Pinch:la,Rotate:ua,Press:Xn,on:me,off:xe,each:Y,merge:B,extend:q,assign:J,inherit:$,bindFn:Q,prefixed:Ke});var Ap=typeof n!="undefined"?n:typeof self!="undefined"?self:{};Ap.Hammer=Pr,typeof p=="function"&&p.amd?p(function(){return Pr}):e.exports?e.exports=Pr:n[a]=Pr})(window,document,"Hammer")})(rC);var Uo=rC.exports;const iC=1,oC=2,Ex=4,tB={mousedown:iC,mousemove:oC,mouseup:Ex};function nB(e,n){for(let i=0;i<e.length;i++)if(n(e[i]))return!0;return!1}function rB(e){const n=e.prototype.handler;e.prototype.handler=function(a){const p=this.store;a.button>0&&a.type==="pointerdown"&&(nB(p,m=>m.pointerId===a.pointerId)||p.push(a)),n.call(this,a)}}function iB(e){e.prototype.handler=function(i){let a=tB[i.type];a&iC&&i.button>=0&&(this.pressed=!0),a&oC&&i.which===0&&(a=Ex),!!this.pressed&&(a&Ex&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[i],changedPointers:[i],pointerType:"mouse",srcEvent:i}))}}rB(Uo.PointerEventInput);iB(Uo.MouseInput);const oB=Uo.Manager,aB=Uo?[[Uo.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Uo.Rotate,{enable:!1}],[Uo.Pinch,{enable:!1}],[Uo.Swipe,{enable:!1}],[Uo.Pan,{threshold:0,enable:!1}],[Uo.Press,{enable:!1}],[Uo.Tap,{event:"doubletap",taps:2,enable:!1}],[Uo.Tap,{event:"anytap",enable:!1}],[Uo.Tap,{enable:!1}]]:null,aC={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},sB={doubletap:["tap"]},lB={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Sx={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},uB={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},sC={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},cB=typeof navigator!="undefined"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Cp=typeof window!="undefined"?window:global;let lC=!1;try{const e={get passive(){return lC=!0,!0}};Cp.addEventListener("test",e,e),Cp.removeEventListener("test",e,e)}catch{}const pB=cB.indexOf("firefox")!==-1,{WHEEL_EVENTS:hB}=Sx,uC="wheel",cC=4.000244140625,fB=40,dB=.25;class mB{constructor(n,i,a={}){this.element=n,this.callback=i,this.options=Object.assign({enable:!0},a),this.events=hB.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(p=>n.addEventListener(p,this.handleEvent,lC?{passive:!1}:!1))}destroy(){this.events.forEach(n=>this.element.removeEventListener(n,this.handleEvent))}enableEventType(n,i){n===uC&&(this.options.enable=i)}handleEvent(n){if(!this.options.enable)return;let i=n.deltaY;Cp.WheelEvent&&(pB&&n.deltaMode===Cp.WheelEvent.DOM_DELTA_PIXEL&&(i/=Cp.devicePixelRatio),n.deltaMode===Cp.WheelEvent.DOM_DELTA_LINE&&(i*=fB));const a={x:n.clientX,y:n.clientY};i!==0&&i%cC==0&&(i=Math.floor(i/cC)),n.shiftKey&&i&&(i=i*dB),this._onWheel(n,-i,a)}_onWheel(n,i,a){this.callback({type:uC,center:a,delta:i,srcEvent:n,pointerType:"mouse",target:n.target})}}const{MOUSE_EVENTS:yB}=Sx,pC="pointermove",hC="pointerover",fC="pointerout",dC="pointerleave";class gB{constructor(n,i,a={}){this.element=n,this.callback=i,this.pressed=!1,this.options=Object.assign({enable:!0},a),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=yB.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(p=>n.addEventListener(p,this.handleEvent))}destroy(){this.events.forEach(n=>this.element.removeEventListener(n,this.handleEvent))}enableEventType(n,i){n===pC&&(this.enableMoveEvent=i),n===hC&&(this.enableOverEvent=i),n===fC&&(this.enableOutEvent=i),n===dC&&(this.enableLeaveEvent=i)}handleEvent(n){this.handleOverEvent(n),this.handleOutEvent(n),this.handleLeaveEvent(n),this.handleMoveEvent(n)}handleOverEvent(n){this.enableOverEvent&&n.type==="mouseover"&&this.callback({type:hC,srcEvent:n,pointerType:"mouse",target:n.target})}handleOutEvent(n){this.enableOutEvent&&n.type==="mouseout"&&this.callback({type:fC,srcEvent:n,pointerType:"mouse",target:n.target})}handleLeaveEvent(n){this.enableLeaveEvent&&n.type==="mouseleave"&&this.callback({type:dC,srcEvent:n,pointerType:"mouse",target:n.target})}handleMoveEvent(n){if(this.enableMoveEvent)switch(n.type){case"mousedown":n.button>=0&&(this.pressed=!0);break;case"mousemove":n.which===0&&(this.pressed=!1),this.pressed||this.callback({type:pC,srcEvent:n,pointerType:"mouse",target:n.target});break;case"mouseup":this.pressed=!1;break}}}const{KEY_EVENTS:vB}=Sx,mC="keydown",yC="keyup";class _B{constructor(n,i,a={}){this.element=n,this.callback=i,this.options=Object.assign({enable:!0},a),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=vB.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),n.tabIndex=a.tabIndex||0,n.style.outline="none",this.events.forEach(p=>n.addEventListener(p,this.handleEvent))}destroy(){this.events.forEach(n=>this.element.removeEventListener(n,this.handleEvent))}enableEventType(n,i){n===mC&&(this.enableDownEvent=i),n===yC&&(this.enableUpEvent=i)}handleEvent(n){const i=n.target||n.srcElement;i.tagName==="INPUT"&&i.type==="text"||i.tagName==="TEXTAREA"||(this.enableDownEvent&&n.type==="keydown"&&this.callback({type:mC,srcEvent:n,key:n.key,target:n.target}),this.enableUpEvent&&n.type==="keyup"&&this.callback({type:yC,srcEvent:n,key:n.key,target:n.target}))}}const gC="contextmenu";class xB{constructor(n,i,a={}){this.element=n,this.callback=i,this.options=Object.assign({enable:!0},a),this.handleEvent=this.handleEvent.bind(this),n.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(n,i){n===gC&&(this.options.enable=i)}handleEvent(n){!this.options.enable||this.callback({type:gC,center:{x:n.clientX,y:n.clientY},srcEvent:n,pointerType:"mouse",target:n.target})}}const Tx=1,hg=2,Cx=4,bB={pointerdown:Tx,pointermove:hg,pointerup:Cx,mousedown:Tx,mousemove:hg,mouseup:Cx},wB=1,EB=2,SB=3,TB=0,CB=1,PB=2,IB=1,kB=2,MB=4;function AB(e){const n=bB[e.srcEvent.type];if(!n)return null;const{buttons:i,button:a,which:p}=e.srcEvent;let m=!1,s=!1,_=!1;return n===Cx||n===hg&&!Number.isFinite(i)?(m=p===wB,s=p===EB,_=p===SB):n===hg?(m=Boolean(i&IB),s=Boolean(i&MB),_=Boolean(i&kB)):n===Tx&&(m=a===TB,s=a===CB,_=a===PB),{leftButton:m,middleButton:s,rightButton:_}}function zB(e,n){const{srcEvent:i}=e;if(!e.center&&!Number.isFinite(i.clientX))return null;const a=e.center||{x:i.clientX,y:i.clientY},p=n.getBoundingClientRect(),m=p.width/n.offsetWidth||1,s=p.height/n.offsetHeight||1,_={x:(a.x-p.left-n.clientLeft)/m,y:(a.y-p.top-n.clientTop)/s};return{center:a,offsetCenter:_}}const vC={srcElement:"root",priority:0};class RB{constructor(n){this.eventManager=n,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}isEmpty(){return!this._active}add(n,i,a,p=!1,m=!1){const{handlers:s,handlersByElement:_}=this;a&&(typeof a!="object"||a.addEventListener)&&(a={srcElement:a}),a=a?Object.assign({},vC,a):vC;let b=_.get(a.srcElement);b||(b=[],_.set(a.srcElement,b));const C={type:n,handler:i,srcElement:a.srcElement,priority:a.priority};p&&(C.once=!0),m&&(C.passive=!0),s.push(C),this._active=this._active||!C.passive;let M=b.length-1;for(;M>=0&&!(b[M].priority>=C.priority);)M--;b.splice(M+1,0,C)}remove(n,i){const{handlers:a,handlersByElement:p}=this;for(let m=a.length-1;m>=0;m--){const s=a[m];if(s.type===n&&s.handler===i){a.splice(m,1);const _=p.get(s.srcElement);_.splice(_.indexOf(s),1),_.length===0&&p.delete(s.srcElement)}}this._active=a.some(m=>!m.passive)}handleEvent(n){if(this.isEmpty())return;const i=this._normalizeEvent(n);let a=n.srcEvent.target;for(;a&&a!==i.rootElement;){if(this._emit(i,a),i.handled)return;a=a.parentNode}this._emit(i,"root")}_emit(n,i){const a=this.handlersByElement.get(i);if(a){let p=!1;const m=()=>{n.handled=!0},s=()=>{n.handled=!0,p=!0},_=[];for(let b=0;b<a.length;b++){const{type:C,handler:M,once:O}=a[b];if(M(Object.assign({},n,{type:C,stopPropagation:m,stopImmediatePropagation:s})),O&&_.push(a[b]),p)break}for(let b=0;b<_.length;b++){const{type:C,handler:M}=_[b];this.remove(C,M)}}}_normalizeEvent(n){const i=this.eventManager.element;return Object.assign({},n,AB(n),zB(n,i),{handled:!1,rootElement:i})}}const LB={events:null,recognizers:null,recognizerOptions:{},Manager:oB,touchAction:"none",tabIndex:0};class OB{constructor(n=null,i={}){this.options=Object.assign({},LB,i),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(n);const{events:a}=i;a&&this.on(a)}setElement(n){if(this.element&&this.destroy(),this.element=n,!n)return;const{options:i}=this,a=i.Manager;this.manager=new a(n,{touchAction:i.touchAction,recognizers:i.recognizers||aB}).on("hammer.input",this._onBasicInput),i.recognizers||Object.keys(aC).forEach(p=>{const m=this.manager.get(p);m&&aC[p].forEach(s=>{m.recognizeWith(s)})});for(const p in i.recognizerOptions){const m=this.manager.get(p);if(m){const s=i.recognizerOptions[p];delete s.enable,m.set(s)}}this.wheelInput=new mB(n,this._onOtherEvent,{enable:!1}),this.moveInput=new gB(n,this._onOtherEvent,{enable:!1}),this.keyInput=new _B(n,this._onOtherEvent,{enable:!1,tabIndex:i.tabIndex}),this.contextmenuInput=new xB(n,this._onOtherEvent,{enable:!1});for(const[p,m]of this.events)m.isEmpty()||(this._toggleRecognizer(m.recognizerName,!0),this.manager.on(p,m.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(n,i,a){this._addEventHandler(n,i,a,!1)}once(n,i,a){this._addEventHandler(n,i,a,!0)}watch(n,i,a){this._addEventHandler(n,i,a,!1,!0)}off(n,i){this._removeEventHandler(n,i)}_toggleRecognizer(n,i){const{manager:a}=this;if(!a)return;const p=a.get(n);if(p&&p.options.enable!==i){p.set({enable:i});const m=sB[n];m&&!this.options.recognizers&&m.forEach(s=>{const _=a.get(s);i?(_.requireFailure(n),p.dropRequireFailure(s)):_.dropRequireFailure(n)})}this.wheelInput.enableEventType(n,i),this.moveInput.enableEventType(n,i),this.keyInput.enableEventType(n,i),this.contextmenuInput.enableEventType(n,i)}_addEventHandler(n,i,a,p,m){if(typeof n!="string"){a=i;for(const M in n)this._addEventHandler(M,n[M],a,p,m);return}const{manager:s,events:_}=this,b=sC[n]||n;let C=_.get(b);C||(C=new RB(this),_.set(b,C),C.recognizerName=uB[b]||b,s&&s.on(b,C.handleEvent)),C.add(n,i,a,p,m),C.isEmpty()||this._toggleRecognizer(C.recognizerName,!0)}_removeEventHandler(n,i){if(typeof n!="string"){for(const s in n)this._removeEventHandler(s,n[s]);return}const{events:a}=this,p=sC[n]||n,m=a.get(p);if(!!m&&(m.remove(n,i),m.isEmpty())){const{recognizerName:s}=m;let _=!1;for(const b of a.values())if(b.recognizerName===s&&!b.isEmpty()){_=!0;break}_||this._toggleRecognizer(s,!1)}}_onBasicInput(n){const{srcEvent:i}=n,a=lB[i.type];a&&this.manager.emit(a,n)}_onOtherEvent(n){this.manager.emit(n.type,n)}}function DB(e,n){var i,a,p,m=function(){return p=null,e.apply(i,a)};return function(){i=this,a=arguments,p&&clearTimeout(p),p=setTimeout(m,n)}}var Pp={transitionDuration:0},Px={transitionDuration:300,transitionEasing:function(n){return n},transitionInterpolator:new bx,transitionInterruption:td.BREAK},_C=5,FB=1.2,BB=.01,nd={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend","pinchcancel"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},xC=function(){function e(){var n=this;Jr(this,e),Oe(this,"events",[]),Oe(this,"mapState",void 0),Oe(this,"onViewportChange",void 0),Oe(this,"onStateChange",void 0),Oe(this,"mapStateProps",void 0),Oe(this,"eventManager",void 0),Oe(this,"scrollZoom",!0),Oe(this,"dragPan",!0),Oe(this,"dragRotate",!0),Oe(this,"doubleClickZoom",!0),Oe(this,"touchZoom",!0),Oe(this,"touchRotate",!1),Oe(this,"keyboard",!0),Oe(this,"_state",{isDragging:!1}),Oe(this,"_events",{}),Oe(this,"_transitionManager",new pg),Oe(this,"setState",function(i){Object.assign(n._state,i),n.onStateChange&&n.onStateChange(n._state)}),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=DB(this._onWheelEnd,100)}return jr(e,[{key:"handleEvent",value:function(i){switch(this.mapState=this.getMapState(),i.type){case"panstart":return this._onPanStart(i);case"panmove":return this._onPan(i);case"panend":return this._onPanEnd(i);case"pinchstart":return this._onPinchStart(i);case"pinchmove":return this._onPinch(i);case"pinchcancel":case"pinchend":return this._onPinchEnd(i);case"doubletap":return this._onDoubleTap(i);case"wheel":return this._onWheel(i);case"keydown":return this._onKeyDown(i);default:return!1}}},{key:"getCenter",value:function(i){var a=i.offsetCenter,p=a.x,m=a.y;return[p,m]}},{key:"isFunctionKeyPressed",value:function(i){var a=i.srcEvent;return Boolean(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}},{key:"updateViewport",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=this.mapState?this.mapState.getViewportProps():{},s=Object.assign({},i.getViewportProps(),a),_=Object.keys(s).some(function(b){return m[b]!==s[b]});_&&this.onViewportChange(s,p,m),this.setState(Object.assign({},i.getInteractiveState(),p))}},{key:"getMapState",value:function(i){return new Qf(Object.assign({},this.mapStateProps,this._state,i))}},{key:"setOptions",value:function(i){var a=i.onViewportChange,p=i.onStateChange,m=i.eventManager,s=m===void 0?this.eventManager:m,_=i.isInteractive,b=_===void 0?!0:_,C=i.scrollZoom,M=C===void 0?this.scrollZoom:C,O=i.dragPan,R=O===void 0?this.dragPan:O,Y=i.dragRotate,ee=Y===void 0?this.dragRotate:Y,J=i.doubleClickZoom,q=J===void 0?this.doubleClickZoom:J,B=i.touchZoom,$=B===void 0?this.touchZoom:B,Q=i.touchRotate,H=Q===void 0?this.touchRotate:Q,ye=i.keyboard,me=ye===void 0?this.keyboard:ye;this.onViewportChange=a,this.onStateChange=p;var xe=!this.mapStateProps||this.mapStateProps.height!==i.height;this.mapStateProps=i,xe&&this.updateViewport(new Qf(i)),this._transitionManager.processViewportChange(Object.assign({},i,{onStateChange:this.setState})),this.eventManager!==s&&(this.eventManager=s,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(nd.WHEEL,b&&M),this.toggleEvents(nd.PAN,b&&(R||ee)),this.toggleEvents(nd.PINCH,b&&($||H)),this.toggleEvents(nd.DOUBLE_TAP,b&&q),this.toggleEvents(nd.KEYBOARD,b&&me),this.scrollZoom=M,this.dragPan=R,this.dragRotate=ee,this.doubleClickZoom=q,this.touchZoom=$,this.touchRotate=H,this.keyboard=me}},{key:"toggleEvents",value:function(i,a){var p=this;this.eventManager&&i.forEach(function(m){p._events[m]!==a&&(p._events[m]=a,a?p.eventManager.on(m,p.handleEvent):p.eventManager.off(m,p.handleEvent))})}},{key:"_onPanStart",value:function(i){var a=this.getCenter(i),p=this.mapState.panStart({pos:a}).rotateStart({pos:a});return this.updateViewport(p,Pp,{isDragging:!0}),!0}},{key:"_onPan",value:function(i){return this.isFunctionKeyPressed(i)||i.rightButton?this._onPanRotate(i):this._onPanMove(i)}},{key:"_onPanEnd",value:function(i){var a=this.mapState.panEnd().rotateEnd();return this.updateViewport(a,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(i){if(!this.dragPan)return!1;var a=this.getCenter(i),p=this.mapState.pan({pos:a});return this.updateViewport(p,Pp,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(i){if(!this.dragRotate)return!1;var a=i.deltaX,p=i.deltaY,m=this.getCenter(i),s=Ll(m,2),_=s[1],b=_-p,C=this.mapState.getViewportProps(),M=C.width,O=C.height,R=a/M,Y=0;p>0?Math.abs(O-b)>_C&&(Y=p/(b-O)*FB):p<0&&b>_C&&(Y=1-_/b),Y=Math.min(1,Math.max(-1,Y));var ee=this.mapState.rotate({deltaScaleX:R,deltaScaleY:Y});return this.updateViewport(ee,Pp,{isRotating:!0}),!0}},{key:"_onWheel",value:function(i){if(!this.scrollZoom)return!1;i.preventDefault();var a=this.getCenter(i),p=i.delta,m=2/(1+Math.exp(-Math.abs(p*BB)));p<0&&m!==0&&(m=1/m);var s=this.mapState.zoom({pos:a,scale:m});return this.updateViewport(s,Pp,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(i){var a=this.getCenter(i),p=this.mapState.zoomStart({pos:a}).rotateStart({pos:a});return this._state.startPinchRotation=i.rotation,this.updateViewport(p,Pp,{isDragging:!0}),!0}},{key:"_onPinch",value:function(i){if(!this.touchZoom&&!this.touchRotate)return!1;var a=this.mapState;if(this.touchZoom){var p=i.scale,m=this.getCenter(i);a=a.zoom({pos:m,scale:p})}if(this.touchRotate){var s=i.rotation,_=this._state.startPinchRotation;a=a.rotate({deltaScaleX:-(s-_)/180})}return this.updateViewport(a,Pp,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(i){var a=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(a,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(i){if(!this.doubleClickZoom)return!1;var a=this.getCenter(i),p=this.isFunctionKeyPressed(i),m=this.mapState.zoom({pos:a,scale:p?.5:2});return this.updateViewport(m,Object.assign({},Px,{transitionInterpolator:new bx({around:a})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(i){if(!this.keyboard)return!1;var a=this.isFunctionKeyPressed(i),p=this.mapStateProps,m;switch(i.srcEvent.keyCode){case 189:a?m=this.getMapState({zoom:p.zoom-2}):m=this.getMapState({zoom:p.zoom-1});break;case 187:a?m=this.getMapState({zoom:p.zoom+2}):m=this.getMapState({zoom:p.zoom+1});break;case 37:a?m=this.getMapState({bearing:p.bearing-15}):m=this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:a?m=this.getMapState({bearing:p.bearing+15}):m=this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:a?m=this.getMapState({pitch:p.pitch+10}):m=this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:a?m=this.getMapState({pitch:p.pitch-10}):m=this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(m,Px)}}]),e}(),NB=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function UB(e){return"react-map-gl: `".concat(e,"` is removed.")}function VB(e){return"Use `".concat(e,"` instead.")}function bC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};NB.forEach(function(n){if(e.hasOwnProperty(n.old)){var i=UB(n.old);n.new&&(i="".concat(i," ").concat(VB(n.new))),console.warn(i)}})}var jB=Object.assign({},Tp.propTypes,{maxZoom:De.number,minZoom:De.number,maxPitch:De.number,minPitch:De.number,onViewStateChange:De.func,onViewportChange:De.func,onInteractionStateChange:De.func,transitionDuration:De.oneOfType([De.number,De.string]),transitionInterpolator:De.object,transitionInterruption:De.number,transitionEasing:De.func,onTransitionStart:De.func,onTransitionInterrupt:De.func,onTransitionEnd:De.func,scrollZoom:De.bool,dragPan:De.bool,dragRotate:De.bool,doubleClickZoom:De.bool,touchZoom:De.bool,touchRotate:De.bool,keyboard:De.bool,onHover:De.func,onClick:De.func,onDblClick:De.func,onContextMenu:De.func,onMouseDown:De.func,onMouseMove:De.func,onMouseUp:De.func,onTouchStart:De.func,onTouchMove:De.func,onTouchEnd:De.func,onMouseEnter:De.func,onMouseLeave:De.func,onMouseOut:De.func,onWheel:De.func,touchAction:De.string,clickRadius:De.number,interactiveLayerIds:De.array,getCursor:De.func,controller:De.instanceOf(xC)}),$B=function(n){var i=n.isDragging,a=n.isHovering;return i?"grabbing":a?"pointer":"grab"},qB=Object.assign({},Tp.defaultProps,Lu,pg.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(n){return n.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:$B}),wC=function(e){Ni(n,e),jr(n,null,[{key:"supported",value:function(){return Tp.supported()}}]);function n(i){var a;return Jr(this,n),a=Bi(this,Vr(n).call(this,i)),Oe(at(a),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),Oe(at(a),"_controller",void 0),Oe(at(a),"_eventManager",void 0),Oe(at(a),"_interactiveContext",void 0),Oe(at(a),"_width",0),Oe(at(a),"_height",0),Oe(at(a),"_eventCanvasRef",le.exports.createRef()),Oe(at(a),"_staticMapRef",le.exports.createRef()),Oe(at(a),"getMap",function(){return a._staticMapRef.current?a._staticMapRef.current.getMap():null}),Oe(at(a),"queryRenderedFeatures",function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.getMap();return s&&s.queryRenderedFeatures(p,m)}),Oe(at(a),"_onInteractionStateChange",function(p){var m=p.isDragging,s=m===void 0?!1:m;s!==a.state.isDragging&&(a._updateInteractiveContext({isDragging:s}),a.setState({isDragging:s}));var _=a.props.onInteractionStateChange;_&&_(p)}),Oe(at(a),"_onResize",function(p){var m=p.width,s=p.height;a._width=m,a._height=s,a._setControllerProps(a.props),a.props.onResize({width:m,height:s})}),Oe(at(a),"_onViewportChange",function(p,m,s){var _=a.props,b=_.onViewStateChange,C=_.onViewportChange;b&&b({viewState:p,interactionState:m,oldViewState:s}),C&&C(p,m,s)}),Oe(at(a),"_onLoad",function(p){a.setState({isLoaded:!0}),a.props.onLoad(p)}),Oe(at(a),"_onEvent",function(p,m){var s=a.props[p];s&&s(a._normalizeEvent(m))}),Oe(at(a),"_onPointerDown",function(p){switch(p.pointerType){case"touch":a._onEvent("onTouchStart",p);break;default:a._onEvent("onMouseDown",p)}}),Oe(at(a),"_onPointerUp",function(p){switch(p.pointerType){case"touch":a._onEvent("onTouchEnd",p);break;default:a._onEvent("onMouseUp",p)}}),Oe(at(a),"_onPointerMove",function(p){switch(p.pointerType){case"touch":a._onEvent("onTouchMove",p);break;default:a._onEvent("onMouseMove",p)}if(!a.state.isDragging){var m=a.props,s=m.onHover,_=m.interactiveLayerIds,b;p=a._normalizeEvent(p),a.state.isLoaded&&(_||s)&&(b=a._getFeatures({pos:p.point,radius:a.props.clickRadius})),s&&(p.features=b,s(p));var C=Boolean(_&&b&&b.length>0),M=C&&!a.state.isHovering,O=!C&&a.state.isHovering;M&&a._onEvent("onMouseEnter",p),O&&a._onEvent("onMouseLeave",p),(M||O)&&a.setState({isHovering:C})}}),Oe(at(a),"_onClick",function(p){var m=a.props,s=m.onClick,_=m.onNativeClick,b=m.onDblClick,C=m.doubleClickZoom,M=[],O=b||C;switch(p.type){case"anyclick":M.push(_),O||M.push(s);break;case"click":O&&M.push(s);break}M=M.filter(Boolean),M.length&&(p=a._normalizeEvent(p),p.features=a._getFeatures({pos:p.point,radius:a.props.clickRadius}),M.forEach(function(R){return R(p)}))}),bC(i),a._controller=i.controller||new xC,a._eventManager=new OB(null,{touchAction:i.touchAction}),a._updateInteractiveContext({isDragging:!1,eventManager:a._eventManager}),a}return jr(n,[{key:"componentDidMount",value:function(){var a=this._eventManager,p=this._eventCanvasRef.current;a.setElement(p),a.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:p})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(a){a=Object.assign({},a,a.viewState,{isInteractive:Boolean(a.onViewStateChange||a.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(a);var p=this._interactiveContext;p.onViewportChange=a.onViewportChange,p.onViewStateChange=a.onViewStateChange}},{key:"_getFeatures",value:function(a){var p=a.pos,m=a.radius,s,_={},b=this.getMap();if(this.props.interactiveLayerIds&&(_.layers=this.props.interactiveLayerIds),m){var C=m,M=[[p[0]-C,p[1]+C],[p[0]+C,p[1]-C]];s=b&&b.queryRenderedFeatures(M,_)}else s=b&&b.queryRenderedFeatures(p,_);return s}},{key:"_updateInteractiveContext",value:function(a){this._interactiveContext=Object.assign({},this._interactiveContext,a)}},{key:"_normalizeEvent",value:function(a){if(a.lngLat)return a;var p=a.offsetCenter,m=p.x,s=p.y,_=[m,s],b=new No(Object.assign({},this.props,{width:this._width,height:this._height}));return a.point=_,a.lngLat=b.unproject(_),a}},{key:"render",value:function(){var a=this.props,p=a.width,m=a.height,s=a.style,_=a.getCursor,b=Object.assign({position:"relative"},s,{width:p,height:m,cursor:_(this.state)});return le.exports.createElement(Sp.Provider,{value:this._interactiveContext},le.exports.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:b},le.exports.createElement(Tp,Pe({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),n}(le.exports.PureComponent);Oe(wC,"propTypes",jB);Oe(wC,"defaultProps",qB);function Ou(e,n){if(e===n)return!0;if(!e||!n)return!1;if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!Ou(e[i],n[i]))return!1;return!0}else if(Array.isArray(n))return!1;if(xp(e)==="object"&&xp(n)==="object"){var a=Object.keys(e),p=Object.keys(n);if(a.length!==p.length)return!1;for(var m=0,s=a;m<s.length;m++){var _=s[m];if(!n.hasOwnProperty(_)||!Ou(e[_],n[_]))return!1}return!0}return!1}var WB={type:De.string.isRequired,id:De.string},ZB=0,GB=function(e){Ni(n,e);function n(i){var a;return Jr(this,n),a=Bi(this,Vr(n).call(this,i)),Oe(at(a),"id",void 0),Oe(at(a),"type",void 0),Oe(at(a),"_map",null),Oe(at(a),"_sourceOptions",{}),Oe(at(a),"_updateSource",function(){var p=at(a),m=p.type,s=p._map;if(!!s){var _=at(a),b=_._sourceOptions,C=_.props;uo(!C.id||C.id===a.id,"source id changed"),uo(C.type===m,"source type changed");var M="",O=0;for(var R in C)R!=="children"&&R!=="id"&&!Ou(b[R],C[R])&&(b[R]=C[R],M=R,O++);var Y=a.getSource();if(!Y){a._createSource(b);return}!O||(m==="geojson"?Y.setData(b.data):m==="image"?Y.updateImage({url:b.url,coordinates:b.coordinates}):(m==="canvas"||m==="video")&&O===1&&M==="coordinates"?Y.setCoordinates(b.coordinates):console.warn("Unable to update <Source> prop: ".concat(M)))}}),a.id=i.id||"jsx-source-".concat(ZB++),a.type=i.type,a}return jr(n,[{key:"componentWillUnmount",value:function(){var a=this,p=this._map;p&&(p.off("styledata",this._updateSource),p.style&&requestAnimationFrame(function(){return p.removeSource(a.id)}))}},{key:"getSource",value:function(){var a=this._map;return a&&a.style&&a.getSource(this.id)}},{key:"_createSource",value:function(a){var p=this._map;p.style&&p.style._loaded&&p.addSource(this.id,a)}},{key:"_render",value:function(a){var p=this;return!this._map&&a.map&&(this._map=a.map,this._map.on("styledata",this._updateSource)),this._updateSource(),le.exports.Children.map(this.props.children,function(m){return le.exports.cloneElement(m,{source:p.id})})}},{key:"render",value:function(){return le.exports.createElement(Sp.Consumer,null,this._render.bind(this))}}]),n}(le.exports.PureComponent);Oe(GB,"propTypes",WB);function HB(e,n){if(e==null)return{};var i=on(e,n),a,p;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(p=0;p<m.length;p++)a=m[p],!(n.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(i[a]=e[a]))}return i}var XB={type:De.string.isRequired,id:De.string,source:De.string,beforeId:De.string};function KB(e,n,i,a){var p=i.layout,m=p===void 0?{}:p,s=i.paint,_=s===void 0?{}:s,b=i.filter,C=i.minzoom,M=i.maxzoom,O=i.beforeId,R=HB(i,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(O!==a.beforeId&&e.moveLayer(n,O),m!==a.layout)for(var Y in m)Ou(m[Y],a.layout[Y])||e.setLayoutProperty(n,Y,m[Y]);if(_!==a.paint)for(var ee in _)Ou(_[ee],a.paint[ee])||e.setPaintProperty(n,ee,_[ee]);Ou(b,a.filter)||e.setFilter(n,b),(C!==a.minzoom||M!==a.maxzoom)&&e.setLayerZoomRange(n,C,M);for(var J in R)Ou(R[J],a[J])||e.setLayerProperty(n,J,R[J])}var YB=0,JB=function(e){Ni(n,e);function n(i){var a;return Jr(this,n),a=Bi(this,Vr(n).call(this,i)),Oe(at(a),"id",void 0),Oe(at(a),"type",void 0),Oe(at(a),"_map",null),Oe(at(a),"_layerOptions",{}),Oe(at(a),"_updateLayer",function(){var p=a._map;if(!!p){var m=at(a),s=m.props,_=m._layerOptions;if(uo(!s.id||s.id===a.id,"layer id changed"),uo(s.type===a.type,"layer type changed"),!a.getLayer()){a._createLayer();return}try{KB(p,a.id,s,_),Object.assign(_,s)}catch(b){console.warn(b)}}}),a.id=i.id||"jsx-layer-".concat(YB++),a.type=i.type,a}return jr(n,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var a=this._map;a&&(a.off("styledata",this._updateLayer),a.style&&a.removeLayer(this.id))}},{key:"getLayer",value:function(){var a=this._map;return a&&a.style&&a.getLayer(this.id)}},{key:"_createLayer",value:function(){var a=this._map;if(a.style&&a.style._loaded){var p=Object.assign({},this.props);p.id=this.id,delete p.beforeId,a.addLayer(p,this.props.beforeId),this._layerOptions=p}}},{key:"_render",value:function(a){return!this._map&&a.map&&(this._map=a.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return le.exports.createElement(Sp.Consumer,null,this._render.bind(this))}}]),n}(le.exports.PureComponent);Oe(JB,"propTypes",XB);var QB={captureScroll:De.bool,captureDrag:De.bool,captureClick:De.bool,captureDoubleClick:De.bool},eN={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0},mr=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"_context",{}),Oe(at(a),"_events",null),Oe(at(a),"_containerRef",le.exports.createRef()),Oe(at(a),"_onScroll",function(_){a.props.captureScroll&&_.stopPropagation()}),Oe(at(a),"_onDragStart",function(_){a.props.captureDrag&&_.stopPropagation()}),Oe(at(a),"_onDblClick",function(_){a.props.captureDoubleClick&&_.stopPropagation()}),Oe(at(a),"_onClick",function(_){a.props.captureClick&&_.stopPropagation()}),a}return jr(n,[{key:"componentDidMount",value:function(){var a=this._containerRef.current;if(!!a){var p=this._context.eventManager;p&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick},p.watch(this._events,a))}}},{key:"componentWillUnmount",value:function(){var a=this._context.eventManager;a&&this._events&&a.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var a=this;return le.exports.createElement(Sp.Consumer,null,function(p){return a._context=p,a._render()})}}]),n}(le.exports.PureComponent);Oe(mr,"propTypes",QB);Oe(mr,"defaultProps",eN);function tN(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Vr(e),e!==null););return e}function Ip(){return typeof Reflect!="undefined"&&Reflect.get?Ip=Reflect.get:Ip=function(n,i,a){var p=tN(n,i);if(!!p){var m=Object.getOwnPropertyDescriptor(p,i);return m.get?m.get.call(arguments.length<3?n:a):m.value}},Ip.apply(this,arguments)}var nN=Object.assign({},mr.propTypes,{draggable:De.bool,onDrag:De.func,onDragEnd:De.func,onDragStart:De.func,offsetLeft:De.number,offsetTop:De.number}),rN=Object.assign({},mr.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),rd=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"state",{dragPos:null,dragOffset:null}),Oe(at(a),"_dragEvents",null),Oe(at(a),"_onDragStart",function(_){var b=a.props,C=b.draggable,M=b.captureDrag;if((C||M)&&_.stopPropagation(),!!C){var O=a._getDragEventPosition(_),R=a._getDragEventOffset(_);a.setState({dragPos:O,dragOffset:R}),a._setupDragEvents();var Y=a.props.onDragStart;if(Y&&R){var ee=Object.assign({},_);ee.lngLat=a._getDragLngLat(O,R),Y(ee)}}}),Oe(at(a),"_onDrag",function(_){_.stopPropagation();var b=a._getDragEventPosition(_);a.setState({dragPos:b});var C=a.props.onDrag,M=a.state.dragOffset;if(C&&M){var O=Object.assign({},_);O.lngLat=a._getDragLngLat(b,M),C(O)}}),Oe(at(a),"_onDragEnd",function(_){var b=a.state,C=b.dragPos,M=b.dragOffset;_.stopPropagation(),a.setState({dragPos:null,dragOffset:null}),a._removeDragEvents();var O=a.props.onDragEnd;if(O&&C&&M){var R=Object.assign({},_);R.lngLat=a._getDragLngLat(C,M),O(R)}}),Oe(at(a),"_onDragCancel",function(_){_.stopPropagation(),a.setState({dragPos:null,dragOffset:null}),a._removeDragEvents()}),a}return jr(n,[{key:"componentWillUnmount",value:function(){Ip(Vr(n.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var a=this._context.eventManager;!a||(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},a.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var a=this._context.eventManager;!a||!this._dragEvents||(a.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(a){var p=a.offsetCenter,m=p.x,s=p.y;return[m,s]}},{key:"_getDragEventOffset",value:function(a){var p=a.center,m=p.x,s=p.y,_=this._containerRef.current;if(_){var b=_.getBoundingClientRect();return[b.left-m,b.top-s]}return null}},{key:"_getDraggedPosition",value:function(a,p){return[a[0]+p[0],a[1]+p[1]]}},{key:"_getDragLngLat",value:function(a,p){var m=this.props,s=m.offsetLeft,_=m.offsetTop,b=this._getDraggedPosition(a,p),C=Ll(b,2),M=C[0],O=C[1];return this._context.viewport.unproject([M-s,O-_])}}]),n}(mr);Oe(rd,"propTypes",nN);Oe(rd,"defaultProps",rN);var EC=typeof window!="undefined"&&window.devicePixelRatio||1,id=function(n){return Math.round(n*EC)/EC},SC=function(n,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x";if(n===null)return i;var p=a==="x"?n.offsetWidth:n.offsetHeight;return id(i/100*p)/p*100},iN=Object.assign({},rd.propTypes,{className:De.string,longitude:De.number.isRequired,latitude:De.number.isRequired}),oN=Object.assign({},rd.defaultProps,{className:""}),Ix=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"_control",null),a}return jr(n,[{key:"_getPosition",value:function(){var a=this.props,p=a.longitude,m=a.latitude,s=a.offsetLeft,_=a.offsetTop,b=this.state,C=b.dragPos,M=b.dragOffset;if(C&&M)return this._getDraggedPosition(C,M);var O=this._context.viewport.project([p,m]),R=Ll(O,2),Y=R[0],ee=R[1];return Y+=s,ee+=_,[Y,ee]}},{key:"_render",value:function(){var a=this._getPosition(),p=Ll(a,2),m=p[0],s=p[1],_="translate(".concat(id(m),"px, ").concat(id(s),"px)"),b=this._containerRef.current;if(this._control&&b)b.style.transform=_;else{var C=this.props,M=C.className,O=C.draggable,R=this.state.dragPos,Y={position:"absolute",left:0,top:0,transform:_,cursor:O?R?"grabbing":"grab":"auto"};this._control=le.exports.createElement("div",{className:"mapboxgl-marker ".concat(M),ref:this._containerRef,style:Y},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,Ip(Vr(n.prototype),"render",this).call(this)}}]),n}(rd);Oe(Ix,"propTypes",iN);Oe(Ix,"defaultProps",oN);var od={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},aN=Object.keys(od);function sN(e){var n=e.x,i=e.y,a=e.width,p=e.height,m=e.selfWidth,s=e.selfHeight,_=e.anchor,b=e.padding,C=b===void 0?0:b,M=od[_],O=M.x,R=M.y,Y=i-R*s,ee=Y+s,J=.5;if(Y<C)for(;Y<C&&R>=J;)R-=J,Y+=J*s;else if(ee>p-C)for(;ee>p-C&&R<=1-J;)R+=J,ee-=J*s;var q=n-O*m,B=q+m,$=.5;if(R===.5&&(O=Math.floor(O),$=1),q<C)for(;q<C&&O>=$;)O-=$,q+=$*m;else if(B>a-C)for(;B>a-C&&O<=1-$;)O+=$,B-=$*m;return aN.find(function(Q){var H=od[Q];return H.x===O&&H.y===R})||_}var lN=Object.assign({},mr.propTypes,{className:De.string,longitude:De.number.isRequired,latitude:De.number.isRequired,altitude:De.number,offsetLeft:De.number,offsetTop:De.number,tipSize:De.number,closeButton:De.bool,closeOnClick:De.bool,anchor:De.oneOf(Object.keys(od)),dynamicPosition:De.bool,sortByDepth:De.bool,onClose:De.func}),uN=Object.assign({},mr.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),TC=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"_closeOnClick",!1),Oe(at(a),"_contentRef",le.exports.createRef()),Oe(at(a),"_onClick",function(_){if(a.props.captureClick&&_.stopPropagation(),a.props.closeOnClick||_.target.className==="mapboxgl-popup-close-button"){a.props.onClose();var b=a._context.eventManager;b&&b.once("click",function(C){return C.stopPropagation()},_.target)}}),a}return jr(n,[{key:"componentDidMount",value:function(){Ip(Vr(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(a,p){var m=this._context.viewport,s=this.props,_=s.anchor,b=s.dynamicPosition,C=s.tipSize,M=this._contentRef.current;return M&&b?sN({x:a,y:p,anchor:_,padding:C,width:m.width,height:m.height,selfWidth:M.clientWidth,selfHeight:M.clientHeight}):_}},{key:"_getContainerStyle",value:function(a,p,m,s){var _=this._context.viewport,b=this.props,C=b.offsetLeft,M=b.offsetTop,O=b.sortByDepth,R=od[s],Y=a+C,ee=p+M,J=this._containerRef.current,q=SC(J,-R.x*100),B=SC(J,-R.y*100,"y"),$={position:"absolute",transform:`
        translate(`.concat(q,"%, ").concat(B,`%)
        translate(`).concat(id(Y),"px, ").concat(id(ee),`px)
      `),display:void 0,zIndex:void 0};return O&&(m>1||m<-1||a<0||a>_.width||p<0||p>_.height?$.display="none":$.zIndex=Math.floor((1-m)/2*1e5)),$}},{key:"_renderTip",value:function(a){var p=this.props.tipSize;return le.exports.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:p}})}},{key:"_renderContent",value:function(){var a=this.props,p=a.closeButton,m=a.children,s=this._context.eventManager?null:this._onClick;return le.exports.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:s},p&&le.exports.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"\xD7"),m)}},{key:"_render",value:function(){var a=this.props,p=a.className,m=a.longitude,s=a.latitude,_=a.altitude,b=this._context.viewport.project([m,s,_]),C=Ll(b,3),M=C[0],O=C[1],R=C[2],Y=this._getPosition(M,O),ee=this._getContainerStyle(M,O,R,Y);return le.exports.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(Y," ").concat(p),style:ee,ref:this._containerRef},this._renderTip(Y),this._renderContent())}}]),n}(mr);Oe(TC,"propTypes",lN);Oe(TC,"defaultProps",uN);var cN=Object.assign({},mr.propTypes,{className:De.string,container:De.object}),pN=Object.assign({},mr.defaultProps,{className:"",container:null}),CC=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"state",{isFullscreen:!1,showButton:!1}),Oe(at(a),"_mapboxFullscreenControl",null),Oe(at(a),"_onFullscreenChange",function(){var _=!a._mapboxFullscreenControl._fullscreen;a._mapboxFullscreenControl._fullscreen=_,a.setState({isFullscreen:_})}),Oe(at(a),"_onClickFullscreen",function(){a._mapboxFullscreenControl._onClickFullscreen()}),a}return jr(n,[{key:"componentDidMount",value:function(){var a=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new js.FullscreenControl({container:a}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),Rl.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){Rl.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(a,p,m){return le.exports.createElement("button",{key:a,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(a),type:"button",title:p,onClick:m},le.exports.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var a=this.props.className,p=this.state.isFullscreen,m=p?"shrink":"fullscreen";return le.exports.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(a),ref:this._containerRef},this._renderButton(m,"Toggle fullscreen",this._onClickFullscreen))}}]),n}(mr);Oe(CC,"propTypes",cN);Oe(CC,"defaultProps",pN);var kp;function hN(){return kp!==void 0?Promise.resolve(kp):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(function(e){return kp=e.state!=="denied",kp}):(kp=Boolean(window.navigator.geolocation),Promise.resolve(kp))}var fN=Object.assign({},pg.defaultProps,{transitionDuration:500}),PC=function(){},dN=Object.assign({},mr.propTypes,{className:De.string,style:De.object,label:De.string,positionOptions:De.object,fitBoundsOptions:De.object,trackUserLocation:De.bool,showUserLocation:De.bool,onViewStateChange:De.func,onViewportChange:De.func,onGeolocate:De.func}),mN=Object.assign({},mr.defaultProps,{className:"",style:{},label:"Geolocate",positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),IC=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"state",{supportsGeolocation:!1,markerPosition:null}),Oe(at(a),"_mapboxGeolocateControl",null),Oe(at(a),"_geolocateButtonRef",le.exports.createRef()),Oe(at(a),"_setupMapboxGeolocateControl",function(_){if(!_){console.warn("Geolocation support is not available, the GeolocateControl will not be visible.");return}var b={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach(function(O){O in a.props&&a.props[O]!==null&&(b[O]=a.props[O])});var C=new js.GeolocateControl(b);a._mapboxGeolocateControl=C,C._watchState="OFF",C._geolocateButton=a._geolocateButtonRef.current,C.options.trackUserLocation&&C._geolocateButton&&C._geolocateButton.setAttribute("aria-pressed","false"),C._updateMarker=a._updateMarker,C._updateCamera=a._updateCamera,C._setup=!0;var M=a._context.eventManager;C.options.trackUserLocation&&M&&M.on("panstart",function(){C._watchState==="ACTIVE_LOCK"&&(C._watchState="BACKGROUND",C._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),C._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))}),C.on("geolocate",a.props.onGeolocate)}),Oe(at(a),"_onClickGeolocate",function(){var _=a._mapboxGeolocateControl;return _._map=a._context.map,a.props.showUserLocation&&(_.on("geolocate",a._updateMarker),_.on("trackuserlocationend",a._updateMarker)),a._mapboxGeolocateControl.trigger()}),Oe(at(a),"_updateMarker",function(_){_&&a.setState({markerPosition:_.coords})}),Oe(at(a),"_getBounds",function(_){var b=new js.LngLat(_.coords.longitude,_.coords.latitude),C=_.coords.accuracy,M=b.toBounds(C);return[[M._ne.lng,M._ne.lat],[M._sw.lng,M._sw.lat]]}),Oe(at(a),"_updateCamera",function(_){var b=a._context.viewport,C=a._getBounds(_),M=new No(b).fitBounds(C),O=M.longitude,R=M.latitude,Y=M.zoom,ee=Object.assign({},b,{longitude:O,latitude:R,zoom:Y}),J=new Qf(ee),q=Object.assign({},J.getViewportProps(),fN),B=a.props.onViewportChange||a._context.onViewportChange||PC,$=a.props.onViewStateChange||a._context.onViewStateChange||PC;$({viewState:q}),B(q)}),Oe(at(a),"_renderButton",function(_,b,C){return le.exports.createElement("button",{key:_,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(_),ref:a._geolocateButtonRef,type:"button",title:b,onClick:C},le.exports.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}),Oe(at(a),"_renderMarker",function(){var _=a.state.markerPosition,b=a.props.showUserLocation;return!_||!b?null:le.exports.createElement(Ix,{key:"location-maker",className:"mapboxgl-user-location-dot",longitude:_.longitude,latitude:_.latitude,onContextMenu:function(M){return M.preventDefault()},captureDrag:!1,captureDoubleClick:!1})}),a}return jr(n,[{key:"componentDidMount",value:function(){var a=this;hN().then(function(p){a.setState({supportsGeolocation:p}),a._setupMapboxGeolocateControl(p)})}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var a=this._mapboxGeolocateControl._geolocationWatchID;a!==void 0&&(window.navigator.geolocation.clearWatch(a),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var a=this.props,p=a.className,m=a.style,s=a.label;return le.exports.createElement("div",null,this._renderMarker(),le.exports.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(p),ref:this._containerRef,style:m,onContextMenu:function(b){return b.preventDefault()}},this._renderButton("geolocate",s,this._onClickGeolocate)))}}]),n}(mr);Oe(IC,"propTypes",dN);Oe(IC,"defaultProps",mN);function yN(e,n){for(var i=(e||"").split(".").map(Number),a=(n||"").split(".").map(Number),p=0;p<3;p++){var m=i[p]||0,s=a[p]||0;if(m<s)return-1;if(m>s)return 1}return 0}var kC=function(){},gN=Object.assign({},mr.propTypes,{className:De.string,onViewStateChange:De.func,onViewportChange:De.func,showCompass:De.bool,showZoom:De.bool,zoomInLabel:De.string,zoomOutLabel:De.string,compassLabel:De.string}),vN=Object.assign({},mr.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"}),_N=1,MC=2;function xN(e){return yN(e,"1.6.0")>=0?MC:_N}var AC=function(e){Ni(n,e);function n(i){var a;return Jr(this,n),a=Bi(this,Vr(n).call(this,i)),Oe(at(a),"_uiVersion",void 0),Oe(at(a),"_onZoomIn",function(){a._updateViewport({zoom:a._context.viewport.zoom+1})}),Oe(at(a),"_onZoomOut",function(){a._updateViewport({zoom:a._context.viewport.zoom-1})}),Oe(at(a),"_onResetNorth",function(){a._updateViewport({bearing:0,pitch:0})}),bC(i),a}return jr(n,[{key:"_updateViewport",value:function(a){var p=this._context.viewport,m=new Qf(Object.assign({},p,a)),s=Object.assign({},m.getViewportProps(),Px),_=this.props.onViewportChange||this._context.onViewportChange||kC,b=this.props.onViewStateChange||this._context.onViewStateChange||kC;b({viewState:s}),_(s)}},{key:"_renderCompass",value:function(){var a=this._context.viewport.bearing,p={transform:"rotate(".concat(-a,"deg)")};return this._uiVersion===MC?le.exports.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:p}):le.exports.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:p})}},{key:"_renderButton",value:function(a,p,m,s){return le.exports.createElement("button",{key:a,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(a),type:"button",title:p,onClick:m},s||le.exports.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var a=this.props,p=a.className,m=a.showCompass,s=a.showZoom,_=a.zoomInLabel,b=a.zoomOutLabel,C=a.compassLabel;if(!this._uiVersion){var M=this._context.map;this._uiVersion=xN(M&&M.version)}return le.exports.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(p),ref:this._containerRef},s&&this._renderButton("zoom-in",_,this._onZoomIn),s&&this._renderButton("zoom-out",b,this._onZoomOut),m&&this._renderButton("compass",C,this._onResetNorth,this._renderCompass()))}}]),n}(mr);Oe(AC,"propTypes",gN);Oe(AC,"defaultProps",vN);var bN=Object.assign({},mr.propTypes,{maxWidth:De.number,unit:De.oneOf(["imperial","metric","nautical"])}),wN=Object.assign({},mr.defaultProps,{maxWidth:100,unit:"metric"}),zC=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"_control",null),Oe(at(a),"_mapboxScaleControl",null),a}return jr(n,[{key:"componentDidMount",value:function(){var a=new js.ScaleControl;a._map=this._context.map,a._container=this._containerRef.current,this._mapboxScaleControl=a,this._update()}},{key:"_update",value:function(){var a=this._mapboxScaleControl;a&&(a.options=this.props,a._onMove())}},{key:"_render",value:function(){return this._control=this._control||le.exports.createElement("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),n}(mr);Oe(zC,"propTypes",bN);Oe(zC,"defaultProps",wN);var EN=Object.assign({},mr.propTypes,{redraw:De.func.isRequired}),SN={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},RC=function(e){Ni(n,e);function n(){var i,a;Jr(this,n);for(var p=arguments.length,m=new Array(p),s=0;s<p;s++)m[s]=arguments[s];return a=Bi(this,(i=Vr(n)).call.apply(i,[this].concat(m))),Oe(at(a),"_canvas",void 0),Oe(at(a),"_ctx",void 0),Oe(at(a),"_redraw",function(){var _=a._ctx;if(!!_){var b=ZT.devicePixelRatio||1;_.save(),_.scale(b,b);var C=a._context,M=C.viewport,O=C.isDragging;a.props.redraw({width:M.width,height:M.height,ctx:_,isDragging:O,project:M.project.bind(M),unproject:M.unproject.bind(M)}),_.restore()}}),a}return jr(n,[{key:"componentDidMount",value:function(){var a=this._containerRef.current;a&&(this._canvas=a,this._ctx=a.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var a=ZT.devicePixelRatio||1,p=this._context.viewport,m=p.width,s=p.height;return this._redraw(),le.exports.createElement("canvas",{ref:this._containerRef,width:m*a,height:s*a,style:{width:"".concat(m,"px"),height:"".concat(s,"px"),position:"absolute",left:0,top:0}})}}]),n}(mr);Oe(RC,"propTypes",EN);Oe(RC,"defaultProps",SN);var TN=Object.assign({},mr.propTypes,{redraw:De.func.isRequired,style:De.object}),CN={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},LC=function(e){Ni(n,e);function n(){return Jr(this,n),Bi(this,Vr(n).apply(this,arguments))}return jr(n,[{key:"_render",value:function(){var a=this._context,p=a.viewport,m=a.isDragging,s=Object.assign({position:"absolute",left:0,top:0,width:p.width,height:p.height},this.props.style);return le.exports.createElement("div",{ref:this._containerRef,style:s},this.props.redraw({width:p.width,height:p.height,isDragging:m,project:p.project.bind(p),unproject:p.unproject.bind(p)}))}}]),n}(mr);Oe(LC,"propTypes",TN);Oe(LC,"defaultProps",CN);var PN=Object.assign({},mr.propTypes,{redraw:De.func.isRequired,style:De.object}),IN={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},OC=function(e){Ni(n,e);function n(){return Jr(this,n),Bi(this,Vr(n).apply(this,arguments))}return jr(n,[{key:"_render",value:function(){var a=this._context,p=a.viewport,m=a.isDragging,s=Object.assign({position:"absolute",left:0,top:0},this.props.style);return le.exports.createElement("svg",{width:p.width,height:p.height,ref:this._containerRef,style:s},this.props.redraw({width:p.width,height:p.height,isDragging:m,project:p.project.bind(p),unproject:p.unproject.bind(p)}))}}]),n}(mr);Oe(OC,"propTypes",PN);Oe(OC,"defaultProps",IN);js&&js.setRTLTextPlugin;var DC={exports:{}};function kN(e,n){var i=e.getCenter(),a=e.getZoom(),p=e.getBearing(),m=e.getPitch();n.forEach(function(s){s.jumpTo({center:i,zoom:a,bearing:p,pitch:m})})}function MN(){var e,n=arguments.length;if(n===1)e=arguments[0];else{e=[];for(var i=0;i<n;i++)e.push(arguments[i])}var a=[];e.forEach(function(_,b){a[b]=s.bind(null,_,e.filter(function(C,M){return M!==b}))});function p(){e.forEach(function(_,b){_.on("move",a[b])})}function m(){e.forEach(function(_,b){_.off("move",a[b])})}function s(_,b){m(),kN(_,b),p()}return p(),function(){m(),a=[]}}var AN=MN,kx={exports:{}},Mp=typeof Reflect=="object"?Reflect:null,FC=Mp&&typeof Mp.apply=="function"?Mp.apply:function(n,i,a){return Function.prototype.apply.call(n,i,a)},fg;Mp&&typeof Mp.ownKeys=="function"?fg=Mp.ownKeys:Object.getOwnPropertySymbols?fg=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:fg=function(n){return Object.getOwnPropertyNames(n)};function zN(e){console&&console.warn&&console.warn(e)}var BC=Number.isNaN||function(n){return n!==n};function nr(){nr.init.call(this)}kx.exports=nr;kx.exports.once=DN;nr.EventEmitter=nr;nr.prototype._events=void 0;nr.prototype._eventsCount=0;nr.prototype._maxListeners=void 0;var NC=10;function dg(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(nr,"defaultMaxListeners",{enumerable:!0,get:function(){return NC},set:function(e){if(typeof e!="number"||e<0||BC(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");NC=e}});nr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};nr.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||BC(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function UC(e){return e._maxListeners===void 0?nr.defaultMaxListeners:e._maxListeners}nr.prototype.getMaxListeners=function(){return UC(this)};nr.prototype.emit=function(n){for(var i=[],a=1;a<arguments.length;a++)i.push(arguments[a]);var p=n==="error",m=this._events;if(m!==void 0)p=p&&m.error===void 0;else if(!p)return!1;if(p){var s;if(i.length>0&&(s=i[0]),s instanceof Error)throw s;var _=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw _.context=s,_}var b=m[n];if(b===void 0)return!1;if(typeof b=="function")FC(b,this,i);else for(var C=b.length,M=WC(b,C),a=0;a<C;++a)FC(M[a],this,i);return!0};function VC(e,n,i,a){var p,m,s;if(dg(i),m=e._events,m===void 0?(m=e._events=Object.create(null),e._eventsCount=0):(m.newListener!==void 0&&(e.emit("newListener",n,i.listener?i.listener:i),m=e._events),s=m[n]),s===void 0)s=m[n]=i,++e._eventsCount;else if(typeof s=="function"?s=m[n]=a?[i,s]:[s,i]:a?s.unshift(i):s.push(i),p=UC(e),p>0&&s.length>p&&!s.warned){s.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=e,_.type=n,_.count=s.length,zN(_)}return e}nr.prototype.addListener=function(n,i){return VC(this,n,i,!1)};nr.prototype.on=nr.prototype.addListener;nr.prototype.prependListener=function(n,i){return VC(this,n,i,!0)};function RN(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function jC(e,n,i){var a={fired:!1,wrapFn:void 0,target:e,type:n,listener:i},p=RN.bind(a);return p.listener=i,a.wrapFn=p,p}nr.prototype.once=function(n,i){return dg(i),this.on(n,jC(this,n,i)),this};nr.prototype.prependOnceListener=function(n,i){return dg(i),this.prependListener(n,jC(this,n,i)),this};nr.prototype.removeListener=function(n,i){var a,p,m,s,_;if(dg(i),p=this._events,p===void 0)return this;if(a=p[n],a===void 0)return this;if(a===i||a.listener===i)--this._eventsCount==0?this._events=Object.create(null):(delete p[n],p.removeListener&&this.emit("removeListener",n,a.listener||i));else if(typeof a!="function"){for(m=-1,s=a.length-1;s>=0;s--)if(a[s]===i||a[s].listener===i){_=a[s].listener,m=s;break}if(m<0)return this;m===0?a.shift():LN(a,m),a.length===1&&(p[n]=a[0]),p.removeListener!==void 0&&this.emit("removeListener",n,_||i)}return this};nr.prototype.off=nr.prototype.removeListener;nr.prototype.removeAllListeners=function(n){var i,a,p;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[n]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete a[n]),this;if(arguments.length===0){var m=Object.keys(a),s;for(p=0;p<m.length;++p)s=m[p],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=a[n],typeof i=="function")this.removeListener(n,i);else if(i!==void 0)for(p=i.length-1;p>=0;p--)this.removeListener(n,i[p]);return this};function $C(e,n,i){var a=e._events;if(a===void 0)return[];var p=a[n];return p===void 0?[]:typeof p=="function"?i?[p.listener||p]:[p]:i?ON(p):WC(p,p.length)}nr.prototype.listeners=function(n){return $C(this,n,!0)};nr.prototype.rawListeners=function(n){return $C(this,n,!1)};nr.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):qC.call(e,n)};nr.prototype.listenerCount=qC;function qC(e){var n=this._events;if(n!==void 0){var i=n[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}nr.prototype.eventNames=function(){return this._eventsCount>0?fg(this._events):[]};function WC(e,n){for(var i=new Array(n),a=0;a<n;++a)i[a]=e[a];return i}function LN(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function ON(e){for(var n=new Array(e.length),i=0;i<n.length;++i)n[i]=e[i].listener||e[i];return n}function DN(e,n){return new Promise(function(i,a){function p(s){e.removeListener(n,m),a(s)}function m(){typeof e.removeListener=="function"&&e.removeListener("error",p),i([].slice.call(arguments))}ZC(e,n,m,{once:!0}),n!=="error"&&FN(e,p,{once:!0})})}function FN(e,n,i){typeof e.on=="function"&&ZC(e,"error",n,i)}function ZC(e,n,i,a){if(typeof e.on=="function")a.once?e.once(n,i):e.on(n,i);else if(typeof e.addEventListener=="function")e.addEventListener(n,function p(m){a.once&&e.removeEventListener(n,p),i(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}(function(e){var n=AN,i=kx.exports.EventEmitter;function a(p,m,s,_){if(this.options=_||{},this._mapA=p,this._mapB=m,this._horizontal=this.options.orientation==="horizontal",this._onDown=this._onDown.bind(this),this._onMove=this._onMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._ev=new i,this._swiper=document.createElement("div"),this._swiper.className=this._horizontal?"compare-swiper-horizontal":"compare-swiper-vertical",this._controlContainer=document.createElement("div"),this._controlContainer.className=this._horizontal?"mapboxgl-compare mapboxgl-compare-horizontal":"mapboxgl-compare",this._controlContainer.className=this._controlContainer.className,this._controlContainer.appendChild(this._swiper),typeof s=="string"&&document.body.querySelectorAll){var b=document.body.querySelectorAll(s)[0];if(!b)throw new Error("Cannot find element with specified container selector.");b.appendChild(this._controlContainer)}else if(s instanceof Element&&s.appendChild)s.appendChild(this._controlContainer);else throw new Error("Invalid container specified. Must be CSS selector or HTML element.");this._bounds=m.getContainer().getBoundingClientRect();var C=(this._horizontal?this._bounds.height:this._bounds.width)/2;this._setPosition(C),this._clearSync=n(p,m),this._onResize=function(){this._bounds=m.getContainer().getBoundingClientRect(),this.currentPosition&&this._setPosition(this.currentPosition)}.bind(this),m.on("resize",this._onResize),this.options&&this.options.mousemove&&(p.getContainer().addEventListener("mousemove",this._onMove),m.getContainer().addEventListener("mousemove",this._onMove)),this._swiper.addEventListener("mousedown",this._onDown),this._swiper.addEventListener("touchstart",this._onDown)}a.prototype={_setPointerEvents:function(p){this._controlContainer.style.pointerEvents=p,this._swiper.style.pointerEvents=p},_onDown:function(p){p.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp))},_setPosition:function(p){p=Math.min(p,this._horizontal?this._bounds.height:this._bounds.width);var m=this._horizontal?"translate(0, "+p+"px)":"translate("+p+"px, 0)";this._controlContainer.style.transform=m,this._controlContainer.style.WebkitTransform=m;var s=this._horizontal?"rect(0, 999em, "+p+"px, 0)":"rect(0, "+p+"px, "+this._bounds.height+"px, 0)",_=this._horizontal?"rect("+p+"px, 999em, "+this._bounds.height+"px,0)":"rect(0, 999em, "+this._bounds.height+"px,"+p+"px)";this._mapA.getContainer().style.clip=s,this._mapB.getContainer().style.clip=_,this.currentPosition=p},_onMove:function(p){this.options&&this.options.mousemove&&this._setPointerEvents(p.touches?"auto":"none"),this._horizontal?this._setPosition(this._getY(p)):this._setPosition(this._getX(p))},_onMouseUp:function(){document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp),this.fire("slideend",{currentPosition:this.currentPosition})},_onTouchEnd:function(){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd)},_getX:function(p){p=p.touches?p.touches[0]:p;var m=p.clientX-this._bounds.left;return m<0&&(m=0),m>this._bounds.width&&(m=this._bounds.width),m},_getY:function(p){p=p.touches?p.touches[0]:p;var m=p.clientY-this._bounds.top;return m<0&&(m=0),m>this._bounds.height&&(m=this._bounds.height),m},setSlider:function(p){this._setPosition(p)},on:function(p,m){return this._ev.on(p,m),this},fire:function(p,m){return this._ev.emit(p,m),this},off:function(p,m){return this._ev.removeListener(p,m),this},remove:function(){this._clearSync(),this._mapB.off("resize",this._onResize);var p=this._mapA.getContainer();p&&(p.style.clip=null,p.removeEventListener("mousemove",this._onMove));var m=this._mapB.getContainer();m&&(m.style.clip=null,m.removeEventListener("mousemove",this._onMove)),this._swiper.removeEventListener("mousedown",this._onDown),this._swiper.removeEventListener("touchstart",this._onDown),this._controlContainer.remove()}},window.mapboxgl?mapboxgl.Compare=a:e.exports=a})(DC);var JN=DC.exports;function BN(e,n,i){var a=this,p=le.exports.useRef(null),m=le.exports.useRef(0),s=le.exports.useRef(null),_=le.exports.useRef([]),b=le.exports.useRef(),C=le.exports.useRef(),M=le.exports.useRef(e),O=le.exports.useRef(!0);M.current=e;var R=!n&&n!==0&&typeof window!="undefined";if(typeof e!="function")throw new TypeError("Expected a function");n=+n||0,i=i||{};var Y=!!i.leading,ee="trailing"in i?!!i.trailing:!0,J="maxWait"in i,q=J?Math.max(+i.maxWait||0,n):null;le.exports.useEffect(function(){return O.current=!0,function(){O.current=!1}},[]);var B=le.exports.useMemo(function(){var $=function(Te){var Se=_.current,Ne=b.current;return _.current=b.current=null,m.current=Te,C.current=M.current.apply(Ne,Se)},Q=function(Te,Se){R&&cancelAnimationFrame(s.current),s.current=R?requestAnimationFrame(Te):setTimeout(Te,Se)},H=function(Te){if(!O.current)return!1;var Se=Te-p.current,Ne=Te-m.current;return!p.current||Se>=n||Se<0||J&&Ne>=q},ye=function(Te){return s.current=null,ee&&_.current?$(Te):(_.current=b.current=null,C.current)},me=function(){var Te=Date.now();if(H(Te))return ye(Te);if(!!O.current){var Se=Te-p.current,Ne=Te-m.current,He=n-Se,yt=J?Math.min(He,q-Ne):He;Q(me,yt)}},xe=function(){for(var Te=[],Se=0;Se<arguments.length;Se++)Te[Se]=arguments[Se];var Ne=Date.now(),He=H(Ne);if(_.current=Te,b.current=a,p.current=Ne,He){if(!s.current&&O.current)return m.current=p.current,Q(me,n),Y?$(p.current):C.current;if(J)return Q(me,n),$(p.current)}return s.current||Q(me,n),C.current};return xe.cancel=function(){s.current&&(R?cancelAnimationFrame(s.current):clearTimeout(s.current)),m.current=0,_.current=p.current=b.current=s.current=null},xe.isPending=function(){return!!s.current},xe.flush=function(){return s.current?ye(Date.now()):C.current},xe},[Y,J,n,q,ee,R]);return B}function NN(e,n){return e===n}function GC(e){return typeof e=="function"?function(){return e}:e}function UN(e){var n=le.exports.useState(GC(e)),i=n[0],a=n[1],p=le.exports.useCallback(function(m){return a(GC(m))},[]);return[i,p]}function QN(e,n,i){var a=i&&i.equalityFn||NN,p=UN(e),m=p[0],s=p[1],_=BN(le.exports.useCallback(function(C){return s(C)},[s]),n,i),b=le.exports.useRef(e);return a(b.current,e)||(_(e),b.current=e),[m,_]}export{$N as A,WN as B,HN as F,jN as G,wC as I,JB as L,GN as M,ZN as P,u0 as R,KN as S,VN as T,Io as a,qN as b,PS as c,LS as d,Ml as e,XN as f,YN as g,JN as h,GB as i,Et as j,Ls as k,le as r,fn as s,QN as u};
